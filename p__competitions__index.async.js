"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[380],{28722:function(e,t,n){n.d(t,{Dw:function(){return h},Jx:function(){return m},eI:function(){return f},x7:function(){return x}});var r,a=n(15009),o=n.n(a),c=n(99289),i=n.n(c),l=n(9783),u=n.n(l),s=n(88610),d=n(46495),p=n(13805);function f(e){return new s.f({uri:e,cache:new d.h})}var m="https://api.thegraph.com/subgraphs/name/dalveytechaaron/fuji",v=(r={},u()(r,p.Qz,m),u()(r,p.bx,m),r),x=function(e){return v[e]||m},h=function(){var e=i()(o()().mark((function e(t,n){var r,a;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:JSON.stringify({query:n}),mode:"cors"}).catch((function(e){console.log("err",e)}));case 2:return r=e.sent,e.next=5,null==r?void 0:r.json();case 5:return a=e.sent,e.abrupt("return",(null==a?void 0:a.data)||{});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},91764:function(e,t,n){n.r(t),n.d(t,{default:function(){return X}});var r=n(5574),a=n.n(r),o=n(62435),c=n(71230),i=n(15746),l=n(96963),u=n(78621),s=n(34713),d=n(59734),p=Object.defineProperty,f=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,x=(e,t,n)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const h=e=>o.createElement("svg",((e,t)=>{for(var n in t||(t={}))m.call(t,n)&&x(e,n,t[n]);if(f)for(var n of f(t))v.call(t,n)&&x(e,n,t[n]);return e})({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o.createElement("path",{d:"M22 11.975a10 10 0 1 0-20 .05 10 10 0 0 0 20-.05Zm-9.718 5.024a.894.894 0 0 1-.004-1.25l2.85-2.882-8.838.023a.875.875 0 1 1-.005-1.75l8.75-.023-2.775-2.761a.884.884 0 1 1 1.246-1.254l4.932 4.932-4.919 4.962a.873.873 0 0 1-1.237.003Z",fill:"#9597B5"}));var b=n(38478),y={referral:"referral___ueWGH",arrow:"arrow___AqGme",content:"content___KdUBV",tabBarViewContainer:"tabBarViewContainer___zZe0M",card:"card___GxT84",cardTitle:"cardTitle___pwwBE",tabList:"tabList___pI4rC",tabItem:"tabItem___Xa_Rb",selected:"selected___lMnJA",table:"table___A078R"},_=n(97857),w=n.n(_),j=n(13769),g=n.n(j),k=n(58720),N=n(36139),C=n(90513),I="default___THebl",P="text___DYTKH",S="tableContainer___y6be9",O="tableTitle___FYLz4",E="table___kapbS",R=n(86074),A=["emptyText","title","className"],T=function(e){var t=e.text;return(0,R.jsxs)("div",{className:"df jcc aic fdc ".concat(I),children:[(0,R.jsx)(C.r,{}),(0,R.jsx)("span",{className:P,children:t})]})},Z=function(e){var t=e.emptyText,n=void 0===t?"No Data":t,r=e.title,a=e.className,o=g()(e,A);return r?(0,R.jsxs)("div",{className:"".concat(S," ").concat(a," bgc10"),children:[(0,R.jsx)("div",{className:"".concat(O," c200 f16 fw3"),children:r}),(0,R.jsx)(k.ZP,{renderEmpty:function(){return(0,R.jsx)(T,{text:n})},children:(0,R.jsx)(N.Z,w()(w()({},o),{},{className:E}))})]}):(0,R.jsx)(k.ZP,{renderEmpty:function(){return(0,R.jsx)(T,{text:n})},children:(0,R.jsx)(N.Z,w()({className:a},o))})},z=n(55952),V=n(610),B=n.n(V),L=n(61895),U=function(e){return e&&e.length>13?"".concat(e.slice(0,5),"...").concat(e.slice(e.length-4)):e};function D(e){return 1===e?1500:2===e?1e3:3===e?500:e<=50?42.53:"-"}function M(e){return e<=3?833.33:e<=10?214.28:e<=30?50:"-"}var $=n(79536),H=n(9783),G=n.n(H),J=n(94184),Y=n.n(J),q="tabList___N8r6S",F="tabItem___XtiRk",Q="selected___JfpgA",K=function(e){var t=e.options,n=void 0===t?[]:t,r=(e.defaultValue,e.value),a=e.onChange,o=e.className;return(0,R.jsx)("div",{className:"".concat(o," ").concat(q),children:n.map((function(e){return(0,R.jsx)("div",{onClick:function(){return a(e)},className:Y()(F,G()({},Q,r===e.value)),children:e.label})}))})},W=[{label:"Total ROI",value:1},{label:"Trade Profit",value:2}],X=function(){var e=(0,s.Ge)().account,t=(0,o.useState)(1),n=a()(t,2),r=n[0],p=n[1],f=(0,o.useState)([]),m=a()(f,2),v=m[0],x=m[1],_=(0,d.ZP)(e?"getCompetitionPageInfos":null,(function(){return(0,z.I)({account:e,roundId:1,orderBy:1===r?"pnl":"totalProfit"})})).data,w=(0,d.ZP)(e?"getUserCompetitionInfo":null,(function(){return(0,z.r)({account:e,roundId:1})})).data,j=function(e,t){var n,r,a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"-",i={title:"Trading Volume",tooltipContent:"",text1:(0,L.dp)(null==t?void 0:t.totalVolume,2).display({prefix:"$"}),text2:"your Volume ".concat((0,L.dp)(null==t||null===(n=t.user)||void 0===n?void 0:n.totalVolume,2).display({prefix:"$"}))},l={title:"BLP Supply",tooltipContent:"",text1:(0,L.dp)(null==t?void 0:t.LP,2).display({prefix:"$"}),text2:"Your supply ".concat((0,L.dp)(null==t||null===(r=t.user)||void 0===r?void 0:r.LP,2).display({prefix:"$"}))},u={title:"Prize Pool",tooltipContent:"",text1:(null==t?void 0:t.prizePool)||"-",text2:1===e?"Your Rank ".concat(o,", Prize ").concat(D(o)):"Your Rank ".concat(c,", Prize ").concat(M(c))},s={title:"Trades",tooltipContent:"",text1:null==t?void 0:t.trades,text2:"Your Trades ".concat(null==t||null===(a=t.user)||void 0===a?void 0:a.trades)};return 1===e?[i,l,u]:[i,s,u]}(r,_,null==w?void 0:w.tradeROIRank,null==w?void 0:w.profitRank),g=function(e){var t={title:"Rank",dataIndex:"rank",key:"rank",render:function(e,t,n){return n+1}},n={title:"Account",dataIndex:"account",key:"account",render:function(e){var t;return(0,R.jsxs)("div",{className:"df",children:[(0,R.jsx)(B(),{size:24,address:e}),(0,R.jsx)("span",{style:{marginLeft:"8px"},children:null!==(t=U(e))&&void 0!==t?t:"-"})]})}},r={title:"Cum. Size",dataIndex:"cumSize",key:"cumSize",render:function(e){return(0,L.dp)(e,2).display({prefix:"$"})}},a={title:"Cum. Collateral",dataIndex:"cumCollateral",key:"cumCollateral",render:function(e){return(0,L.dp)(e,2).display({prefix:"$"})}},o={title:"PNL",dataIndex:"PNL",render:function(e){return(0,L.dp)(e).display({prefix:"$"})}},c={title:"Prize",dataIndex:"Prize",key:"Prize",align:"right",render:function(t,n,r){return(0,R.jsxs)("span",{className:"cGreen tr",children:["$",1===e?D(r+1):M(r+1)]})}};return 1===e?[t,n,r,a,o,{title:"ROI",dataIndex:"ROI",render:function(e){return(0,L.dp)(e).display({prefix:"+",suffix:"%"})}},c]:[t,n,r,a,o,{title:"Reward",dataIndex:"reward",render:function(e){return(0,L.dp)(e).display({prefix:"$"})}},{title:"Total Profit",dataIndex:"totalProfit",key:"totalProfit"},c]}(r);return(0,o.useEffect)((function(){_&&_.list&&_.list.length&&x(_.list)}),[_]),(0,R.jsxs)("div",{className:y.referral,children:[(0,R.jsxs)("header",{children:[(0,R.jsx)("div",{className:y.arrow,onClick:function(){return u.m8.back()},children:(0,R.jsx)(h,{})}),(0,R.jsxs)("div",{className:y.content,children:[(0,R.jsx)("h1",{className:"df fdc c200",children:(0,R.jsx)(u._H,{id:"Competitions"})}),(0,R.jsx)("span",{className:"c120",children:(0,R.jsx)(u._H,{id:"CompetitionsSubtitle"})})]})]}),(0,R.jsxs)("div",{className:"".concat(y.tabBarViewContainer," df aic jcsb"),children:[(0,R.jsx)(K,{options:W,value:r,onChange:function(e){var t=e.value;return p(t)}}),(0,R.jsx)($.m,{className:"f18",startTime:null==_?void 0:_.startAt,endedTime:null==_?void 0:_.endedAt})]}),(0,R.jsx)(c.Z,{gutter:[24,12],children:j.map((function(e){return(0,R.jsx)(i.Z,{xs:24,md:12,lg:8,children:(0,R.jsxs)("div",{className:"".concat(y.card," df fdc br12 bgc10"),children:[(0,R.jsx)("div",{className:"fl1",children:(0,R.jsx)(l.Z,{title:"prompt text",children:(0,R.jsxs)("span",{className:"df aic c200",children:[(0,R.jsx)("span",{className:"dib",style:{marginRight:4},children:e.title}),(0,R.jsx)(b.r,{className:y.icon})]})})}),(0,R.jsxs)("div",{className:"df fdc fl1",children:[(0,R.jsx)("span",{className:"".concat(y.cardTitle," c200"),children:e.text1}),(0,R.jsx)("span",{className:"c100",children:e.text2})]})]})})}))}),(0,R.jsx)(Z,{className:y.table,title:"Rank List",size:"small",columns:g,dataSource:v,bordered:!1,pagination:!1})]})}},79536:function(e,t,n){n.d(t,{m:function(){return l}});var r=n(5574),a=n.n(r),o=n(62435),c=n(86074),i=function(e){var t=Math.floor(e/86400),n=Math.floor(e%86400/3600),r=Math.floor(e%3600/60),a=e%60,o="";return t>0&&(o+=t+"d "),n>0&&(o+=n+"h "),r>0&&(o+=r+"m "),a>0&&(o+=a+"s "),o.trim()},l=function(e){var t=e.className,n=e.startTime,r=e.endedTime,l=(0,o.useState)("Start At "),u=a()(l,2),s=u[0],d=u[1],p=(0,o.useState)("-"),f=a()(p,2),m=f[0],v=f[1];return(0,o.useEffect)((function(){if(n&&r){var e="",t=Math.round(Date.now()/1e3);return n>t?(d("Start After "),e=setInterval((function(){return v(i(Number(n)-t))}),1e3)):n<t&&r>t?(d("Ending in "),e=setInterval((function(){return v(i(Number(r)-t))}),1e3)):r<t&&(d("Ended"),v("")),function(){return clearInterval(e)}}}),[n,r]),(0,c.jsxs)("span",{className:"c100 ".concat(t),children:[s,(0,c.jsx)("span",{className:"c200",children:m})]})}},55952:function(e,t,n){n.d(t,{I:function(){return h},r:function(){return b}});var r=n(97857),a=n.n(r),o=n(15009),c=n.n(o),i=n(99289),l=n.n(i),u=n(70794),s=n(24069),d=n(28722),p=function(){var e=l()(c()().mark((function e(t){var n,r,o,i,l,u,p,f,m;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.account,r=t.limit,o=void 0===r?50:r,i=t.orderBy,l=void 0===i?"pnl":i,u=t.roundId,f="query CompetitionsQuery {\n      competitionSummaries(where: {roundId: ".concat(p=void 0===u?1:u,"}) {\n        lpSupply\n        endedAt\n        id\n        roundId\n        startAt\n        volume\n        trades\n        prizePool\n      }\n      competitionDetails(first: ").concat(o,", orderBy: ").concat(l,", where: {roundId: ").concat(p,'}) {\n        account\n        collateral\n        cumCollateral\n        cumSize\n        id\n        pnl\n        roundId\n        totalProfit\n      }\n      competitionUsers(where: {account: "').concat(n,'", roundId: ').concat(p,"}) {\n        account\n        id\n        lpSupply\n        volume\n        roundId\n        trades\n        pnl\n        totalProfit\n        cumCollateral\n      }\n    }\n  "),e.next=4,(0,d.Dw)(d.Jx,f);case 4:if(m=e.sent,console.log("---getCompetitionSummaries---",m),!m){e.next=8;break}return e.abrupt("return",(h=void 0,b=void 0,y=void 0,_=void 0,h=(c=m).competitionSummaries,b=c.competitionDetails,y=c.competitionUsers,_=h[0],a()(a()({},_),{},{startAt:Number(null==_?void 0:_.startAt),endedAt:Number(null==_?void 0:_.endedAt),LP:(0,s.dN)(null==_?void 0:_.lpSupply,6),totalVolume:(0,s.dN)(null==_?void 0:_.volume,18),user:x(y[0]),list:b.map(v)})));case 8:case"end":return e.stop()}var c,h,b,y,_}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=l()(c()().mark((function e(t){var n,r,a,o,i;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.account,r=t.roundId,a='\n    query CompetitionUsersQuery {\n      competitionUsers(where: {account: "'.concat(n,'", roundId: ').concat(r,"}) {\n        id\n        account\n        lpSupply\n        volume\n        roundId\n        trades\n        pnl\n        totalProfit\n        cumCollateral\n      }\n    }\n  "),e.next=4,(0,d.Dw)(d.Jx,a);case 4:if(o=e.sent,!(i=o.competitionUsers)||!i.length){e.next=8;break}return e.abrupt("return",x(i[0]));case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=l()(c()().mark((function e(t){var n,r,a,o,i;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.orderBy,r=t.limit,a=t.offset,o="query userCompetitionQuery {\n      competitionDetails(orderBy: ".concat(n,", skip: ").concat(a,", first: ").concat(r,") {\n        account\n        id\n        pnl\n        totalProfit\n        cumCollateral\n      }\n   }\n  "),e.next=4,(0,d.Dw)(d.Jx,o);case 4:if(!(i=e.sent)){e.next=7;break}return e.abrupt("return",i.competitionDetails.map(v));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var v=function(e){return a()(a()({},e),{},{PNL:e.pnl,cumCollateral:(0,s.dN)(e.cumCollateral,18),cumSize:(0,s.dN)(e.cumSize,18),totalProfit:(0,s.dN)(e.totalProfit,18),ROI:new u.O(e.pnl).div(e.cumCollateral)})},x=function(e){if(e)return a()(a()({},e),{},{LP:(0,s.dN)(null==e?void 0:e.lpSupply,6),totalVolume:(0,s.dN)(null==e?void 0:e.volume,18)})},h=function(){var e=l()(c()().mark((function e(t){var n;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=l()(c()().mark((function e(t){var n,r,o,i,u,s,d;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.account,r=t.roundId,e.next=3,f({account:n,roundId:r});case 3:if(o=e.sent){e.next=6;break}return e.abrupt("return",null);case 6:return i=a()(a()({},o),{},{profitRank:0,tradeROIRank:0}),u=function(){var e=l()(c()().mark((function e(){var t,r,a,o,i,l,u,s=arguments;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=s.length>0&&void 0!==s[0]?s[0]:"pnl",r=0,a=500,o=!1,i=0;case 5:if(o){e.next=23;break}return e.next=8,m({limit:a,offset:r,orderBy:t});case 8:l=e.sent,u=0;case 10:if(!(u<l.length)){e.next=18;break}if(l[u].account!==n){e.next=15;break}return o=!0,i=r+u+1,e.abrupt("break",18);case 15:u++,e.next=10;break;case 18:if(!o){e.next=20;break}return e.abrupt("return",i);case 20:r+=a,e.next=5;break;case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.prev=8,e.next=11,u("pnl");case 11:return(s=e.sent)&&(i.profitRank=s),e.next=15,u("totalProfit");case 15:return(d=e.sent)&&(i.tradeROIRank=d),e.abrupt("return",i);case 20:e.prev=20,e.t0=e.catch(8),console.log("getUserCompetitionInfo error:",e.t0);case 23:case"end":return e.stop()}}),e,null,[[8,20]])})));return function(t){return e.apply(this,arguments)}}()},90513:function(e,t,n){n.d(t,{r:function(){return u}});var r=n(62435),a=Object.defineProperty,o=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const u=e=>r.createElement("svg",((e,t)=>{for(var n in t||(t={}))c.call(t,n)&&l(e,n,t[n]);if(o)for(var n of o(t))i.call(t,n)&&l(e,n,t[n]);return e})({width:80,height:80,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{opacity:.12,fillRule:"evenodd",clipRule:"evenodd",d:"M66.668 46.667c0-18.41-14.924-33.334-33.333-33.334v5c15.648 0 28.333 12.686 28.333 28.334h5Zm-8.324 0c0-13.808-11.193-25-25-25h-.01v5.166h.012c10.954 0 19.833 8.88 19.833 19.834h5.165Zm-7.332 17.677a24.926 24.926 0 0 0 7.144-14.677H52.94a19.78 19.78 0 0 1-5.583 11.023l3.654 3.654ZM15.656 28.99a24.927 24.927 0 0 1 14.678-7.144v5.213a19.78 19.78 0 0 0-11.025 5.584l-3.653-3.653Zm17.679 34.344C42.539 63.333 50 55.871 50 46.667 50.002 37.462 42.54 30 33.335 30c-9.205 0-16.667 7.462-16.667 16.667h5C21.668 40.223 26.891 35 33.335 35 39.778 35 45 40.223 45 46.667c0 6.443-5.223 11.666-11.666 11.666v5Z",fill:"url(#default_svg__a)"}),r.createElement("rect",{x:1,y:1,width:78,height:78,rx:39,stroke:"url(#default_svg__b)",strokeOpacity:.12,strokeWidth:2}),r.createElement("defs",null,r.createElement("linearGradient",{id:"default_svg__a",x1:15.656,y1:13.333,x2:78.101,y2:30.645,gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#3CEAAA"}),r.createElement("stop",{offset:.771,stopColor:"#5C72FF"})),r.createElement("linearGradient",{id:"default_svg__b",x1:0,y1:0,x2:97.93,y2:27.149,gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#3CEAAA"}),r.createElement("stop",{offset:.771,stopColor:"#5C72FF"}))))},38478:function(e,t,n){n.d(t,{r:function(){return u}});var r=n(62435),a=Object.defineProperty,o=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const u=e=>r.createElement("svg",((e,t)=>{for(var n in t||(t={}))c.call(t,n)&&l(e,n,t[n]);if(o)for(var n of o(t))i.call(t,n)&&l(e,n,t[n]);return e})({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm.7-9V4.6H7.3V6h1.4Zm0 6V7.467H7.3V12h1.4Z",fill:"#797B96"}))}}]);