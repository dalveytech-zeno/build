"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[350],{27350:function(lr,J,i){i.d(J,{HV:function(){return hr},z6:function(){return br}});var w=i(17061),E=i.n(w),k=i(27424),I=i.n(k),V=i(861),T=i.n(V),$=i(18698),z=i.n($),L=i(17156),D=i.n(L),Q=i(94184),q=i.n(Q),B=i(62435),a=i(86074);function n(u){var o=u.href,l=u.children,g=u.className,c=q()("link-underline",g);return(0,a.jsx)("a",{href:o,className:c,target:"_blank",rel:"noopener noreferrer",children:l})}var d=n;function s(u){var o=(0,B.useState)(!1),l=I()(o,2),g=l[0],c=l[1];return(0,a.jsxs)("div",{className:"Toastify-debug",children:[(0,a.jsx)("span",{className:"Toastify-debug-button",onClick:function(){return c(function(f){return!f})},children:g?"Hide error":"Show error"}),g&&(0,a.jsx)("div",{className:"Toastify-debug-content",children:u.children})]})}var m=i(13805),h=i(24069);function C(u,o,l){return X.apply(this,arguments)}function X(){return X=D()(E()().mark(function u(o,l,g){var c,t,f,v;return E()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return c=m.qd[g],t=m.xW[g]||(0,h._b)(0),r.prev=2,r.next=5,l.getFeeData();case 5:r.next=9;break;case 7:r.prev=7,r.t0=r.catch(2);case 9:return r.next=11,l.getGasPrice();case 11:if(f=r.sent,!c){r.next=21;break}return f.gt(c)&&(c=f),r.next=16,l.getFeeData();case 16:if(v=r.sent,!(v&&v.maxPriorityFeePerGas)){r.next=21;break}return o.maxFeePerGas=c,o.maxPriorityFeePerGas=v.maxPriorityFeePerGas.add(t),r.abrupt("return");case 21:return o.gasPrice=f.add(t),r.abrupt("return");case 23:case"end":return r.stop()}},u,null,[[2,7]])})),X.apply(this,arguments)}function or(u,o){return Y.apply(this,arguments)}function Y(){return Y=D()(E()().mark(function u(o,l){var g,c,t,f,v,p,r=arguments;return E()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c=r.length>2&&r[2]!==void 0?r[2]:[],t=r.length>3?r[3]:void 0,f=(0,h._b)(0),v=t,v||(v=f),b.next=7,(g=o.estimateGas)[l].apply(g,T()(c).concat([{value:v}]));case 7:return p=b.sent,p.lt(22e3)&&(p=(0,h._b)(22e3)),b.abrupt("return",p.mul(11e3).div(1e4));case 10:case"end":return b.stop()}},u)})),Y.apply(this,arguments)}var cr=i(16330),_=i(71874),fr=i(74704),dr=i.n(fr),vr=i(38416),M=i.n(vr),F,rr="NOT_ENOUGH_FUNDS",er="USER_DENIED",ar="SLIPPAGE",nr="RPC_ERROR",tr="NETWORK_CHANGED",mr=(F={},M()(F,rr,[{msg:"not enough funds for gas"},{msg:"failed to execute call with revert code InsufficientGasFunds"}]),M()(F,er,[{msg:"User denied transaction signature"}]),M()(F,ar,[{msg:"Router: mark price lower than limit"},{msg:"Router: mark price higher than limit"}]),M()(F,tr,[{msg:"underlying network changed"}]),M()(F,nr,[{code:-32005},{msg:"Non-200 status code"},{msg:"Request limit exceeded"},{msg:"Internal JSON-RPC error"},{msg:"Response has no error or result"},{msg:"we can't execute this request"},{msg:"couldn't connect to the network"}]),F);function gr(u){var o;if(!u)return[];var l=((o=u.data)===null||o===void 0?void 0:o.message)||u.message,g=u.code;if(!l&&!g)return[];for(var c=0,t=Object.entries(mr);c<t.length;c++){var f=I()(t[c],2),v=f[0],p=f[1],r=dr()(p),A;try{for(r.s();!(A=r.n()).done;){var b=A.value,U=b.code&&g===b.code,y=b.msg&&l&&l.includes(b.msg);if(U||y)return[l,v,u.data]}}catch(j){r.e(j)}finally{r.f()}}return[l,null,u.data]}function hr(u,o,l,g,c){return Z.apply(this,arguments)}function Z(){return Z=D()(E()().mark(function u(o,l,g,c,t){var f,v,p,r,A,b,U,y,j,H,O,S,G,P,N;return E()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!Array.isArray(c)&&z()(c)==="object"&&t===void 0&&(t=c,c=[]),t||(t={}),v={},t.value&&(v.value=t.value),!t.gasLimit){e.next=9;break}e.t0=t.gasLimit,e.next=12;break;case 9:return e.next=11,or(l,g,c,v.value);case 11:e.t0=e.sent;case 12:return v.gasLimit=e.t0,e.next=15,C(v,l.provider,o);case 15:return e.next=17,l[g].apply(l,T()(c).concat([v]));case 17:return p=e.sent,r=(0,m.jY)(o)+"tx/"+p.hash,A=t.sentMsg||"Transaction sent.",_.U.success((0,a.jsxs)("div",{children:[A," ",(0,a.jsx)(d,{href:r}),(0,a.jsx)("br",{})]})),t.setPendingTxns&&(b=t.hideSuccessMsg?void 0:t.successMsg||"Transaction completed!",U={hash:p.hash,message:b},t.setPendingTxns(function(R){return[].concat(T()(R),[U])})),e.abrupt("return",p);case 25:e.prev=25,e.t1=e.catch(0),j=5e3,H=gr(e.t1),O=I()(H,3),S=O[0],G=O[1],P=O[2],e.t2=G,e.next=e.t2===rr?32:e.t2===tr?34:e.t2===er?36:e.t2===ar?38:e.t2===nr?40:44;break;case 32:return y=(0,a.jsxs)("div",{children:["There is not enough ETH in your account on Arbitrum to send this transaction.",(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(d,{href:"https://arbitrum.io/bridge-tutorial/",children:"Bridge ETH to Arbitrum"})]}),e.abrupt("break",46);case 34:return y=(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:["Your wallet is not connected to ",(0,m.qz)(o),"."]}),(0,a.jsx)("br",{}),(0,a.jsxs)("div",{className:"clickable underline",onClick:function(){return(0,cr.If)(o,!0)},children:["Switch to ",(0,m.qz)(o)]})]}),e.abrupt("break",46);case 36:return y="Transaction was cancelled.",e.abrupt("break",46);case 38:return y='The mark price has changed, consider increasing your Allowed Slippage by clicking on the "..." icon next to your address.',e.abrupt("break",46);case 40:return j=!1,N=(P==null||(f=P.error)===null||f===void 0?void 0:f.message)||(P==null?void 0:P.message)||S,y=(0,a.jsxs)("div",{children:["Transaction failed due to RPC error.",(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),"Please try changing the RPC url in your wallet settings."," ",(0,a.jsx)(d,{href:"https://gmxio.gitbook.io/gmx/trading#backup-rpc-urls",children:"More info"}),(0,a.jsx)("br",{}),N&&(0,a.jsx)(s,{children:N})]}),e.abrupt("break",46);case 44:j=!1,y=(0,a.jsxs)("div",{children:[t.failMsg||"Transaction failed",(0,a.jsx)("br",{}),S&&(0,a.jsx)(s,{children:S})]});case 46:throw _.U.error(y,{autoClose:j}),e.t1;case 48:case"end":return e.stop()}},u,null,[[0,25]])})),Z.apply(this,arguments)}var sr=i(19485),pr=i(77294),ir=i(1403);function ur(u){var o=u.provider,l=u.contractInfo,g=u.arg0,c=u.arg1,t=u.method,f=u.params,v=u.additionalArgs;if(sr.UJ(g)){var p=g,r=new pr.Contract(p,l.abi,o);return v?r[t].apply(r,T()(f.concat(v))):r[t].apply(r,T()(f))}if(o)return o[t].apply(o,[c].concat(T()(f)))}var br=function(o,l,g){return function(){for(var c=arguments.length,t=new Array(c),f=0;f<c;f++)t[f]=arguments[f];var v=t[0],p=t[1],r=t[2],A=t[3],b=t.slice(4),U=(0,ir.VH)(o,p),y=sr.UJ(r)?A:r,j=ur({provider:U,contractInfo:l,arg0:r,arg1:A,method:y,params:b,additionalArgs:g}),H=!0,O=function(){var S=D()(E()().mark(function G(P,N,K){var e,R;return E()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(H){x.next=2;break}return x.abrupt("return");case 2:if(H=!1,e=(0,ir.XJ)(p),e){x.next=7;break}return N(K),x.abrupt("return");case 7:console.info("using fallbackProvider for",y),R=ur({provider:e,contractInfo:l,arg0:r,arg1:A,method:y,params:b,additionalArgs:g}),R.then(function(W){return P(W)}).catch(function(W){console.error("fallback fetcher error",v,l.contractName,y,W),N(W)});case 10:case"end":return x.stop()}},G)}));return function(P,N,K){return S.apply(this,arguments)}}();return new Promise(function(){var S=D()(E()().mark(function G(P,N){return E()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:j.then(function(R){H=!1,P(R)}).catch(function(R){console.error("fetcher error",v,l.contractName,y,R),O(P,N,R)}),setTimeout(function(){O(P,N,"contractCall timeout")},2e3);case 2:case"end":return e.stop()}},G)}));return function(G,P){return S.apply(this,arguments)}}())}}},24069:function(lr,J,i){i.d(J,{H2:function(){return B},Jl:function(){return I},_b:function(){return k},dN:function(){return L},x6:function(){return $}});var w=i(2593),E=i(35553);function k(a){try{return w.O$.from(a)}catch(n){return console.error("bigNumberify error",n),w.O$.from(0)}}function I(a,n){return k(a).mul(k(10).pow(n))}var V=function(n){return parseFloat(n)===parseInt(n)?parseInt(n).toString():n},T=function(n,d){var s=n.toString();if(d===void 0)return s;if(d===0)return s.split(".")[0];var m=s.indexOf(".");if(m!==-1){var h=s.length-m-1;h>d&&(s=s.substr(0,s.length-(h-d)))}return s};function $(a){if(!a)return"...";var n=a.toString().split(".");return n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),n.join(".")}var z=function(n,d){var s=n.toString(),m=s.indexOf(".");if(m!==-1){var h=s.length-m-1;h<d&&(s=s.padEnd(s.length+(d-h),"0"))}else s=s+".0000";return s},L=function(n,d,s,m,h){if(h||(h="..."),n===void 0||n.toString().length===0)return h;s===void 0&&(s=4);var C=E.bM(n,d);return C=T(C,s),s!==0&&(C=z(C,s)),m?$(C):C},D=function(n,d,s,m,h){return!n||!n[d]?"...":L(n[d],s,m,h)},Q=function(n,d,s,m,h){return!n||!n[d]?"...":L(n[d],s,m,h)},q=function(n,d,s){if(!n)return"...";var m=ethers.utils.formatUnits(n,d);return m=T(m,s),V(m)},B=function(n,d){var s=parseFloat(n);if(!isNaN(s)){n=T(n,d);var m=E.vz(n,d);return k(m)}}}}]);
