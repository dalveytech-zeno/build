"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[967],{58336:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(90513),a="default___pVKee",s="icon___k3cAT",i=n(86074),o=function(e){var t=e.text;return(0,i.jsx)("div",{className:a,children:(0,i.jsxs)("div",{className:s,children:[(0,i.jsx)(r.r,{}),(0,i.jsx)("div",{children:t})]})})}},31917:function(e,t,n){n.d(t,{Z:function(){return d}});var r=n(62435),a=n(77438),s=n(33114),i="pagination___qS7Hi",o="button___th9PV",l=n(86074);function d(e){var t=e.data,n=e.pageIndex,d=e.setPageIndex,u=e._data,c=(0,r.useMemo)((function(){return n===Math.ceil((null==u?void 0:u.length)/s.I)}),[n,u]);return(0,l.jsxs)("div",{className:i,children:[n>s.Q&&(0,l.jsx)(a.Z,{className:o,type:"c20",onClick:function(){d(n-1)},children:(0,l.jsx)("div",{children:"Prev"})}),t&&t.length>=s.I&&!c&&(0,l.jsx)(a.Z,{className:o,type:"c20",onClick:function(){d(n+1)},children:(0,l.jsx)("div",{children:"Next"})})]})}},43711:function(e,t,n){n.d(t,{g:function(){return r},k:function(){return a}});var r="http://dei.io/share",a="https://twitter.com/intent/tweet"},9679:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(97857),a=n.n(r),s=n(92419),i=n(86074),o=function(e){return(0,i.jsx)(s.Z,a()(a()({},e),{},{getTooltipContainer:function(){return document.getElementById("root")}}))}},37432:function(e,t,n){n.d(t,{x:function(){return i}});var r=n(34713),a=n(13805),s=n(65334);function i(){var e=(0,r.Ge)().chainId;if(!e){var t=localStorage.getItem(s.HC);t&&((e=parseInt(t))||localStorage.removeItem(s.HC))}return e&&a.FQ.includes(e)||(e=a.rC),{chainId:e}}},28722:function(e,t,n){n.d(t,{Dw:function(){return x},Jx:function(){return y},eI:function(){return f},x7:function(){return h}});var r,a=n(15009),s=n.n(a),i=n(99289),o=n.n(i),l=n(9783),d=n.n(l),u=n(88610),c=n(46495),p=n(13805);function f(e){return new u.f({uri:e,cache:new c.h})}var y="https://api.thegraph.com/subgraphs/name/dalveytechaaron/fuji",m=(r={},d()(r,p.Qz,y),d()(r,p.bx,y),r),h=function(e){return m[e]||y},x=function(){var e=o()(s()().mark((function e(t,n){var r,a;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:JSON.stringify({query:n}),mode:"cors"}).catch((function(e){console.log("err",e)}));case 2:return r=e.sent,e.next=5,null==r?void 0:r.json();case 5:return a=e.sent,e.abrupt("return",(null==a?void 0:a.data)||{});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},96714:function(e,t,n){n.d(t,{P:function(){return a},m:function(){return r}});var r=function(e){if(!e)return"";var t,n=new Date(1e3*e);if(!((t=n)instanceof Date)||isNaN(+t))return"";var r=(null==n?void 0:n.getMonth())+1;return(r=(null==n?void 0:n.getMonth())>9?""+r:"0"+r)+"/"+((null==n?void 0:n.getDate())>9?null==n?void 0:n.getDate():"0"+(null==n?void 0:n.getDate()))+" "+((null==n?void 0:n.getHours())>9?null==n?void 0:n.getHours():"0"+(null==n?void 0:n.getHours()))+":"+((null==n?void 0:n.getMinutes())>9?null==n?void 0:n.getMinutes():"0"+(null==n?void 0:n.getMinutes()))},a="-"},82781:function(e,t,n){n.r(t),n.d(t,{default:function(){return dt}});var r,a=n(5574),s=n.n(a),i=n(34713),o=n(62435),l=n(97857),d=n.n(l),u=n(68400),c=n.n(u),p=n(17283),f=n(55580),y=n(28722),m={referralsSummaries:[{tradedVolume:"12345678901234567890",totalTradersReferred:18,totalRebates:"98765432109876543210",lastUpdateAt:1648429200}],referralsDetails:[{referralCode:"ABC123",tradedVolume:"98765432109876543210",tradersReferred:19,totalRebates:"12345678901234567890"}],referralsHistory:[{tradeTime:1648429200,amount:"98765432109876543210",txHash:"0x1234567890abcdef"},{tradeTime:1648411200,amount:"12345678901234567890",txHash:"0xabcdef1234567890"},{tradeTime:1648411200,amount:"12345678901234567890",txHash:"0xabcdef1234567890"}]},h={referralsSummaries:[{tradedVolume:"12345678901234567890",totalTradersReferred:18,totalRebates:"98765432109876543210",lastUpdateAt:1648429200}],referralsHistory:[{tradeTime:1648429200,amount:"98765432109876543210",txHash:"0x1234567890abcdef"},{tradeTime:1648411200,amount:"12345678901234567890",txHash:"0xabcdef1234567890"}]},x=(0,p.Ps)(r||(r=c()(["\n  query MyQuery($account: String!) {\n    referralsSummaries(orderDirection: desc, where: { account: $account }) {\n      tradedVolume\n      totalTradersReferred\n      totalRebates\n      lastUpdateAt\n    }\n    referralsDetails(orderBy: tradedVolume, orderDirection: desc, where: { account: $account }) {\n      referralCode\n      tradedVolume\n      tradersReferred\n      totalRebates\n    }\n    referralsHistories(orderBy: tradeTime, orderDirection: desc, where: { id: $account }) {\n      tradeTime\n      amount\n      txHash\n    }\n  }\n"])));var v=n(77438),b=n(9783),_=n.n(b),T=n(49808),j=n(94184),g=n.n(j),w="tabList___cNbRg",C="tabItem___eHmqz",N="selected___uh3dt",M="panel___afQe_",I=n(86074),R=function(e){var t=e.tabs,n=e.panels,r=(0,o.useState)(0),a=s()(r,2),i=a[0],l=a[1];return(0,I.jsxs)(T.O.Group,{defaultIndex:i,onChange:function(e){l(e)},children:[(0,I.jsx)(T.O.List,{className:w,children:t.map((function(e){return(0,I.jsx)(T.O,{className:function(e){var t=e.selected;return g()(C,_()({},N,t))},children:e.label})}))}),(0,I.jsx)(T.O.Panels,{children:n.map((function(e){return(0,I.jsx)(T.O.Panel,{children:(0,I.jsx)("div",{className:M,children:e.children})})}))})]})},D=n(15009),S=n.n(D),A=n(99289),E=n.n(A),k=n(12444),O=n.n(k),P=n(72004),L=n.n(P),H=n(31996),Z=n.n(H),U=n(26037),V=n.n(U),z=JSON.parse('{"Mt":[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"marginFeeBasisPoints","type":"uint256"},{"indexed":false,"internalType":"bytes32","name":"referralCode","type":"bytes32"},{"indexed":false,"internalType":"address","name":"referrer","type":"address"}],"name":"DecreasePositionReferral","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bytes32","name":"code","type":"bytes32"},{"indexed":false,"internalType":"address","name":"newAccount","type":"address"}],"name":"GovSetCodeOwner","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"marginFeeBasisPoints","type":"uint256"},{"indexed":false,"internalType":"bytes32","name":"referralCode","type":"bytes32"},{"indexed":false,"internalType":"address","name":"referrer","type":"address"}],"name":"IncreasePositionReferral","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"bytes32","name":"code","type":"bytes32"}],"name":"RegisterCode","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"address","name":"newAccount","type":"address"},{"indexed":false,"internalType":"bytes32","name":"code","type":"bytes32"}],"name":"SetCodeOwner","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"referrer","type":"address"},{"indexed":false,"internalType":"uint256","name":"discountShare","type":"uint256"}],"name":"SetReferrerDiscountShare","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"referrer","type":"address"},{"indexed":false,"internalType":"uint256","name":"tierId","type":"uint256"}],"name":"SetReferrerTier","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"tierId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"totalRebate","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"discountShare","type":"uint256"}],"name":"SetTier","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"bytes32","name":"code","type":"bytes32"}],"name":"SetTraderReferralCode","type":"event"},{"inputs":[],"name":"BASIS_POINTS","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"DEFAULT_CODE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"codeOwners","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"uint256","name":"_sizeDelta","type":"uint256"},{"internalType":"uint256","name":"_marginFeeBasisPoints","type":"uint256"}],"name":"emitDecreasePositionReferral","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"uint256","name":"_sizeDelta","type":"uint256"},{"internalType":"uint256","name":"_marginFeeBasisPoints","type":"uint256"}],"name":"emitIncreasePositionReferral","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32[]","name":"_codes","type":"bytes32[]"}],"name":"getCodeOwners","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"}],"name":"getTraderReferralInfo","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"},{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"_code","type":"bytes32"},{"internalType":"address","name":"_newAccount","type":"address"}],"name":"govSetCodeOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"referrerDiscountShares","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"referrerTiers","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"_code","type":"bytes32"}],"name":"registerCode","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"_code","type":"bytes32"},{"internalType":"address","name":"_newAccount","type":"address"}],"name":"setCodeOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_discountShare","type":"uint256"}],"name":"setReferrerDiscountShare","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_referrer","type":"address"},{"internalType":"uint256","name":"_tierId","type":"uint256"}],"name":"setReferrerTier","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_tierId","type":"uint256"},{"internalType":"uint256","name":"_totalRebate","type":"uint256"},{"internalType":"uint256","name":"_discountShare","type":"uint256"}],"name":"setTier","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"bytes32","name":"_code","type":"bytes32"}],"name":"setTraderReferralCode","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"_code","type":"bytes32"}],"name":"setTraderReferralCodeByUser","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"tiers","outputs":[{"internalType":"uint256","name":"totalRebate","type":"uint256"},{"internalType":"uint256","name":"discountShare","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"traderReferralCodes","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"}]}'),B=function(e){Z()(s,e);var t,n,r,a=V()(s);function s(e,t){return O()(this,s),a.call(this,e,t,z.Mt)}return L()(s,[{key:"getClassName",value:function(){return"Referral"}},{key:"getCodeOwners",value:(r=E()(S()().mark((function e(t){var n;return S()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.call("getCodeOwners",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"registerCode",value:function(e){return this.call("registerCode",e)}},{key:"setTraderReferralCodeByUser",value:(n=E()(S()().mark((function e(t){return S()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.call("setTraderReferralCodeByUser",t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"getTraderReferralInfo",value:(t=E()(S()().mark((function e(t){var n;return S()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.call("getTraderReferralInfo",t);case 2:return n=e.sent,e.abrupt("return",n[0]);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),s}(n(76935).k);var F=function(){var e=(0,i.Ge)(),t=e.library,n=e.chainId,r=(0,o.useState)(null),a=s()(r,2),l=a[0],d=a[1];return(0,o.useEffect)((function(){if(t&&n){var e=new B(t,n);d(e)}}),[t,n]),l},Q="description___kIg7i",G="refferals___nzfyG",W="header___D43OF",Y="title___Tkeic",q="subTitle___DYN7h",$="secondTitle___dJEYr",J="content___Hp_dn",K="wrapper___aQpuh",X=n(68863),ee=n(74595),te=n(37432),ne=n(71874);function re(e,t){var n=(0,o.useState)(e),r=s()(n,2),a=r[0],i=r[1];return(0,o.useEffect)((function(){var n=setTimeout((function(){i(e)}),t);return function(){clearTimeout(n)}}),[e,t]),a}var ae=n(20238);function se(e){return e===ae.dE}function ie(e,t,n){return oe.apply(this,arguments)}function oe(){return(oe=E()(S()().mark((function e(t,n,r){var a,s;return S()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,f.Do)(t),e.next=3,r.getCodeOwners([a]);case 3:return s=e.sent,e.abrupt("return",!se(s[0]));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var le=/^\w+$/,de=function(e,t,n){var r=(0,o.useState)(!1),a=s()(r,2),i=a[0],l=a[1],d=(0,o.useState)(!1),u=s()(d,2),c=u[0],p=u[1];return(0,o.useEffect)((function(){var r=!1;function a(){return(a=E()(S()().mark((function a(){var s;return S()().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(""!==e&&le.test(e)&&null!==n){a.next=4;break}return l(!1),p(!1),a.abrupt("return");case 4:return l(!0),a.next=7,ie(e,t,n);case 7:s=a.sent,r||(p(s),l(!1));case 9:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return function(){a.apply(this,arguments)}(),function(){r=!0}}),[e,t]),[i,c]},ue="text___rY7Ma",ce="title___xZst1",pe="subTitle___pa3Ra",fe="btn___R9fwX",ye="input___Kz9z3",me="editInput___wHn9w",he="editText___SHSUA",xe=function(e){var t,n=e.type,r=void 0===n?"add":n,a=e.code,l=ee.I.useContainer().setWalletVisible,d=(0,i.Ge)().account,u=(0,te.x)().chainId,c=F(),p=(0,o.useState)(""),y=s()(p,2),m=y[0],h=y[1],x=re(m,300),b="edit"===r,T=de(x,u,c),j=s()(T,2),w=j[0],C=j[1],N=(0,o.useState)(!1),M=s()(N,2),R=M[0],D=M[1];function A(){return(A=E()(S()().mark((function e(){var t,n;return S()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==c){e.next=2;break}return e.abrupt("return");case 2:return D(!0),e.prev=3,e.next=6,c.setTraderReferralCodeByUser((0,f.Do)(m));case 6:return t=e.sent,e.next=9,t.wait();case 9:1===e.sent.status&&(ne.U.success("Referral code updated!"),h(""),close()),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(3),n=b?"Referral code updated failed.":"Adding referral code failed.",ne.U.error(n),console.error(e.t0);case 18:return e.prev=18,D(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[3,13,18,21]])})))).apply(this,arguments)}return(0,I.jsxs)("div",{children:[!b&&(0,I.jsxs)("div",{className:ue,children:[(0,I.jsx)("div",{className:ce,children:"Enter Referral Code"}),(0,I.jsx)("div",{className:pe,children:"Please input a referral code to benefit from fee discounts."})]}),(0,I.jsx)(X.Z,{className:g()((t={},_()(t,ye,!b),_()(t,me,b),t)),placeholder:"Enter Referral Code",value:m,onChange:function(e){return h(e.target.value)}}),!d&&(0,I.jsx)(v.Z,{className:fe,href:"#",onClick:function(){return l(!0)},children:"Connect Wallet"}),b&&(0,I.jsx)("div",{className:he,children:(0,I.jsx)("div",{className:pe,children:"Please input a referral code to benefit from fee discounts."})}),(0,I.jsx)("div",{children:d&&(0,I.jsx)(v.Z,{className:fe,size:"large",disabled:!(""!==m&&!R&&!w&&C&&m!==a),onClick:function(){return A.apply(this,arguments)},children:(0,I.jsx)("span",{children:function(){var e="edit"===r;return e&&m===a?"Same as current active code":!e&&R?"Submitting...":R?"Updating...":""===m?"Enter Referral Code":w?"Checking code...":C?e?"Update":"Submit":"Referral Code does not exist"}()})})})]})},ve="wrapper___iieTK",be="text___kQsmL",_e="title___nsEXJ",Te="subTitle___U3z90",je="btn___WrCgr",ge="input___U043h",we="modalForm___v6SWv",Ce=function(e){var t=e.isModal,n=void 0!==t&&t,r=e.successCb,a=ee.I.useContainer().setWalletVisible,l=(0,i.Ge)(),d=l.account,u=l.library,c=(0,o.useState)(""),p=s()(c,2),y=p[0],m=p[1],h=(0,te.x)().chainId,x=F(),b=re(y,300),_=de(b,h,x),T=s()(_,2),j=T[0],g=T[1],w=(0,o.useState)(!1),C=s()(w,2),N=C[0],M=C[1];function R(){return N?"Creating...":""===y?"Enter a Code":j?"Checking code...":g?"Code already taken":"Create"}function D(){return!(""===y||N||j||g)}var A=function(){var e=E()(S()().mark((function e(){var t,n,a,s;return S()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y){e.next=2;break}return e.abrupt("return");case 2:return t=(0,f.Do)(y),n=new B(u,h),e.prev=4,e.next=7,n.registerCode(t);case 7:return a=e.sent,e.next=10,a.wait();case 10:s=e.sent,console.log("receipt",s),1===s.status&&(ne.U.success("Referral code added!"),r()),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(4),"Create code failed.",ne.U.error("Create code failed."),console.error(e.t0);case 20:return e.prev=20,M(!1),e.finish(20);case 23:console.log("onSubmit");case 24:case"end":return e.stop()}}),e,null,[[4,15,20,23]])})));return function(){return e.apply(this,arguments)}}();return n?(0,I.jsxs)("div",{className:we,children:[(0,I.jsx)(X.Z,{className:ge,value:y,placeholder:"Enter a Code",onChange:function(e){m(e.target.value)}}),(0,I.jsx)("div",{className:be,children:"Looks like you don't have a referral code to give out. Enter a code below and hit submit to create it on-chain."}),!d&&(0,I.jsx)(v.Z,{className:je,href:"#",onClick:function(){return a(!0)},children:"Connect Wallet"}),d&&(0,I.jsx)(v.Z,{className:je,type:"c20",disabled:!D(),onClick:A,children:R()})]}):(0,I.jsxs)("div",{className:ve,children:[(0,I.jsxs)("div",{className:be,children:[(0,I.jsx)("div",{className:_e,children:"Generate Referral Code"}),(0,I.jsx)("div",{className:Te,children:"Looks like you don't have a referral code to give out. Enter a code below and hit submit to create it on-chain."})]}),(0,I.jsx)(X.Z,{className:ge,placeholder:"Enter a Code",value:y,onChange:function(e){return m(e.target.value)}}),!d&&(0,I.jsx)(v.Z,{className:je,href:"#",onClick:function(){return a(!0)},children:"Connect Wallet"}),d&&(0,I.jsx)(v.Z,{className:je,type:"c20",disabled:!D(),onClick:A,children:R()})]})},Ne=n(69499),Me=n(82327),Ie=n(74855),Re=n.n(Ie),De=n(33114),Se=n(63215),Ae=n(4343),Ee=n(58336),ke=n(31917),Oe=n(43711),Pe="table___wNYvp",Le="tableWrapper___q8nyw",He="tableTitle___x471S",Ze="referralCode___zZQHR",Ue=function(e){var t=e.data,n=e.openMdl,r=(0,o.useState)(De.Q),a=s()(r,2),i=a[0],l=a[1],d=[{title:"REFERRAL CODE",width:"20%",dataIndex:"referralCode",render:function(e){return(0,I.jsxs)("div",{className:Ze,children:[(0,I.jsx)("span",{children:e}),(0,I.jsx)(Re(),{text:e,onCopy:function(){ne.U.success("Code copied to your clipboard")},children:(0,I.jsx)(Se.r,{})}),(0,I.jsx)(Ae.r,{onClick:function(t){return function(e,t){e.preventDefault();var n="".concat("https://dalveytech.github.io/depx-view-build","/#/trade?ref=").concat(t),r="".concat(Oe.k,"?text=").concat("Trade ETH/USD and other top cryptocurrencies with up to 100x leverage directly from your wallet. @dei.io","&url=").concat(encodeURIComponent(n));window.open(r,"_blank")}(t,e)}})]})}},{title:"TOTAL VOLUME",width:"20%",dataIndex:"tradedVolume"},{title:"TRADERS REFERRED",width:"30%",dataIndex:"tradersReferred"},{title:"TOTAL REBATES",width:"30%",dataIndex:"totalRebates"}];return(0,I.jsxs)("div",{className:Le,children:[(0,I.jsxs)("div",{className:He,children:[(0,I.jsx)("div",{children:"Referral Codes"}),(0,I.jsx)("span",{onClick:n,children:"+ Create"})]}),(0,I.jsx)(Me.ZP,{emptyText:"",className:Pe,columns:d,data:t}),!t.length&&(0,I.jsx)(Ee.Z,{text:"No referral codes yet."}),t.length?(0,I.jsx)(ke.Z,{data:t,pageIndex:i,setPageIndex:l,_data:t}):(0,I.jsx)(I.Fragment,{})]})},Ve=n(13805),ze=n(24069),Be=n(96714),Fe="table___uxvN1",Qe="tableWrapper___zkhbV",Ge="tableTitle___O8C1b",We="href___EsFXH",Ye=function(e){var t=e.data,n=(0,o.useState)(De.Q),r=s()(n,2),a=r[0],i=r[1],l=(0,te.x)().chainId,d=[{title:"DATE",width:"20%",dataIndex:"tradeTime",render:function(e){return(0,Be.m)(e)}},{title:"AMOUNT",width:"20%",dataIndex:"amount",render:function(e){return(0,ze.dN)((0,ze._b)(e),6)}},{title:"TRANSACTION",width:"60%",dataIndex:"txHash",render:function(e){return(0,I.jsx)("a",{className:We,href:(0,Ve.jY)(l)+"tx/"+e,target:"_blank",rel:"noopener noreferrer",children:(0,I.jsx)("span",{children:e})})}}];return(0,I.jsxs)("div",{className:Qe,children:[(0,I.jsx)("div",{className:Ge,children:"Rewards Distribution History"}),(0,I.jsx)(Me.ZP,{emptyText:"",className:Fe,columns:d,data:t}),t&&!t.length&&(0,I.jsx)(Ee.Z,{text:"No rewards distribution history yet."}),t&&t.length?(0,I.jsx)(ke.Z,{data:t,pageIndex:a,setPageIndex:i,_data:t}):(0,I.jsx)(I.Fragment,{})]})},qe="statInfo___bhNlq",$e="title___hqKQI",Je="amount___vSWrj",Ke="desc___VheaO",Xe=function(e){var t=e.title,n=e.desc,r=e.amount,a=e.text;return(0,I.jsxs)("div",{className:qe,children:[(0,I.jsx)("div",{className:$e,children:t}),r?(0,I.jsxs)("div",{className:Je,children:["$".concat(r)," "]}):(0,I.jsx)(I.Fragment,{}),a?(0,I.jsxs)("div",{className:Je,children:[a," "]}):(0,I.jsx)(I.Fragment,{}),(0,I.jsxs)("div",{className:Ke,children:[n," "]})]})},et={list:"list___ERnjk",mdl:"mdl___dT7Wr"},tt=n(78621),nt=n(30026),rt=n(9679),at={overlay:"overlay___AB_1f",text:"text___Pl53R",questionIcon:"questionIcon___exXuA"},st=function(e){var t=e.text,n=e.tipTitle,r=e.tipText,a=e.tipPlace,s=void 0===a?"top":a;return(0,I.jsxs)("div",{className:at.text,children:[(0,I.jsx)(tt._H,{id:t}),(0,I.jsx)(rt.Z,{placement:s,overlay:(0,I.jsx)("div",{className:at.overlay,children:(0,I.jsxs)("div",{className:at.label,children:[(0,I.jsx)("span",{className:at.title,children:(0,I.jsx)(tt._H,{id:n})}),(0,I.jsx)("div",{children:(0,I.jsx)(tt._H,{id:r})})]})}),children:(0,I.jsx)("div",{className:at.questionIcon,children:(0,I.jsx)(nt.r,{})})})]})},it=function(e){var t=e.data,n=e.successCb,r=(0,o.useState)(!1),a=s()(r,2),i=a[0],l=a[1],d=t.referralsSummaries,u=t.referralsDetails,c=t.referralsHistory,p=void 0===c?[]:c;return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:et.list,children:[i&&(0,I.jsx)(Ne.Z,{className:et.mdl,visible:i,onClose:function(){return l(!1)},title:"Generate Referral Code",children:(0,I.jsx)(Ce,{isModal:!0,successCb:n})}),(0,I.jsx)(Xe,{title:(0,I.jsx)(st,{text:"Total Trading Volume",tipText:"Volume traded by this account with an active referral code.",tipTitle:"Total Trading Volume",tipPlace:"top"}),amount:d.tradedVolume||"-",desc:"+$0.00 in the last week"}),(0,I.jsx)(Xe,{title:(0,I.jsx)(st,{text:"Total Traders Referred",tipTitle:"Total Traders Referred",tipText:"Rebates earned by this account as a trader.",tipPlace:"top"}),text:d.totalTradersReferred||"-",desc:"+$0.00 in the last week"}),(0,I.jsx)(Xe,{title:(0,I.jsx)(st,{text:"Total Rebates",tipTitle:"Total Rebates",tipText:"Rebates earned by this account as a trader.",tipPlace:"top"}),amount:d.totalRebates||"-",desc:"Tier 1 (5% rebate)"})]}),(0,I.jsx)(Ue,{data:u,openMdl:function(){return l(!0)}}),(0,I.jsx)(Ye,{data:p})]})},ot=n(8193),lt=function(e){var t=e.code,n=e.data,r=(0,o.useState)(!1),a=s()(r,2),i=a[0],l=a[1],d=n.traderHistory,u=void 0===d?[]:d,c=function(){return l(!0)};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:et.list,children:[i&&(0,I.jsx)(Ne.Z,{className:et.mdl,visible:i,onClose:function(){return l(!1)},title:"Edit Referral Code",children:(0,I.jsx)("div",{className:et.wrapper,children:(0,I.jsx)(xe,{btnText:"Edit Refferal code",type:"edit"})})}),(0,I.jsx)(Xe,{title:(0,I.jsx)(st,{text:"Total Trading Volume",tipText:"Volume traded by this account with an active referral code.",tipTitle:"Total Trading Volume",tipPlace:"top"}),amount:"0.0",desc:"Exchanged in the last week"}),(0,I.jsx)(Xe,{title:(0,I.jsx)(st,{text:"Total Rebates",tipTitle:"Total Rebates",tipText:"Rebates earned by this account as a trader.",tipPlace:"top"}),amount:"100",desc:"Exchanged in the last week"}),(0,I.jsx)(Xe,{title:"Active Referral Code",text:function(e){return(0,I.jsxs)("div",{className:et.codeEditor,children:[e,(0,I.jsx)(ot.$iz,{style:{cursor:"pointer"},size:"16",onClick:c})]})}(t),desc:(0,I.jsx)(st,{text:"Tier 1 (5% discount)",tipText:"You will receive a 10% discount on your opening and closing fees, this discount will be airdropped to your account every Wednesday",tipTitle:"Tier 1",tipPlace:"top"})})]}),(0,I.jsx)(Ye,{data:u})]})},dt=function(){var e,t=(0,i.Ge)(),n=t.library,r=t.chainId,a=t.account,l=F(),u=(0,o.useState)(0),c=s()(u,2),p=c[0],b=c[1],_=(0,f.eI)(n,r,a,l),T=_.userHasReferrerCode,j=_.userReferrerCode,g=_.userReferrerCodeString,w=function(e,t,n){var r=(0,o.useState)(),a=s()(r,2),i=a[0],l=a[1],u=(0,o.useState)(!0),c=s()(u,2),p=c[0],v=c[1],b=(0,y.eI)((0,y.x7)(e));return(0,o.useEffect)((function(){console.log("reloadKey: ",n),b.query({query:x,variables:{account:(t||"").toLowerCase()}}).then((function(e){var t;if(e.data){var n=e.data.referralsSummaries[0]||{},r=null===(t=e.data.referralsDetails)||void 0===t?void 0:t.map((function(e){return d()(d()({},e),{},{referralCode:(0,f.oE)(e.referralCode)})}));l({referralsSummaries:n,referralsDetails:r,referralsHistory:m.referralsHistory,traderHistory:h.referralsHistory,traderSummaries:h.referralsSummaries[0]})}})).catch(console.warn).finally((function(){v(!1)}))}),[e,t,n]),{data:i,loading:p}}(r,a,p),C=w.data,N=w.loading,M=(0,o.useMemo)((function(){return T?(0,I.jsx)(lt,{code:g,data:C||{}},g):(0,I.jsx)("div",{className:K,children:(0,I.jsx)(xe,{btnText:"Enter Refferal code",type:"add"})})}),[j,j,N]),D=function(){close(),setTimeout((function(){return b(p+1)}),1e3)},S=[{children:M},{children:null!=C&&null!==(e=C.referralsDetails)&&void 0!==e&&e.length?(0,I.jsx)(it,{data:C,successCb:D},p):(0,I.jsx)(Ce,{successCb:D})}];return(0,I.jsxs)("div",{className:G,children:[(0,I.jsxs)("div",{className:W,children:[(0,I.jsx)("div",{className:Y,children:"Refferals"}),(0,I.jsx)("div",{className:q,children:"Get fee discounts and Rewards rebates through the DEI referral program."})]}),(0,I.jsx)(R,{tabs:[{label:"Traders"},{label:"Refferals"}],panels:S}),(0,I.jsxs)("div",{className:Q,children:[(0,I.jsx)("div",{className:$,children:"How do DEI refferals work?"}),(0,I.jsxs)("p",{className:J,children:["The discounts and rebates will be distributed as USDC every Wednesday.",(0,I.jsx)("br",{}),"The referral program offers up to 10% discount for traders, 15% rebates to referrer."]}),(0,I.jsx)(v.Z,{type:"border",href:"#",children:"Learn More"})]})]})}},33114:function(e,t,n){n.d(t,{I:function(){return r},Q:function(){return a}});var r=20,a=1},55580:function(e,t,n){n.d(t,{Do:function(){return u},Nb:function(){return d},eI:function(){return p},oE:function(){return c}});var r=n(5574),a=n.n(r),s=n(20238),i=n(86237),o=n(62435),l=n(59734),d="reffer_code";function u(e){var t=e.replace(/[^\w_]/g,"");return t.length>20?s.Rr:i.s(t)}function c(e){try{return i.F(e)}catch(r){var t="";e=e.substring(2);for(var n=0;n<32;n++)t+=String.fromCharCode(parseInt(e.substring(2*n,2*n+2),16));return t.trim()}}function p(e,t,n,r){var s=(0,l.ZP)(n&&["ReferralStorage",t,"traderReferralCodes",n],{fetcher:function(){return r.getTraderReferralInfo(n)}}).data,i=window.localStorage.getItem(d),u=(0,o.useMemo)((function(){return s&&"0x0000000000000000000000000000000000000000000000000000000000000000"!==s?[!0,s,c(s)]:i&&"0x0000000000000000000000000000000000000000"!==i?[!0,i,c(i)]:[!1,"",""]}),[i,s]),p=a()(u,3);return{userHasReferrerCode:p[0],userReferrerCode:p[1],userReferrerCodeString:p[2]}}},63215:function(e,t,n){n.d(t,{r:function(){return d}});var r=n(62435),a=Object.defineProperty,s=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const d=e=>r.createElement("svg",((e,t)=>{for(var n in t||(t={}))i.call(t,n)&&l(e,n,t[n]);if(s)for(var n of s(t))o.call(t,n)&&l(e,n,t[n]);return e})({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"M17.25 8.5h-7a1.75 1.75 0 0 0-1.75 1.75v7c0 .966.784 1.75 1.75 1.75h7A1.75 1.75 0 0 0 19 17.25v-7a1.75 1.75 0 0 0-1.75-1.75Z",stroke:"#9597B5",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M15.5 8.5V6.75A1.75 1.75 0 0 0 13.75 5h-7A1.75 1.75 0 0 0 5 6.75v7a1.75 1.75 0 0 0 1.75 1.75H8.5",stroke:"#9597B5",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}))},90513:function(e,t,n){n.d(t,{r:function(){return d}});var r=n(62435),a=Object.defineProperty,s=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const d=e=>r.createElement("svg",((e,t)=>{for(var n in t||(t={}))i.call(t,n)&&l(e,n,t[n]);if(s)for(var n of s(t))o.call(t,n)&&l(e,n,t[n]);return e})({width:80,height:80,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{opacity:.12,fillRule:"evenodd",clipRule:"evenodd",d:"M66.668 46.667c0-18.41-14.924-33.334-33.333-33.334v5c15.648 0 28.333 12.686 28.333 28.334h5Zm-8.324 0c0-13.808-11.193-25-25-25h-.01v5.166h.012c10.954 0 19.833 8.88 19.833 19.834h5.165Zm-7.332 17.677a24.926 24.926 0 0 0 7.144-14.677H52.94a19.78 19.78 0 0 1-5.583 11.023l3.654 3.654ZM15.656 28.99a24.927 24.927 0 0 1 14.678-7.144v5.213a19.78 19.78 0 0 0-11.025 5.584l-3.653-3.653Zm17.679 34.344C42.539 63.333 50 55.871 50 46.667 50.002 37.462 42.54 30 33.335 30c-9.205 0-16.667 7.462-16.667 16.667h5C21.668 40.223 26.891 35 33.335 35 39.778 35 45 40.223 45 46.667c0 6.443-5.223 11.666-11.666 11.666v5Z",fill:"url(#default_svg__a)"}),r.createElement("rect",{x:1,y:1,width:78,height:78,rx:39,stroke:"url(#default_svg__b)",strokeOpacity:.12,strokeWidth:2}),r.createElement("defs",null,r.createElement("linearGradient",{id:"default_svg__a",x1:15.656,y1:13.333,x2:78.101,y2:30.645,gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#3CEAAA"}),r.createElement("stop",{offset:.771,stopColor:"#5C72FF"})),r.createElement("linearGradient",{id:"default_svg__b",x1:0,y1:0,x2:97.93,y2:27.149,gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#3CEAAA"}),r.createElement("stop",{offset:.771,stopColor:"#5C72FF"}))))},30026:function(e,t,n){n.d(t,{r:function(){return d}});var r=n(62435),a=Object.defineProperty,s=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const d=e=>r.createElement("svg",((e,t)=>{for(var n in t||(t={}))i.call(t,n)&&l(e,n,t[n]);if(s)for(var n of s(t))o.call(t,n)&&l(e,n,t[n]);return e})({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm.7-9V4.6H7.3V6h1.4Zm0 6V7.467H7.3V12h1.4Z",fill:"#797B96"}))},4343:function(e,t,n){n.d(t,{r:function(){return d}});var r=n(62435),a=Object.defineProperty,s=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const d=e=>r.createElement("svg",((e,t)=>{for(var n in t||(t={}))i.call(t,n)&&l(e,n,t[n]);if(s)for(var n of s(t))o.call(t,n)&&l(e,n,t[n]);return e})({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"M20.625 7.064a7.087 7.087 0 0 1-2.032.557 3.548 3.548 0 0 0 1.556-1.959 7.065 7.065 0 0 1-2.248.859 3.54 3.54 0 0 0-6.03 3.229A10.05 10.05 0 0 1 4.576 6.05a3.537 3.537 0 0 0-.06 3.45 3.54 3.54 0 0 0 1.156 1.276 3.53 3.53 0 0 1-1.603-.443v.045a3.54 3.54 0 0 0 2.839 3.47 3.566 3.566 0 0 1-1.599.062 3.54 3.54 0 0 0 3.306 2.457 7.102 7.102 0 0 1-5.24 1.466 10.01 10.01 0 0 0 5.424 1.59c6.511 0 10.07-5.393 10.07-10.07 0-.151-.003-.305-.01-.457.692-.5 1.29-1.12 1.764-1.83l.002-.003Z",fill:"#9597B5"}));t.Z="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTIwLjYyNSA3LjA2NGE3LjA4NyA3LjA4NyAwIDAgMS0yLjAzMi41NTcgMy41NDggMy41NDggMCAwIDAgMS41NTYtMS45NTkgNy4wNjUgNy4wNjUgMCAwIDEtMi4yNDguODU5IDMuNTQgMy41NCAwIDAgMC02LjAzIDMuMjI5QTEwLjA1IDEwLjA1IDAgMCAxIDQuNTc2IDYuMDVhMy41MzcgMy41MzcgMCAwIDAtLjA2IDMuNDUgMy41NCAzLjU0IDAgMCAwIDEuMTU2IDEuMjc2IDMuNTMgMy41MyAwIDAgMS0xLjYwMy0uNDQzdi4wNDVhMy41NCAzLjU0IDAgMCAwIDIuODM5IDMuNDcgMy41NjYgMy41NjYgMCAwIDEtMS41OTkuMDYyIDMuNTQgMy41NCAwIDAgMCAzLjMwNiAyLjQ1NyA3LjEwMiA3LjEwMiAwIDAgMS01LjI0IDEuNDY2IDEwLjAxIDEwLjAxIDAgMCAwIDUuNDI0IDEuNTljNi41MTEgMCAxMC4wNy01LjM5MyAxMC4wNy0xMC4wNyAwLS4xNTEtLjAwMy0uMzA1LS4wMS0uNDU3LjY5Mi0uNSAxLjI5LTEuMTIgMS43NjQtMS44M2wuMDAyLS4wMDNaIiBmaWxsPSIjOTU5N0I1Ii8+PC9zdmc+"}}]);