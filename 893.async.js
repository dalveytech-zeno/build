"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[893],{9138:function(Ae,se,i){i.d(se,{PN:function(){return G},wA:function(){return C}});var de=i(38416),w=i.n(de),j=i(13805),y,G="https://stats.gmx.io/api",S=(y={default:"https://gmx-server-mainnet.uw.r.appspot.com"},w()(y,j.RR,"https://gambit-server-staging.uc.r.appspot.com"),w()(y,j.qF,"https://gambit-server-devnet.uc.r.appspot.com"),w()(y,j.PO,"https://gmx-server-mainnet.uw.r.appspot.com"),w()(y,j.Qz,"https://gmx-avax-server.uc.r.appspot.com"),y);function C(q){if(!q)throw new Error("chainId is not provided");if(document.location.hostname.includes("deploy-preview")){var ee=localStorage.getItem("SERVER_BASE_URL");if(ee)return ee}return S[q]||S.default}function z(q,ee){return"".concat(C(q)).concat(ee)}},47981:function(Ae,se,i){i.d(se,{wu:function(){return k}});for(var de=i(38416),w=i.n(de),j=i(9279),y=i(13805),G=i(49524),S,C,z,q=function(H){return(0,G.u)(y.Fe,H)},ee=(S={},w()(S,y.vT,[{name:"Wrapped Binance Coin",symbol:"WBNB",decimals:18,address:"0xd722eA9CBC41Eb530eEcc0689aaDD88f618e9d88",isWrapped:!0,baseSymbol:"BNB",imageUrl:"https://assets.coingecko.com/coins/images/825/small/binance-coin-logo.png",isShortable:!0},{name:"Bitcoin (BTCB)",symbol:"BTC",decimals:8,isShortable:!0,address:"0xd06E2628a7845e85F42751c89beDE17DaB8411c8",imageUrl:"https://assets.coingecko.com/coins/images/26115/thumb/btcb.png?1655921693"},{name:"Ethereum",symbol:"ETH",decimals:18,isShortable:!0,address:"0xe94212E917bAb65D47489ABeE5c891adF3345bF4",imageUrl:"https://assets.coingecko.com/coins/images/279/small/ethereum.png?1595348880"},{name:"Binance Coin",symbol:"BNB",decimals:18,isShortable:!0,address:j.d,isNative:!0,imageUrl:"https://assets.coingecko.com/coins/images/825/small/binance-coin-logo.png"},{name:"USDC",symbol:"USDC",decimals:18,address:"0x811Cc43d8129Ff2235Ef1b63E92bbbE2eAeF1714",isStable:!0,isShortable:!0,imageUrl:"https://assets.coingecko.com/coins/images/6319/thumb/USD_Coin_icon.png?1547042389"},{name:"DLP",symbol:"DLP",decimals:18,address:"0x0DE6925163084609E1ABD4aDFE460f1c328EDa0B",isStable:!0,isShortable:!0,imageUrl:"https://assets.coingecko.com/coins/images/6319/thumb/USD_Coin_icon.png?1547042389"}]),w()(S,y.Vr,[{name:"Bitcoin (BTCB)",symbol:"BTC",decimals:8,address:"0xb19C12715134bee7c4b1Ca593ee9E430dABe7b56",imageUrl:"https://assets.coingecko.com/coins/images/26115/thumb/btcb.png?1655921693"},{name:"Ethereum",symbol:"ETH",decimals:18,address:"0x1958f7C067226c7C8Ac310Dc994D0cebAbfb2B02",imageUrl:"https://assets.coingecko.com/coins/images/279/small/ethereum.png?1595348880"},{name:"Binance Coin",symbol:"BNB",decimals:18,address:j.d,isNative:!0,imageUrl:"https://assets.coingecko.com/coins/images/825/small/binance-coin-logo.png"},{name:"Wrapped Binance Coin",symbol:"WBNB",decimals:18,address:"0x612777Eea37a44F7a95E3B101C39e1E2695fa6C2",isWrapped:!0,baseSymbol:"BNB",imageUrl:"https://assets.coingecko.com/coins/images/825/small/binance-coin-logo.png"}]),w()(S,y.Fe,[{name:"Bitcoin (BTCB)",symbol:"BTC",decimals:18,address:q("BTC"),imageUrl:"https://assets.coingecko.com/coins/images/26115/thumb/btcb.png?1655921693",isShortable:!0},{name:"Ethereum",symbol:"ETH",decimals:18,address:q("ETH"),imageUrl:"https://assets.coingecko.com/coins/images/279/small/ethereum.png?1595348880",isShortable:!0},{name:"Binance Coin",symbol:"BNB",decimals:18,address:j.d,isNative:!0,imageUrl:"https://assets.coingecko.com/coins/images/825/small/binance-coin-logo.png",isShortable:!0},{name:"Wrapped Ethereum Coin",symbol:"WETH",decimals:18,address:q("ETH"),isWrapped:!0,baseSymbol:"WETH",imageUrl:"https://assets.coingecko.com/coins/images/279/small/ethereum.png?1595348880",isShortable:!0}]),S),Ce=(C={},w()(C,y.PO,{GMX:{name:"GMX",symbol:"GMX",decimals:18,address:(0,G.u)(y.PO,"GMX"),imageUrl:"https://assets.coingecko.com/coins/images/18323/small/arbit.png?1631532468"},GLP:{name:"GMX LP",symbol:"GLP",decimals:18,address:(0,G.u)(y.PO,"StakedGlpTracker"),imageUrl:"https://github.com/gmx-io/gmx-assets/blob/main/GMX-Assets/PNG/GLP_LOGO%20ONLY.png?raw=true"}}),w()(C,y.Qz,{GMX:{name:"GMX",symbol:"GMX",decimals:18,address:(0,G.u)(y.Qz,"GMX"),imageUrl:"https://assets.coingecko.com/coins/images/18323/small/arbit.png?1631532468"},GLP:{name:"GMX LP",symbol:"GLP",decimals:18,address:(0,G.u)(y.Qz,"StakedGlpTracker"),imageUrl:"https://github.com/gmx-io/gmx-assets/blob/main/GMX-Assets/PNG/GLP_LOGO%20ONLY.png?raw=true"}}),w()(C,y.vT,{}),w()(C,y.Fe,{}),C),B=(z={},w()(z,y.vT,{GMX:{coingecko:"https://www.coingecko.com/en/coins/gmx",avalanche:"https://snowtrace.io/address/0x62edc0692bd897d2295872a9ffcac5425011c661"},GLP:{avalanche:"https://snowtrace.io/address/0x9e295B5B976a184B14aD8cd72413aD846C299660"},AVAX:{coingecko:"https://www.coingecko.com/en/coins/avalanche"},ETH:{coingecko:"https://www.coingecko.com/en/coins/weth",avalanche:"https://snowtrace.io/address/0x49d5c2bdffac6ce2bfdb6640f4f80f226bc10bab"},BTC:{coingecko:"https://www.coingecko.com/en/coins/wrapped-bitcoin",avalanche:"https://snowtrace.io/address/0x50b7545627a5162f82a992c33b87adc75187b218"},"BTC.b":{coingecko:"https://www.coingecko.com/en/coins/wrapped-bitcoin",avalanche:"https://snowtrace.io/address/0x152b9d0FdC40C096757F570A51E494bd4b943E50"},MIM:{coingecko:"https://www.coingecko.com/en/coins/magic-internet-money",avalanche:"https://snowtrace.io/address/0x130966628846bfd36ff31a822705796e8cb8c18d"},"USDC.e":{coingecko:"https://www.coingecko.com/en/coins/usd-coin-avalanche-bridged-usdc-e",avalanche:"https://snowtrace.io/address/0xa7d7079b0fead91f3e65f86e8915cb59c1a4c664"},USDC:{coingecko:"https://www.coingecko.com/en/coins/usd-coin",avalanche:"https://snowtrace.io/address/0xb97ef9ef8734c71904d8002f8b6bc66dd9c48a6e"}}),w()(z,y.Fe,{GMX:{coingecko:"https://www.coingecko.com/en/coins/gmx",avalanche:"https://snowtrace.io/address/0x62edc0692bd897d2295872a9ffcac5425011c661"},GLP:{avalanche:"https://snowtrace.io/address/0x9e295B5B976a184B14aD8cd72413aD846C299660"},AVAX:{coingecko:"https://www.coingecko.com/en/coins/avalanche"},ETH:{coingecko:"https://www.coingecko.com/en/coins/weth",avalanche:"https://snowtrace.io/address/0x49d5c2bdffac6ce2bfdb6640f4f80f226bc10bab"},BTC:{coingecko:"https://www.coingecko.com/en/coins/wrapped-bitcoin",avalanche:"https://snowtrace.io/address/0x50b7545627a5162f82a992c33b87adc75187b218"},"BTC.b":{coingecko:"https://www.coingecko.com/en/coins/wrapped-bitcoin",avalanche:"https://snowtrace.io/address/0x152b9d0FdC40C096757F570A51E494bd4b943E50"},MIM:{coingecko:"https://www.coingecko.com/en/coins/magic-internet-money",avalanche:"https://snowtrace.io/address/0x130966628846bfd36ff31a822705796e8cb8c18d"},"USDC.e":{coingecko:"https://www.coingecko.com/en/coins/usd-coin-avalanche-bridged-usdc-e",avalanche:"https://snowtrace.io/address/0xa7d7079b0fead91f3e65f86e8915cb59c1a4c664"},USDC:{coingecko:"https://www.coingecko.com/en/coins/usd-coin",avalanche:"https://snowtrace.io/address/0xb97ef9ef8734c71904d8002f8b6bc66dd9c48a6e"}}),w()(z,y.qF,{GMX:{coingecko:"https://www.coingecko.com/en/coins/gmx",arbitrum:"https://arbiscan.io/address/0xfc5a1a6eb076a2c7ad06ed22c90d7e710e35ad0a"},GLP:{arbitrum:"https://testnet.arbiscan.io/token/0xb4f81Fa74e06b5f762A104e47276BA9b2929cb27"}}),w()(z,y.PO,{GMX:{coingecko:"https://www.coingecko.com/en/coins/gmx",arbitrum:"https://arbiscan.io/address/0xfc5a1a6eb076a2c7ad06ed22c90d7e710e35ad0a"},GLP:{arbitrum:"https://arbiscan.io/token/0x1aDDD80E6039594eE970E5872D247bf0414C8903",reserves:"https://portfolio.nansen.ai/dashboard/gmx?chain=ARBITRUM"},ETH:{coingecko:"https://www.coingecko.com/en/coins/ethereum"},BTC:{coingecko:"https://www.coingecko.com/en/coins/wrapped-bitcoin",arbitrum:"https://arbiscan.io/address/0x2f2a2543b76a4166549f7aab2e75bef0aefc5b0f"},LINK:{coingecko:"https://www.coingecko.com/en/coins/chainlink",arbitrum:"https://arbiscan.io/address/0xf97f4df75117a78c1a5a0dbb814af92458539fb4"},UNI:{coingecko:"https://www.coingecko.com/en/coins/uniswap",arbitrum:"https://arbiscan.io/address/0xfa7f8980b0f1e64a2062791cc3b0871572f1f7f0"},USDC:{coingecko:"https://www.coingecko.com/en/coins/usd-coin",arbitrum:"https://arbiscan.io/address/0xff970a61a04b1ca14834a43f5de4533ebddb5cc8"},USDT:{coingecko:"https://www.coingecko.com/en/coins/tether",arbitrum:"https://arbiscan.io/address/0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"},DAI:{coingecko:"https://www.coingecko.com/en/coins/dai",arbitrum:"https://arbiscan.io/address/0xda10009cbd5d07dd0cecc66161fc93d7c9000da1"},MIM:{coingecko:"https://www.coingecko.com/en/coins/magic-internet-money",arbitrum:"https://arbiscan.io/address/0xfea7a6a0b346362bf88a9e4a88416b77a57d6c2a"},FRAX:{coingecko:"https://www.coingecko.com/en/coins/frax",arbitrum:"https://arbiscan.io/address/0x17fc002b466eec40dae837fc4be5c67993ddbd6f"}}),w()(z,y.Qz,{GMX:{coingecko:"https://www.coingecko.com/en/coins/gmx",avalanche:"https://snowtrace.io/address/0x62edc0692bd897d2295872a9ffcac5425011c661"},GLP:{avalanche:"https://snowtrace.io/address/0x9e295B5B976a184B14aD8cd72413aD846C299660",reserves:"https://portfolio.nansen.ai/dashboard/gmx?chain=AVAX"},AVAX:{coingecko:"https://www.coingecko.com/en/coins/avalanche"},ETH:{coingecko:"https://www.coingecko.com/en/coins/weth",avalanche:"https://snowtrace.io/address/0x49d5c2bdffac6ce2bfdb6640f4f80f226bc10bab"},WBTC:{coingecko:"https://www.coingecko.com/en/coins/wrapped-bitcoin",avalanche:"https://snowtrace.io/address/0x50b7545627a5162f82a992c33b87adc75187b218"},BTC:{coingecko:"https://www.coingecko.com/en/coins/bitcoin-avalanche-bridged-btc-b",avalanche:"https://snowtrace.io/address/0x152b9d0FdC40C096757F570A51E494bd4b943E50"},MIM:{coingecko:"https://www.coingecko.com/en/coins/magic-internet-money",avalanche:"https://snowtrace.io/address/0x130966628846bfd36ff31a822705796e8cb8c18d"},USDC:{coingecko:"https://www.coingecko.com/en/coins/usd-coin",avalanche:"https://snowtrace.io/address/0xb97ef9ef8734c71904d8002f8b6bc66dd9c48a6e"},"USDC.e":{coingecko:"https://www.coingecko.com/en/coins/usd-coin-avalanche-bridged-usdc-e",avalanche:"https://snowtrace.io/address/0xa7d7079b0fead91f3e65f86e8915cb59c1a4c664"}}),z),L={ETH:"#6062a6",BTC:"#F7931A",WBTC:"#F7931A",USDC:"#2775CA","USDC.e":"#2A5ADA",USDT:"#67B18A",MIM:"#9695F8",FRAX:"#000",DAI:"#FAC044",UNI:"#E9167C",AVAX:"#E84142",LINK:"#3256D6"},W={},o={},c={},s={},h=[y.Fe,y.RR,y.Vr,y.PO,y.qF,y.Qz,y.vT],v=0;v<h.length;v++){var g=h[v];W[g]={},o[g]={};for(var I=ee[g],U=0;U<(I==null?void 0:I.length);U++){var F=I[U];W[g][F.address]=F,o[g][F.symbol]=F}}function D(O){return c[O]}function n(O){return s[O]}function R(O){return ee[O]}function k(O,H){if(!W[O])throw new Error("Incorrect chainId ".concat(O));return H in W[O]}function $(O,H){if(!W[O])throw new Error("Incorrect chainId ".concat(O));if(!W[O][H])throw new Error('Incorrect address "'.concat(H,'" for chainId ').concat(O));return W[O][H]}function ye(O,H){var Be=o[O][H];if(!Be)throw new Error('Incorrect symbol "'.concat(H,'" for chainId ').concat(O));return Be}function ce(O){return ee[O].filter(function(H){return H.symbol!=="USDG"})}function De(O){return ce(O).filter(function(H){return!H.isWrapped&&!H.isTempHidden})}},37432:function(Ae,se,i){i.d(se,{x:function(){return y}});var de=i(34713),w=i(13805),j=i(22837);function y(){var G=(0,de.Ge)(),S=G.chainId;if(!S){var C=localStorage.getItem(j.HC);C&&(S=parseInt(C),S||localStorage.removeItem(j.HC))}return(!S||!w.FQ.includes(S))&&(S=w.rC),{chainId:S}}},39265:function(Ae,se,i){i.d(se,{gG:function(){return E},pQ:function(){return pn},Nb:function(){return ye},sh:function(){return De},VZ:function(){return ln},FB:function(){return sn},C5:function(){return ke},YO:function(){return on},bD:function(){return k},Qo:function(){return dn},$3:function(){return Re},Pq:function(){return Tn},ET:function(){return fn},b8:function(){return gn},EU:function(){return yn},zf:function(){return bn},gh:function(){return hn},Sz:function(){return Dn}});var de=i(861),w=i.n(de),j=i(27424),y=i.n(j),G=i(17061),S=i.n(G),C=i(17156),z=i.n(C),q=i(34713),ee=i(9279),Ce=i(31886),B=i(77294),L=i(59734),W=JSON.parse('{"Mt":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"orderIndex","type":"uint256"},{"indexed":false,"internalType":"address","name":"collateralToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"collateralDelta","type":"uint256"},{"indexed":false,"internalType":"address","name":"indexToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"indexed":false,"internalType":"bool","name":"isLong","type":"bool"},{"indexed":false,"internalType":"uint256","name":"triggerPrice","type":"uint256"},{"indexed":false,"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"indexed":false,"internalType":"uint256","name":"executionFee","type":"uint256"}],"name":"CancelDecreaseOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"orderIndex","type":"uint256"},{"indexed":false,"internalType":"address","name":"purchaseToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"purchaseTokenAmount","type":"uint256"},{"indexed":false,"internalType":"address","name":"collateralToken","type":"address"},{"indexed":false,"internalType":"address","name":"indexToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"indexed":false,"internalType":"bool","name":"isLong","type":"bool"},{"indexed":false,"internalType":"uint256","name":"triggerPrice","type":"uint256"},{"indexed":false,"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"indexed":false,"internalType":"uint256","name":"executionFee","type":"uint256"}],"name":"CancelIncreaseOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"orderIndex","type":"uint256"},{"indexed":false,"internalType":"address[]","name":"path","type":"address[]"},{"indexed":false,"internalType":"uint256","name":"amountIn","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"minOut","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"triggerRatio","type":"uint256"},{"indexed":false,"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"indexed":false,"internalType":"bool","name":"shouldUnwrap","type":"bool"},{"indexed":false,"internalType":"uint256","name":"executionFee","type":"uint256"}],"name":"CancelSwapOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"orderIndex","type":"uint256"},{"indexed":false,"internalType":"address","name":"collateralToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"collateralDelta","type":"uint256"},{"indexed":false,"internalType":"address","name":"indexToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"indexed":false,"internalType":"bool","name":"isLong","type":"bool"},{"indexed":false,"internalType":"uint256","name":"triggerPrice","type":"uint256"},{"indexed":false,"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"indexed":false,"internalType":"uint256","name":"executionFee","type":"uint256"}],"name":"CreateDecreaseOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"orderIndex","type":"uint256"},{"indexed":false,"internalType":"address","name":"purchaseToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"purchaseTokenAmount","type":"uint256"},{"indexed":false,"internalType":"address","name":"collateralToken","type":"address"},{"indexed":false,"internalType":"address","name":"indexToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"indexed":false,"internalType":"bool","name":"isLong","type":"bool"},{"indexed":false,"internalType":"uint256","name":"triggerPrice","type":"uint256"},{"indexed":false,"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"indexed":false,"internalType":"uint256","name":"executionFee","type":"uint256"}],"name":"CreateIncreaseOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"orderIndex","type":"uint256"},{"indexed":false,"internalType":"address[]","name":"path","type":"address[]"},{"indexed":false,"internalType":"uint256","name":"amountIn","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"minOut","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"triggerRatio","type":"uint256"},{"indexed":false,"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"indexed":false,"internalType":"bool","name":"shouldUnwrap","type":"bool"},{"indexed":false,"internalType":"uint256","name":"executionFee","type":"uint256"}],"name":"CreateSwapOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"orderIndex","type":"uint256"},{"indexed":false,"internalType":"address","name":"collateralToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"collateralDelta","type":"uint256"},{"indexed":false,"internalType":"address","name":"indexToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"indexed":false,"internalType":"bool","name":"isLong","type":"bool"},{"indexed":false,"internalType":"uint256","name":"triggerPrice","type":"uint256"},{"indexed":false,"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"indexed":false,"internalType":"uint256","name":"executionFee","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"executionPrice","type":"uint256"}],"name":"ExecuteDecreaseOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"orderIndex","type":"uint256"},{"indexed":false,"internalType":"address","name":"purchaseToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"purchaseTokenAmount","type":"uint256"},{"indexed":false,"internalType":"address","name":"collateralToken","type":"address"},{"indexed":false,"internalType":"address","name":"indexToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"indexed":false,"internalType":"bool","name":"isLong","type":"bool"},{"indexed":false,"internalType":"uint256","name":"triggerPrice","type":"uint256"},{"indexed":false,"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"indexed":false,"internalType":"uint256","name":"executionFee","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"executionPrice","type":"uint256"}],"name":"ExecuteIncreaseOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"orderIndex","type":"uint256"},{"indexed":false,"internalType":"address[]","name":"path","type":"address[]"},{"indexed":false,"internalType":"uint256","name":"amountIn","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"minOut","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amountOut","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"triggerRatio","type":"uint256"},{"indexed":false,"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"indexed":false,"internalType":"bool","name":"shouldUnwrap","type":"bool"},{"indexed":false,"internalType":"uint256","name":"executionFee","type":"uint256"}],"name":"ExecuteSwapOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"router","type":"address"},{"indexed":false,"internalType":"address","name":"vault","type":"address"},{"indexed":false,"internalType":"address","name":"weth","type":"address"},{"indexed":false,"internalType":"address","name":"usdg","type":"address"},{"indexed":false,"internalType":"uint256","name":"minExecutionFee","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"minPurchaseTokenAmountUsd","type":"uint256"}],"name":"Initialize","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"orderIndex","type":"uint256"},{"indexed":false,"internalType":"address","name":"collateralToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"collateralDelta","type":"uint256"},{"indexed":false,"internalType":"address","name":"indexToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"indexed":false,"internalType":"bool","name":"isLong","type":"bool"},{"indexed":false,"internalType":"uint256","name":"triggerPrice","type":"uint256"},{"indexed":false,"internalType":"bool","name":"triggerAboveThreshold","type":"bool"}],"name":"UpdateDecreaseOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"gov","type":"address"}],"name":"UpdateGov","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"orderIndex","type":"uint256"},{"indexed":false,"internalType":"address","name":"collateralToken","type":"address"},{"indexed":false,"internalType":"address","name":"indexToken","type":"address"},{"indexed":false,"internalType":"bool","name":"isLong","type":"bool"},{"indexed":false,"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"triggerPrice","type":"uint256"},{"indexed":false,"internalType":"bool","name":"triggerAboveThreshold","type":"bool"}],"name":"UpdateIncreaseOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"minExecutionFee","type":"uint256"}],"name":"UpdateMinExecutionFee","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"minPurchaseTokenAmountUsd","type":"uint256"}],"name":"UpdateMinPurchaseTokenAmountUsd","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"ordexIndex","type":"uint256"},{"indexed":false,"internalType":"address[]","name":"path","type":"address[]"},{"indexed":false,"internalType":"uint256","name":"amountIn","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"minOut","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"triggerRatio","type":"uint256"},{"indexed":false,"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"indexed":false,"internalType":"bool","name":"shouldUnwrap","type":"bool"},{"indexed":false,"internalType":"uint256","name":"executionFee","type":"uint256"}],"name":"UpdateSwapOrder","type":"event"},{"inputs":[],"name":"PRICE_PRECISION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"USDG_PRECISION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_orderIndex","type":"uint256"}],"name":"cancelDecreaseOrder","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_orderIndex","type":"uint256"}],"name":"cancelIncreaseOrder","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"_swapOrderIndexes","type":"uint256[]"},{"internalType":"uint256[]","name":"_increaseOrderIndexes","type":"uint256[]"},{"internalType":"uint256[]","name":"_decreaseOrderIndexes","type":"uint256[]"}],"name":"cancelMultiple","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_orderIndex","type":"uint256"}],"name":"cancelSwapOrder","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_indexToken","type":"address"},{"internalType":"uint256","name":"_sizeDelta","type":"uint256"},{"internalType":"address","name":"_collateralToken","type":"address"},{"internalType":"uint256","name":"_collateralDelta","type":"uint256"},{"internalType":"bool","name":"_isLong","type":"bool"},{"internalType":"uint256","name":"_triggerPrice","type":"uint256"},{"internalType":"bool","name":"_triggerAboveThreshold","type":"bool"}],"name":"createDecreaseOrder","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address[]","name":"_path","type":"address[]"},{"internalType":"uint256","name":"_amountIn","type":"uint256"},{"internalType":"address","name":"_indexToken","type":"address"},{"internalType":"uint256","name":"_minOut","type":"uint256"},{"internalType":"uint256","name":"_sizeDelta","type":"uint256"},{"internalType":"address","name":"_collateralToken","type":"address"},{"internalType":"bool","name":"_isLong","type":"bool"},{"internalType":"uint256","name":"_triggerPrice","type":"uint256"},{"internalType":"bool","name":"_triggerAboveThreshold","type":"bool"},{"internalType":"uint256","name":"_executionFee","type":"uint256"},{"internalType":"bool","name":"_shouldWrap","type":"bool"}],"name":"createIncreaseOrder","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address[]","name":"_path","type":"address[]"},{"internalType":"uint256","name":"_amountIn","type":"uint256"},{"internalType":"uint256","name":"_minOut","type":"uint256"},{"internalType":"uint256","name":"_triggerRatio","type":"uint256"},{"internalType":"bool","name":"_triggerAboveThreshold","type":"bool"},{"internalType":"uint256","name":"_executionFee","type":"uint256"},{"internalType":"bool","name":"_shouldWrap","type":"bool"},{"internalType":"bool","name":"_shouldUnwrap","type":"bool"}],"name":"createSwapOrder","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"decreaseOrders","outputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"address","name":"collateralToken","type":"address"},{"internalType":"uint256","name":"collateralDelta","type":"uint256"},{"internalType":"address","name":"indexToken","type":"address"},{"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"internalType":"bool","name":"isLong","type":"bool"},{"internalType":"uint256","name":"triggerPrice","type":"uint256"},{"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"internalType":"uint256","name":"executionFee","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"decreaseOrdersIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"},{"internalType":"uint256","name":"_orderIndex","type":"uint256"},{"internalType":"address payable","name":"_feeReceiver","type":"address"}],"name":"executeDecreaseOrder","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"},{"internalType":"uint256","name":"_orderIndex","type":"uint256"},{"internalType":"address payable","name":"_feeReceiver","type":"address"}],"name":"executeIncreaseOrder","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"uint256","name":"_orderIndex","type":"uint256"},{"internalType":"address payable","name":"_feeReceiver","type":"address"}],"name":"executeSwapOrder","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"uint256","name":"_orderIndex","type":"uint256"}],"name":"getDecreaseOrder","outputs":[{"internalType":"address","name":"collateralToken","type":"address"},{"internalType":"uint256","name":"collateralDelta","type":"uint256"},{"internalType":"address","name":"indexToken","type":"address"},{"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"internalType":"bool","name":"isLong","type":"bool"},{"internalType":"uint256","name":"triggerPrice","type":"uint256"},{"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"internalType":"uint256","name":"executionFee","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"uint256","name":"_orderIndex","type":"uint256"}],"name":"getIncreaseOrder","outputs":[{"internalType":"address","name":"purchaseToken","type":"address"},{"internalType":"uint256","name":"purchaseTokenAmount","type":"uint256"},{"internalType":"address","name":"collateralToken","type":"address"},{"internalType":"address","name":"indexToken","type":"address"},{"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"internalType":"bool","name":"isLong","type":"bool"},{"internalType":"uint256","name":"triggerPrice","type":"uint256"},{"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"internalType":"uint256","name":"executionFee","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"uint256","name":"_orderIndex","type":"uint256"}],"name":"getSwapOrder","outputs":[{"internalType":"address","name":"path0","type":"address"},{"internalType":"address","name":"path1","type":"address"},{"internalType":"address","name":"path2","type":"address"},{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"minOut","type":"uint256"},{"internalType":"uint256","name":"triggerRatio","type":"uint256"},{"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"internalType":"bool","name":"shouldUnwrap","type":"bool"},{"internalType":"uint256","name":"executionFee","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_otherToken","type":"address"}],"name":"getUsdgMinPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"gov","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"increaseOrders","outputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"address","name":"purchaseToken","type":"address"},{"internalType":"uint256","name":"purchaseTokenAmount","type":"uint256"},{"internalType":"address","name":"collateralToken","type":"address"},{"internalType":"address","name":"indexToken","type":"address"},{"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"internalType":"bool","name":"isLong","type":"bool"},{"internalType":"uint256","name":"triggerPrice","type":"uint256"},{"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"internalType":"uint256","name":"executionFee","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"increaseOrdersIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_router","type":"address"},{"internalType":"address","name":"_vault","type":"address"},{"internalType":"address","name":"_weth","type":"address"},{"internalType":"address","name":"_usdg","type":"address"},{"internalType":"uint256","name":"_minExecutionFee","type":"uint256"},{"internalType":"uint256","name":"_minPurchaseTokenAmountUsd","type":"uint256"}],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"isInitialized","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"minExecutionFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"minPurchaseTokenAmountUsd","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"router","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_gov","type":"address"}],"name":"setGov","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_minExecutionFee","type":"uint256"}],"name":"setMinExecutionFee","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_minPurchaseTokenAmountUsd","type":"uint256"}],"name":"setMinPurchaseTokenAmountUsd","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"swapOrders","outputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"minOut","type":"uint256"},{"internalType":"uint256","name":"triggerRatio","type":"uint256"},{"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"internalType":"bool","name":"shouldUnwrap","type":"bool"},{"internalType":"uint256","name":"executionFee","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"swapOrdersIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_orderIndex","type":"uint256"},{"internalType":"uint256","name":"_collateralDelta","type":"uint256"},{"internalType":"uint256","name":"_sizeDelta","type":"uint256"},{"internalType":"uint256","name":"_triggerPrice","type":"uint256"},{"internalType":"bool","name":"_triggerAboveThreshold","type":"bool"}],"name":"updateDecreaseOrder","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_orderIndex","type":"uint256"},{"internalType":"uint256","name":"_sizeDelta","type":"uint256"},{"internalType":"uint256","name":"_triggerPrice","type":"uint256"},{"internalType":"bool","name":"_triggerAboveThreshold","type":"bool"}],"name":"updateIncreaseOrder","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_orderIndex","type":"uint256"},{"internalType":"uint256","name":"_minOut","type":"uint256"},{"internalType":"uint256","name":"_triggerRatio","type":"uint256"},{"internalType":"bool","name":"_triggerAboveThreshold","type":"bool"}],"name":"updateSwapOrder","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"usdg","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bool","name":"_triggerAboveThreshold","type":"bool"},{"internalType":"uint256","name":"_triggerPrice","type":"uint256"},{"internalType":"address","name":"_indexToken","type":"address"},{"internalType":"bool","name":"_maximizePrice","type":"bool"},{"internalType":"bool","name":"_raise","type":"bool"}],"name":"validatePositionOrderPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address[]","name":"_path","type":"address[]"},{"internalType":"uint256","name":"_triggerRatio","type":"uint256"}],"name":"validateSwapOrderPriceWithTriggerAboveThreshold","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"vault","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"weth","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"stateMutability":"payable","type":"receive"}]}'),o=JSON.parse('{"Mt":[{"inputs":[{"internalType":"address payable","name":"_orderBookAddress","type":"address"},{"internalType":"address","name":"_account","type":"address"},{"internalType":"uint256[]","name":"_indices","type":"uint256[]"}],"name":"getDecreaseOrders","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"},{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address payable","name":"_orderBookAddress","type":"address"},{"internalType":"address","name":"_account","type":"address"},{"internalType":"uint256[]","name":"_indices","type":"uint256[]"}],"name":"getIncreaseOrders","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"},{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address payable","name":"_orderBookAddress","type":"address"},{"internalType":"address","name":"_account","type":"address"},{"internalType":"uint256[]","name":"_indices","type":"uint256[]"}],"name":"getSwapOrders","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"},{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"}]}'),c={},s=i(9138),h=i(13805),v=i(49524),g=i(47981),I=i(27350),U=i(1403),F=i(1031),D=i(72603),n=i(37432),R=i(24069),k=0,$=0,ye=1e6,ce=null,De="Increase",O="Decrease",H="Stop",Be="1.3",je=1,Ze=30,nn=(0,R.Jl)(993,27),an=5,ke=10,On=750,tn=18,rn="Swap",sn="Long",dn="Short",E=1e4,Re=30,In="2000000000000000",on="Market",ln="Limit",un=(0,R.Jl)(5,Re),Ne=(0,R.Jl)(1,30),cn=50,Fe=(0,v.u)(h.Kj,"USDC"),Mn=(0,R.Jl)(200*1e3*1e3,18),Un=25,pn={"5m":60*5,"15m":60*15,"1h":60*60,"4h":60*60*4,"1d":60*60*24},Ee=ee.d,mn=function(a){return function(t){return a===0?t:a>0?t.mul(expandDecimals(1,a)):t.div(expandDecimals(1,-a))}};function yn(e){var a=e.size,t=e.sizeDelta,f=e.increaseSize,d=e.collateral,l=e.collateralDelta,r=e.increaseCollateral,b=e.entryFundingRate,T=e.cumulativeFundingRate,P=e.hasProfit,x=e.delta,u=e.includeDelta;if(!(!a&&!t)&&!(!d&&!l)){var p=a||(0,R._b)(0);if(t)if(f)p=a.add(t);else{if(t.gte(a))return;p=a.sub(t)}var m=d||(0,R._b)(0);if(l)if(r)m=d.add(l);else{if(l.gte(d))return;m=d.sub(l)}if(x&&u)if(P)m=m.add(x);else{if(x.gt(m))return;m=m.sub(x)}if(!m.eq(0)){if(m=t?m.mul(E-ke).div(E):m,b&&T){var M=a.mul(T.sub(b)).div(ye);m=m.sub(M)}return p.mul(E).div(m)}}}function fn(e,a){return a?(0,h.jY)(e)+"address/"+a:(0,h.jY)(e)}function gn(e){var a=e.delta,t=e.deltaPercentage,f=e.hasProfit,d,l;return a.gt(0)?(d=f?"+":"-",l=f?"+":"-"):(d="",l=""),d+="$".concat((0,R.dN)(a,Re,2,!0)),l+="".concat((0,R.dN)(t,2,2),"%"),{deltaStr:d,deltaPercentageStr:l}}function bn(e,a,t,f){return Ce.wn(["address","address","address","bool"],[e,a,t,f])}function vn(e,a,t){return e.mul(expandDecimals(1,t)).div(expandDecimals(1,a))}function Tn(e,a,t){var f=a.size,d=a.collateral,l=a.isLong,r=a.averagePrice,b=a.lastIncreasedTime,T=e;t||(t=f),T||(T=(0,R._b)(0));var P=r.gt(T)?r.sub(T):T.sub(r),x=t.mul(P).div(r),u=x,p=b+k<Date.now()/1e3,m=l?T.gt(r):T.lt(r);!p&&m&&x.mul(E).lte(f.mul($))&&(x=(0,R._b)(0));var M=x.mul(E).div(d),A=u.mul(E).div(d);return{delta:x,pendingDelta:u,pendingDeltaPercentage:A,hasProfit:m,deltaPercentage:M}}function hn(e,a,t,f,d){var l=a===Ee?d:a,r=t===Ee?d:t;return e+":"+l+":"+r+":"+f}function xn(e,a,t){if(!(!e||!e.weight||!a))return a.eq(0)?bigNumberify(0):e.weight.mul(a).div(t)}function Je(e,a,t,f,d,l,r){if(!e||!e.usdgAmount||!l||!r)return 0;var b=bigNumberify(t),T=bigNumberify(f),P=e.usdgAmount,x=P.add(a);d||(x=a.gt(P)?bigNumberify(0):P.sub(a));var u=xn(e,l,r);if(!u||u.eq(0))return b.toNumber();var p=P.gt(u)?P.sub(u):u.sub(P),m=x.gt(u)?x.sub(u):u.sub(x);if(m.lt(p)){var M=T.mul(p).div(u);return M.gt(b)?0:b.sub(M).toNumber()}var A=p.add(m).div(2);A.gt(u)&&(A=u);var ne=T.mul(A).div(u);return b.add(ne).toNumber()}function Oe(e){return e?je:Ze}function Cn(e,a,t,f,d,l,r,b,T,P){var x={amount:bigNumberify(0)};if(!a||!t||!f||!d)return x;if(t===f)return{amount:a};var u=getTokenInfo(d,t),p=getTokenInfo(d,f);if(u.isNative&&p.isWrapped)return{amount:a};if(u.isWrapped&&p.isNative)return{amount:a};var m;u&&(m=P?u.contractMinPrice:u.minPrice);var M;if(p&&(M=P?p.contractMaxPrice:p.maxPrice),!m||!M)return x;var A=mn(p.decimals-u.decimals),ne=bigNumberify(0);if(r&&!r.isZero()&&(ne=a.mul(Ne).div(r)),f===Fe){var re=Oe(Boolean(u.isStable));if(r&&!r.isZero()){var fe=ne;return{amount:A(fe.mul(E-re).div(E)),feeBasisPoints:re}}var Z=a.mul(m).div(Ne);return{amount:A(Z.mul(E-re).div(E)),feeBasisPoints:re}}if(t===Fe){var Q,ge=(Q=p.redemptionAmount)===null||Q===void 0?void 0:Q.mul(l||M).div(expandDecimals(1,p.decimals));if(ge&&ge.gt(nn)){var le=Oe(Boolean(p.isStable)),Se=r&&!r.isZero()?ne:a.mul(p.redemptionAmount).div(expandDecimals(1,p.decimals));return{amount:A(Se.mul(E-le).div(E)),feeBasisPoints:le}}var N=a,ie=getMostAbundantStableToken(e,d);if(!(ie!=null&&ie.availableAmount)||ie.availableAmount.lt(N)){var Le=r&&!r.isZero()?ne:a.mul(p.redemptionAmount).div(expandDecimals(1,p.decimals)),Ie=Oe(Boolean(p.isStable));return{amount:A(Le.mul(E-Ie).div(E)),feeBasisPoints:Ie}}var ve=Oe(!0),pe=Oe(!1);if(r&&!r.isZero()){var _e=ne.mul(E-ve-pe).div(E);return{amount:A(_e),path:[Fe,ie.address,p.address],feeBasisPoints:ve+pe}}var oe=a.mul(Ne).div(ie.maxPrice);return oe=oe.mul(E-ve).div(E),oe=oe.mul(ie.minPrice).div(l||M),oe=oe.mul(E-pe).div(E),{amount:A(oe),path:[Fe,ie.address,p.address],feeBasisPoints:ve+pe}}var Ge=r&&!r.isZero()?ne:a.mul(m).div(l||M),me=a.mul(m).div(Ne);me=vn(me,u.decimals,tn);var Me=u.isStable&&p.isStable?je:Ze,we=u.isStable&&p.isStable?an:cn,Te=Je(u,me,Me,we,!0,b,T),he=Je(p,me,Me,we,!1,b,T),Ue=Te>he?Te:he;return{amount:A(Ge.mul(E-Ue).div(E)),feeBasisPoints:Ue}}function Bn(e){return e===ethers.constants.AddressZero}function Rn(e){return e===ethers.constants.HashZero}function Nn(e,a,t,f){var d=getContract(t,"PositionRouter"),l=getContract(t,"NATIVE_TOKEN"),r=useSWR([a,t,d,"minExecutionFee"],{fetcher:contractFetcher(e,PositionRouter)}),b=r.data,T=useSWR(["gasPrice",t],{fetcher:function(){return new Promise(function(){var re=_asyncToGenerator(_regeneratorRuntime().mark(function fe(Z,Q){var ge,le;return _regeneratorRuntime().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(ge=getProvider(e,t),ge){N.next=4;break}return Z(void 0),N.abrupt("return");case 4:return N.prev=4,N.next=7,ge.getGasPrice();case 7:le=N.sent,Z(le),N.next=14;break;case 11:N.prev=11,N.t0=N.catch(4),console.error(N.t0);case 14:case"end":return N.stop()}},fe,null,[[4,11]])}));return function(fe,Z){return re.apply(this,arguments)}}())}}),P=T.data,x;(t===ARBITRUM||t===ARBITRUM_TESTNET)&&(x=65e3),t===AVALANCHE?x=7e5:x=65e3;var u=b;if(P&&b){var p=P.mul(x);p.gt(b)&&(u=p)}var m=getUsd(u,l,!1,f),M=m==null?void 0:m.gt(expandDecimals(getHighExecutionFee(t),Re)),A=M?'The network cost to send transactions is high at the moment, please check the "Execution Fee" value before proceeding.':"";return{minExecutionFee:u,minExecutionFeeUSD:m,minExecutionFeeErrorMessage:A}}function Sn(e){if(!e)return bigNumberify(0);var a=e.mul(E-ke).div(E);return e.sub(a)}function Qe(e){var a=e.liquidationAmount,t=e.size,f=e.collateral,d=e.averagePrice,l=e.isLong;if(!(!t||t.eq(0))){if(a.gt(f)){var r=a.sub(f),b=r.mul(d).div(t);return l?d.add(b):d.sub(b)}var T=f.sub(a),P=T.mul(d).div(t);return l?d.sub(P):d.add(P)}}function Ke(e,a,t,f,d,l){if(!e||e.length===0)return[];for(var r=y()(e,2),b=r[0],T=r[1],P=b.length/d,x=[],u=0;u<P;u++){var p=T.slice(l*u,l*(u+1)).concat(b.slice(d*u,d*(u+1)));if(!(p[0]===Ee&&p[1]===Ee)){var m=f(p);m.index=t[u],m.account=a,x.push(m)}}return x}function wn(e,a,t,f){if(!a||!a.length)return[];var d=function(r){var b=r[6].toString()==="1",T=r[7].toString()==="1";return{path:[r[0],r[1],r[2]].filter(function(P){return P!==Ee}),amountIn:r[3],minOut:r[4],triggerRatio:r[5],triggerAboveThreshold:b,type:rn,shouldUnwrap:T}};return Ke(a,t,f,d,5,3).filter(function(l){return l.path.every(function(r){return(0,g.wu)(e,r)})})}function Pn(e,a,t,f){var d=function(r){var b=r[5].toString()==="1";return{purchaseToken:r[0],collateralToken:r[1],indexToken:r[2],purchaseTokenAmount:r[3],sizeDelta:r[4],isLong:b,triggerPrice:r[6],triggerAboveThreshold:r[7].toString()==="1",type:De}};return Ke(a,t,f,d,5,3).filter(function(l){return(0,g.wu)(e,l.purchaseToken)&&(0,g.wu)(e,l.collateralToken)&&(0,g.wu)(e,l.indexToken)})}function An(e,a,t,f){var d=function(r){var b=r[4].toString()==="1";return{collateralToken:r[0],indexToken:r[1],collateralDelta:r[2],sizeDelta:r[3],isLong:b,triggerPrice:r[5],triggerAboveThreshold:r[6].toString()==="1",type:O}};return Ke(a,t,f,d,5,2).filter(function(l){return(0,g.wu)(e,l.collateralToken)&&(0,g.wu)(e,l.indexToken)})}function Dn(e,a){var t=(0,q.Ge)(),f=t.library,d=t.account,l=!0,r=a||d,b=(0,n.x)(),T=b.chainId,P=l&&r&&e,x=(0,v.u)(T,"OrderBook"),u=(0,v.u)(T,"OrderBook"),p=P?[l,T,x,r]:!1,m=(0,L.ZP)(p||[],{dedupingInterval:5e3,fetcher:function(){var fe=z()(S()().mark(function Q(ge,le,Se,N){var ie,Le,Ie,ve,pe,_e,oe,Ge,me,Me,we,Te,he,Ue,ze,Ve,Ye,Xe,qe,$e,en;return S()().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return ie=(0,U.VH)(f,le),Le=new B.Contract(Se,W.Mt,ie),Ie=new B.Contract(u,o.Mt,ie),ve=function(){var _="".concat((0,s.wA)(le),"/orders_indices?account=").concat(N);return fetch(_).then(function(){var K=z()(S()().mark(function V(J){var Y,X,ue,te,We;return S()().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:return Pe.next=2,J.json();case 2:for(Y=Pe.sent,X={},ue=0,te=Object.keys(Y);ue<te.length;ue++)We=te[ue],X[We.toLowerCase()]=Y[We].map(function(He){return parseInt(He.value)}).sort(function(He,En){return He-En});return Pe.abrupt("return",X);case 6:case"end":return Pe.stop()}},V)}));return function(V){return K.apply(this,arguments)}}()).catch(function(){return{swap:[],increase:[],decrease:[]}})},pe=function(){var be=z()(S()().mark(function _(K){var V,J;return S()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return V=K.toLowerCase()+"OrdersIndex",X.next=3,Le[V](N).then(function(ue){return(0,R._b)(ue._hex).toNumber()});case 3:return J=X.sent,X.abrupt("return",J);case 5:case"end":return X.stop()}},_)}));return function(K){return be.apply(this,arguments)}}(),_e=function(){var be=z()(S()().mark(function _(){var K,V,J,Y,X;return S()().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.next=2,Promise.all([pe("swap"),pe("increase"),pe("decrease")]);case 2:return K=te.sent,V=y()(K,3),J=V[0],Y=V[1],X=V[2],te.abrupt("return",{swap:J,increase:Y,decrease:X});case 8:case"end":return te.stop()}},_)}));return function(){return be.apply(this,arguments)}}(),oe=function(_,K){var V=10,J=[];K=K||Math.max(_-V,0);for(var Y=_-1;Y>=K;Y--)J.push(Y);return J},Ge=function(_,K){return _.length===0?oe(K):[].concat(w()(_),w()(oe(K,_[_.length-1]+1).sort(function(V,J){return J-V})))},me=function(){var be=z()(S()().mark(function _(K,V,J,Y){var X,ue,te;return S()().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:return X=Ge(V,J),xe.next=3,Ie[K](Se,N,X);case 3:return ue=xe.sent,te=Y(le,ue,N,X),xe.abrupt("return",te);case 6:case"end":return xe.stop()}},_)}));return function(K,V,J,Y){return be.apply(this,arguments)}}(),ae.prev=9,ae.next=12,Promise.all([ve(),_e()]);case 12:return Me=ae.sent,we=y()(Me,2),Te=we[0],he=we[1],ae.next=18,Promise.all([me("getSwapOrders",Te.swap,he.swap,wn),me("getIncreaseOrders",Te.increase,he.increase,Pn),me("getDecreaseOrders",Te.decrease,he.decrease,An)]);case 18:return Ue=ae.sent,ze=y()(Ue,3),Ve=ze[0],Ye=Ve===void 0?[]:Ve,Xe=ze[1],qe=Xe===void 0?[]:Xe,$e=ze[2],en=$e===void 0?[]:$e,ae.abrupt("return",[].concat(w()(Ye),w()(qe),w()(en)));case 29:ae.prev=29,ae.t0=ae.catch(9),console.error(ae.t0);case 32:case"end":return ae.stop()}},Q,null,[[9,29]])}));function Z(Q,ge,le,Se){return fe.apply(this,arguments)}return Z}()}),M=m.data,A=M===void 0?[]:M,ne=m.mutate,re=m.error;return[A,ne,re]}function Fn(e){var a=e.isLong,t=e.size,f=e.collateral,d=e.averagePrice,l=e.entryFundingRate,r=e.cumulativeFundingRate,b=e.sizeDelta,T=e.collateralDelta,P=e.increaseCollateral,x=e.increaseSize,u=e.delta,p=e.hasProfit,m=e.includeDelta;if(!(!t||!f||!d)){var M=t||bigNumberify(0),A=f;if(b){if(x)M=t.add(b);else{if(b.gte(t))return;M=t.sub(b)}if(m&&!p){var ne=b.mul(u).div(t);A=A.sub(ne)}}if(T)if(P)A=A.add(T);else{if(T.gte(A))return;A=A.sub(T)}var re=Sn(t).add(un);if(l&&r){var fe=t.mul(r.sub(l)).div(ye);re=re.add(fe)}var Z=Qe({liquidationAmount:re,size:M,collateral:A,averagePrice:d,isLong:a}),Q=Qe({liquidationAmount:M.mul(E).div(ce),size:M,collateral:A,averagePrice:d,isLong:a});return Z?Q?a?Z.gt(Q)?Z:Q:Z.lt(Q)?Z:Q:Z:Q}}function Ln(){var e=getServerUrl(ARBITRUM,"/ui_version"),a=useSWR([e],{fetcher:function(){return fetch.apply(void 0,arguments).then(function(r){return r.text()})}}),t=a.data,f=a.mutate,d=!1;return t&&parseFloat(t)>parseFloat(Be)&&(d=!0),d=!1,{data:d,mutate:f}}},1031:function(Ae,se,i){i.d(se,{z3:function(){return de.z3}});var de=i(72603),w=i(59734),j={},y=i(9138),G=i(49524),S=i(47981),C=i(27350),z=i(39265);function q(B,L,W){if(L){var o=B.isNative?W:B.address,c=L[o];if(c){var s=bigNumberify(c);if(!s.eq(0)){var h=B.maxPrice.sub(B.minPrice),v=h.mul(BASIS_POINTS_DIVISOR).div(B.maxPrice.add(B.minPrice).div(2));if(v.gt(MAX_PRICE_DEVIATION_BASIS_POINTS-50)){s.gt(B.minPrimaryPrice)?B.maxPrice=s:B.minPrice=s;return}var g=v.div(2).toNumber();B.maxPrice=s.mul(BASIS_POINTS_DIVISOR+g).div(BASIS_POINTS_DIVISOR),B.minPrice=s.mul(BASIS_POINTS_DIVISOR-g).div(BASIS_POINTS_DIVISOR)}}}}function ee(B,L,W,o,c,s,h,v){s||(s=15);for(var g=2,I={},U=0;U<B.length;U++){var F=JSON.parse(JSON.stringify(B[U]));L&&(F.balance=L[U]),F.address===USDG_ADDRESS&&(F.minPrice=expandDecimals(1,USD_DECIMALS),F.maxPrice=expandDecimals(1,USD_DECIMALS)),I[F.address]=F}for(var D=0;D<W.length;D++){var n=JSON.parse(JSON.stringify(W[D]));if(o){if(n.poolAmount=o[D*s],n.reservedAmount=o[D*s+1],n.availableAmount=n.poolAmount.sub(n.reservedAmount),n.usdgAmount=o[D*s+2],n.redemptionAmount=o[D*s+3],n.weight=o[D*s+4],n.bufferAmount=o[D*s+5],n.maxUsdgAmount=o[D*s+6],n.globalShortSize=o[D*s+7],n.maxGlobalShortSize=o[D*s+8],n.maxGlobalLongSize=o[D*s+9],n.minPrice=o[D*s+10],n.maxPrice=o[D*s+11],n.guaranteedUsd=o[D*s+12],n.maxPrimaryPrice=o[D*s+13],n.minPrimaryPrice=o[D*s+14],n.contractMinPrice=n.minPrice,n.contractMaxPrice=n.maxPrice,n.maxAvailableShort=bigNumberify(0),n.hasMaxAvailableShort=!1,n.maxGlobalShortSize.gt(0)&&(n.hasMaxAvailableShort=!0,n.maxGlobalShortSize.gt(n.globalShortSize)&&(n.maxAvailableShort=n.maxGlobalShortSize.sub(n.globalShortSize))),n.maxUsdgAmount.eq(0)&&(n.maxUsdgAmount=DEFAULT_MAX_USDG_AMOUNT),n.availableUsd=n.isStable?n.poolAmount.mul(n.minPrice).div(expandDecimals(1,n.decimals)):n.availableAmount.mul(n.minPrice).div(expandDecimals(1,n.decimals)),n.maxAvailableLong=bigNumberify(0),n.hasMaxAvailableLong=!1,n.maxGlobalLongSize.gt(0)){if(n.hasMaxAvailableLong=!0,n.maxGlobalLongSize.gt(n.guaranteedUsd)){var R=n.maxGlobalLongSize.sub(n.guaranteedUsd);n.maxAvailableLong=R.lt(n.availableUsd)?R:n.availableUsd}}else n.maxAvailableLong=n.availableUsd;n.maxLongCapacity=n.maxGlobalLongSize.gt(0)&&n.maxGlobalLongSize.lt(n.availableUsd.add(n.guaranteedUsd))?n.maxGlobalLongSize:n.availableUsd.add(n.guaranteedUsd),n.managedUsd=n.availableUsd.add(n.guaranteedUsd),n.managedAmount=n.managedUsd.mul(expandDecimals(1,n.decimals)).div(n.minPrice),q(n,h,v)}c&&(n.fundingRate=c[D*g],n.cumulativeFundingRate=c[D*g+1]),I[n.address]&&(n.balance=I[n.address].balance),I[n.address]=n}return I}function Ce(B,L,W,o,c,s){var h=getTokens(L),v=getContract(L,"VaultReader"),g=getContract(L,"Vault"),I=getContract(L,"PositionRouter"),U=getContract(L,"NATIVE_TOKEN"),F=getWhitelistedTokens(L),D=F.map(function(ce){return ce.address}),n=useSWR(["useInfoTokens:".concat(W),L,v,"getVaultTokenInfoV4"],{fetcher:contractFetcher(B,VaultReader,[g,I,U,expandDecimals(1,18),D])}),R=n.data,k=getServerUrl(L,"/prices"),$=useSWR([k],{fetcher:function(){return fetch.apply(void 0,arguments).then(function(De){return De.json()})},refreshInterval:500,refreshWhenHidden:!0}),ye=$.data;return{infoTokens:ee(h,o,F,R,c,s,ye,U)}}},72603:function(Ae,se,i){i.d(se,{z3:function(){return C}});var de=i(9279),w=i(13805),j=i(47981),y=i(39265),G=de.d;function S(o,c){return c?getExplorerUrl(o)+"token/"+c:getExplorerUrl(o)}function C(o,c,s,h){return s&&c===h?o[G]:o[c||G]}function z(o,c,s,h,v){if(h&&h!==MARKET&&v)return v;if(s&&!(c&&!s.maxPrice)&&!(!c&&!s.minPrice))return c?s.maxPrice:s.minPrice}function q(o,c,s,h,v,g){if(o){if(c===USDG_ADDRESS)return o.mul(PRECISION).div(expandDecimals(1,18));var I=C(h,c),U=z(c,s,I,v,g);if(U)return o.mul(U).div(expandDecimals(1,I.decimals))}}function ee(o,c,s){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(s){if(c===USDG_ADDRESS)return s.mul(expandDecimals(1,18)).div(PRECISION);var v=C(o,c);if(v){var g=h.overridePrice||(h.max?v.maxPrice:v.minPrice);if(!(!BigNumber.isBigNumber(g)||g.lte(0)))return s.mul(expandDecimals(1,v.decimals)).div(g)}}}function Ce(o,c,s,h,v,g,I,U){if(!(!o||!c||!g||!s||!h||!v||!U)){var F=getVisibleTokens(o),D=c.mul(s).div(PRECISION),n=F.map(function(k){var $=C(g,k.address),ye=getFeeBasisPoints($,D,MINT_BURN_FEE_BASIS_POINTS,TAX_BASIS_POINTS,!0,h,v),ce=bigNumberify(0);return $.maxUsdgAmount&&$.maxUsdgAmount.gt(0)&&$.usdgAmount&&$.usdgAmount.gt(0)&&(ce=$.maxUsdgAmount.sub($.usdgAmount).mul(expandDecimals(1,USD_DECIMALS)).div(expandDecimals(1,USDG_DECIMALS))),{token:k,fees:ye,amountLeftToDeposit:ce}}),R=n.filter(function(k){return k.token.address!==I&&k.hasOwnProperty("fees")&&U.lt(k.amountLeftToDeposit)}).sort(function(k,$){return k.fees-$.fees});return R.length>0?R[0]:n.sort(function(k,$){return Number($.amountLeftToDeposit.sub(k.amountLeftToDeposit))})[0]}}function B(o,c){for(var s=getWhitelistedTokens(o),h,v=s.find(function(F){return F.isStable}),g=0;g<s.length;g++){var I=C(c,s[g].address);if(!(!I.isStable||!I.availableAmount)){var U=adjustForDecimals(I.availableAmount,I.decimals,USD_DECIMALS);(!h||U.gt(h))&&(h=U,v=I)}}return v}function L(o,c){return!c||o.address!==G||!o.balance?!1:!!(c.gte(o.balance)||o.balance.sub(c).lt(DUST_BNB))}var W=function(c,s){if(c){for(var h=[],v=0;v<c.length;v++){var g=c[v];g===G&&(g=s),h.push(g)}return h}}}}]);
