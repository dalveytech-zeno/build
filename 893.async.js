"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[893],{9138:function(Te,ie,o){var ne=o(38416),O=o.n(ne),H=o(13805),f,V="https://stats.gmx.io/api",U=(f={default:"https://gmx-server-mainnet.uw.r.appspot.com"},O()(f,H.RR,"https://gambit-server-staging.uc.r.appspot.com"),O()(f,H.qF,"https://gambit-server-devnet.uc.r.appspot.com"),O()(f,H.PO,"https://gmx-server-mainnet.uw.r.appspot.com"),O()(f,H.Qz,"https://gmx-avax-server.uc.r.appspot.com"),f);function y(se){if(!se)throw new Error("chainId is not provided");if(document.location.hostname.includes("deploy-preview")){var ee=localStorage.getItem("SERVER_BASE_URL");if(ee)return ee}return U[se]||U.default}function q(se,ee){return"".concat(y(se)).concat(ee)}},47981:function(Te,ie,o){o.d(ie,{rU:function(){return se}});for(var ne=o(38416),O=o.n(ne),H=o(20238),f=o(13805),V=o(78159),U,y,q,se=6,ee=function(z){return(0,V.K)(f.Fe,z)},Pe=(U={},O()(U,f.vT,[{name:"Wrapped Binance Coin",symbol:"WBNB",decimals:18,address:"0xd722eA9CBC41Eb530eEcc0689aaDD88f618e9d88",isWrapped:!0,baseSymbol:"BNB",imageUrl:"https://assets.coingecko.com/coins/images/825/small/binance-coin-logo.png",isShortable:!0},{name:"Bitcoin (BTCB)",symbol:"BTC",decimals:8,isShortable:!0,address:"0xd06E2628a7845e85F42751c89beDE17DaB8411c8",imageUrl:"https://assets.coingecko.com/coins/images/26115/thumb/btcb.png?1655921693"},{name:"Ethereum",symbol:"ETH",decimals:18,isShortable:!0,address:"0xe94212E917bAb65D47489ABeE5c891adF3345bF4",imageUrl:"https://assets.coingecko.com/coins/images/279/small/ethereum.png?1595348880"},{name:"Binance Coin",symbol:"BNB",decimals:18,isShortable:!0,address:H.dE,isNative:!0,imageUrl:"https://assets.coingecko.com/coins/images/825/small/binance-coin-logo.png"},{name:"USDC",symbol:"USDC",decimals:18,address:"0x811Cc43d8129Ff2235Ef1b63E92bbbE2eAeF1714",isStable:!0,isShortable:!0,imageUrl:"https://assets.coingecko.com/coins/images/6319/thumb/USD_Coin_icon.png?1547042389"},{name:"DLP",symbol:"DLP",decimals:18,address:"0x0DE6925163084609E1ABD4aDFE460f1c328EDa0B",isStable:!0,isShortable:!0,imageUrl:"https://assets.coingecko.com/coins/images/6319/thumb/USD_Coin_icon.png?1547042389"}]),O()(U,f.Vr,[{name:"Bitcoin (BTCB)",symbol:"BTC",decimals:8,address:"0xb19C12715134bee7c4b1Ca593ee9E430dABe7b56",imageUrl:"https://assets.coingecko.com/coins/images/26115/thumb/btcb.png?1655921693"},{name:"Ethereum",symbol:"ETH",decimals:18,address:"0x1958f7C067226c7C8Ac310Dc994D0cebAbfb2B02",imageUrl:"https://assets.coingecko.com/coins/images/279/small/ethereum.png?1595348880"},{name:"Binance Coin",symbol:"BNB",decimals:18,address:H.dE,isNative:!0,imageUrl:"https://assets.coingecko.com/coins/images/825/small/binance-coin-logo.png"},{name:"Wrapped Binance Coin",symbol:"WBNB",decimals:18,address:"0x612777Eea37a44F7a95E3B101C39e1E2695fa6C2",isWrapped:!0,baseSymbol:"BNB",imageUrl:"https://assets.coingecko.com/coins/images/825/small/binance-coin-logo.png"}]),O()(U,f.Fe,[{name:"Bitcoin (BTCB)",symbol:"BTC",decimals:18,address:ee("BTC"),imageUrl:"https://assets.coingecko.com/coins/images/26115/thumb/btcb.png?1655921693",isShortable:!0},{name:"Ethereum",symbol:"ETH",decimals:18,address:ee("ETH"),imageUrl:"https://assets.coingecko.com/coins/images/279/small/ethereum.png?1595348880",isShortable:!0},{name:"Binance Coin",symbol:"BNB",decimals:18,address:H.dE,isNative:!0,imageUrl:"https://assets.coingecko.com/coins/images/825/small/binance-coin-logo.png",isShortable:!0},{name:"Wrapped Ethereum Coin",symbol:"WETH",decimals:18,address:ee("ETH"),isWrapped:!0,baseSymbol:"WETH",imageUrl:"https://assets.coingecko.com/coins/images/279/small/ethereum.png?1595348880",isShortable:!0}]),U),I=(y={},O()(y,f.PO,{GMX:{name:"GMX",symbol:"GMX",decimals:18,address:(0,V.K)(f.PO,"GMX"),imageUrl:"https://assets.coingecko.com/coins/images/18323/small/arbit.png?1631532468"},GLP:{name:"GMX LP",symbol:"GLP",decimals:18,address:(0,V.K)(f.PO,"StakedGlpTracker"),imageUrl:"https://github.com/gmx-io/gmx-assets/blob/main/GMX-Assets/PNG/GLP_LOGO%20ONLY.png?raw=true"}}),O()(y,f.Qz,{GMX:{name:"GMX",symbol:"GMX",decimals:18,address:(0,V.K)(f.Qz,"GMX"),imageUrl:"https://assets.coingecko.com/coins/images/18323/small/arbit.png?1631532468"},GLP:{name:"GMX LP",symbol:"GLP",decimals:18,address:(0,V.K)(f.Qz,"StakedGlpTracker"),imageUrl:"https://github.com/gmx-io/gmx-assets/blob/main/GMX-Assets/PNG/GLP_LOGO%20ONLY.png?raw=true"}}),O()(y,f.vT,{}),O()(y,f.Fe,{}),y),L=(q={},O()(q,f.vT,{GMX:{coingecko:"https://www.coingecko.com/en/coins/gmx",avalanche:"https://snowtrace.io/address/0x62edc0692bd897d2295872a9ffcac5425011c661"},GLP:{avalanche:"https://snowtrace.io/address/0x9e295B5B976a184B14aD8cd72413aD846C299660"},AVAX:{coingecko:"https://www.coingecko.com/en/coins/avalanche"},ETH:{coingecko:"https://www.coingecko.com/en/coins/weth",avalanche:"https://snowtrace.io/address/0x49d5c2bdffac6ce2bfdb6640f4f80f226bc10bab"},BTC:{coingecko:"https://www.coingecko.com/en/coins/wrapped-bitcoin",avalanche:"https://snowtrace.io/address/0x50b7545627a5162f82a992c33b87adc75187b218"},"BTC.b":{coingecko:"https://www.coingecko.com/en/coins/wrapped-bitcoin",avalanche:"https://snowtrace.io/address/0x152b9d0FdC40C096757F570A51E494bd4b943E50"},MIM:{coingecko:"https://www.coingecko.com/en/coins/magic-internet-money",avalanche:"https://snowtrace.io/address/0x130966628846bfd36ff31a822705796e8cb8c18d"},"USDC.e":{coingecko:"https://www.coingecko.com/en/coins/usd-coin-avalanche-bridged-usdc-e",avalanche:"https://snowtrace.io/address/0xa7d7079b0fead91f3e65f86e8915cb59c1a4c664"},USDC:{coingecko:"https://www.coingecko.com/en/coins/usd-coin",avalanche:"https://snowtrace.io/address/0xb97ef9ef8734c71904d8002f8b6bc66dd9c48a6e"}}),O()(q,f.Fe,{GMX:{coingecko:"https://www.coingecko.com/en/coins/gmx",avalanche:"https://snowtrace.io/address/0x62edc0692bd897d2295872a9ffcac5425011c661"},GLP:{avalanche:"https://snowtrace.io/address/0x9e295B5B976a184B14aD8cd72413aD846C299660"},AVAX:{coingecko:"https://www.coingecko.com/en/coins/avalanche"},ETH:{coingecko:"https://www.coingecko.com/en/coins/weth",avalanche:"https://snowtrace.io/address/0x49d5c2bdffac6ce2bfdb6640f4f80f226bc10bab"},BTC:{coingecko:"https://www.coingecko.com/en/coins/wrapped-bitcoin",avalanche:"https://snowtrace.io/address/0x50b7545627a5162f82a992c33b87adc75187b218"},"BTC.b":{coingecko:"https://www.coingecko.com/en/coins/wrapped-bitcoin",avalanche:"https://snowtrace.io/address/0x152b9d0FdC40C096757F570A51E494bd4b943E50"},MIM:{coingecko:"https://www.coingecko.com/en/coins/magic-internet-money",avalanche:"https://snowtrace.io/address/0x130966628846bfd36ff31a822705796e8cb8c18d"},"USDC.e":{coingecko:"https://www.coingecko.com/en/coins/usd-coin-avalanche-bridged-usdc-e",avalanche:"https://snowtrace.io/address/0xa7d7079b0fead91f3e65f86e8915cb59c1a4c664"},USDC:{coingecko:"https://www.coingecko.com/en/coins/usd-coin",avalanche:"https://snowtrace.io/address/0xb97ef9ef8734c71904d8002f8b6bc66dd9c48a6e"}}),O()(q,f.qF,{GMX:{coingecko:"https://www.coingecko.com/en/coins/gmx",arbitrum:"https://arbiscan.io/address/0xfc5a1a6eb076a2c7ad06ed22c90d7e710e35ad0a"},GLP:{arbitrum:"https://testnet.arbiscan.io/token/0xb4f81Fa74e06b5f762A104e47276BA9b2929cb27"}}),O()(q,f.PO,{GMX:{coingecko:"https://www.coingecko.com/en/coins/gmx",arbitrum:"https://arbiscan.io/address/0xfc5a1a6eb076a2c7ad06ed22c90d7e710e35ad0a"},GLP:{arbitrum:"https://arbiscan.io/token/0x1aDDD80E6039594eE970E5872D247bf0414C8903",reserves:"https://portfolio.nansen.ai/dashboard/gmx?chain=ARBITRUM"},ETH:{coingecko:"https://www.coingecko.com/en/coins/ethereum"},BTC:{coingecko:"https://www.coingecko.com/en/coins/wrapped-bitcoin",arbitrum:"https://arbiscan.io/address/0x2f2a2543b76a4166549f7aab2e75bef0aefc5b0f"},LINK:{coingecko:"https://www.coingecko.com/en/coins/chainlink",arbitrum:"https://arbiscan.io/address/0xf97f4df75117a78c1a5a0dbb814af92458539fb4"},UNI:{coingecko:"https://www.coingecko.com/en/coins/uniswap",arbitrum:"https://arbiscan.io/address/0xfa7f8980b0f1e64a2062791cc3b0871572f1f7f0"},USDC:{coingecko:"https://www.coingecko.com/en/coins/usd-coin",arbitrum:"https://arbiscan.io/address/0xff970a61a04b1ca14834a43f5de4533ebddb5cc8"},USDT:{coingecko:"https://www.coingecko.com/en/coins/tether",arbitrum:"https://arbiscan.io/address/0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"},DAI:{coingecko:"https://www.coingecko.com/en/coins/dai",arbitrum:"https://arbiscan.io/address/0xda10009cbd5d07dd0cecc66161fc93d7c9000da1"},MIM:{coingecko:"https://www.coingecko.com/en/coins/magic-internet-money",arbitrum:"https://arbiscan.io/address/0xfea7a6a0b346362bf88a9e4a88416b77a57d6c2a"},FRAX:{coingecko:"https://www.coingecko.com/en/coins/frax",arbitrum:"https://arbiscan.io/address/0x17fc002b466eec40dae837fc4be5c67993ddbd6f"}}),O()(q,f.Qz,{GMX:{coingecko:"https://www.coingecko.com/en/coins/gmx",avalanche:"https://snowtrace.io/address/0x62edc0692bd897d2295872a9ffcac5425011c661"},GLP:{avalanche:"https://snowtrace.io/address/0x9e295B5B976a184B14aD8cd72413aD846C299660",reserves:"https://portfolio.nansen.ai/dashboard/gmx?chain=AVAX"},AVAX:{coingecko:"https://www.coingecko.com/en/coins/avalanche"},ETH:{coingecko:"https://www.coingecko.com/en/coins/weth",avalanche:"https://snowtrace.io/address/0x49d5c2bdffac6ce2bfdb6640f4f80f226bc10bab"},WBTC:{coingecko:"https://www.coingecko.com/en/coins/wrapped-bitcoin",avalanche:"https://snowtrace.io/address/0x50b7545627a5162f82a992c33b87adc75187b218"},BTC:{coingecko:"https://www.coingecko.com/en/coins/bitcoin-avalanche-bridged-btc-b",avalanche:"https://snowtrace.io/address/0x152b9d0FdC40C096757F570A51E494bd4b943E50"},MIM:{coingecko:"https://www.coingecko.com/en/coins/magic-internet-money",avalanche:"https://snowtrace.io/address/0x130966628846bfd36ff31a822705796e8cb8c18d"},USDC:{coingecko:"https://www.coingecko.com/en/coins/usd-coin",avalanche:"https://snowtrace.io/address/0xb97ef9ef8734c71904d8002f8b6bc66dd9c48a6e"},"USDC.e":{coingecko:"https://www.coingecko.com/en/coins/usd-coin-avalanche-bridged-usdc-e",avalanche:"https://snowtrace.io/address/0xa7d7079b0fead91f3e65f86e8915cb59c1a4c664"}}),q),de={ETH:"#6062a6",BTC:"#F7931A",WBTC:"#F7931A",USDC:"#2775CA","USDC.e":"#2A5ADA",USDT:"#67B18A",MIM:"#9695F8",FRAX:"#000",DAI:"#FAC044",UNI:"#E9167C",AVAX:"#E84142",LINK:"#3256D6"},n={},l={},c={},P={},A=[f.Fe,f.RR,f.Vr,f.PO,f.qF,f.Qz,f.vT],h=0;h<A.length;h++){var D=A[h];n[D]={},l[D]={};for(var R=Pe[D],N=0;N<(R==null?void 0:R.length);N++){var S=R[N];n[D][S.address]=S,l[D][S.symbol]=S}}function r(T){return c[T]}function ce(T){return P[T]}function j(T){return Pe[T]}function K(T,z){if(!n[T])throw new Error("Incorrect chainId ".concat(T));return z in n[T]}function he(T,z){if(!n[T])throw new Error("Incorrect chainId ".concat(T));if(!n[T][z])throw new Error('Incorrect address "'.concat(z,'" for chainId ').concat(T));return n[T][z]}function le(T,z){var Ne=l[T][z];if(!Ne)throw new Error('Incorrect symbol "'.concat(z,'" for chainId ').concat(T));return Ne}function Be(T){return Pe[T].filter(function(z){return z.symbol!=="USDG"})}function je(T){return Be(T).filter(function(z){return!z.isWrapped&&!z.isTempHidden})}},37432:function(Te,ie,o){o.d(ie,{x:function(){return f}});var ne=o(34713),O=o(13805),H=o(22837);function f(){var V=(0,ne.Ge)(),U=V.chainId;if(!U){var y=localStorage.getItem(H.HC);y&&(U=parseInt(y),U||localStorage.removeItem(H.HC))}return(!U||!O.FQ.includes(U))&&(U=O.rC),{chainId:U}}},39265:function(Te,ie,o){o.d(ie,{pQ:function(){return sr},sh:function(){return r},VZ:function(){return tr},FB:function(){return er},YO:function(){return ar},cZ:function(){return S},bD:function(){return D},Qo:function(){return rr},ET:function(){return or}});var ne=o(861),O=o(27424),H=o(17061),f=o(17156),V=o(34713),U=o(20238),y=o(59734),q={},se={},ee={},Pe=o(9138),I=o(13805),L=o(78159),de=o(47981),n=o(27350),l=o(1403),c=o(1031),P=o(72603),A=o(37432),h=o(24069),D=0,R=0,N=1e6,S=100*1e4,r="Increase",ce="Decrease",j="Stop",K="1.3",he=1,le=30,Be=(0,h.Jl)(993,27),je=5,T=10,z=750,Ne=18,qe="Swap",er="Long",rr="Short",B=1e4,Ke=30,br="2000000000000000",ar="Market",tr="Limit",ir=(0,h.Jl)(5,Ke),Me=(0,h.Jl)(1,30),nr=50,ye=(0,L.K)(I.Kj,"USDC"),hr=(0,h.Jl)(200*1e3*1e3,18),pr=25,sr={"5m":60*5,"15m":60*15,"1h":60*60,"4h":60*60*4,"1d":60*60*24},Oe=U.dE,cr=function(a){return function(t){return a===0?t:a>0?t.mul(expandDecimals(1,a)):t.div(expandDecimals(1,-a))}};function Sr(e){var a=e.size,t=e.sizeDelta,g=e.increaseSize,s=e.collateral,u=e.collateralDelta,i=e.increaseCollateral,b=e.entryFundingRate,p=e.cumulativeFundingRate,w=e.hasProfit,E=e.delta,d=e.includeDelta;if(!(!a&&!t)&&!(!s&&!u)){var m=a||bigNumberify(0);if(t)if(g)m=a.add(t);else{if(t.gte(a))return;m=a.sub(t)}var v=s||bigNumberify(0);if(u)if(i)v=s.add(u);else{if(u.gte(s))return;v=s.sub(u)}if(E&&d)if(w)v=v.add(E);else{if(E.gt(v))return;v=v.sub(E)}if(!v.eq(0)){if(v=t?v.mul(B-T).div(B):v,b&&p){var C=a.mul(p.sub(b)).div(N);v=v.sub(C)}return m.mul(B).div(v)}}}function or(e,a){return a?(0,I.jY)(e)+"address/"+a:(0,I.jY)(e)}function Ar(e){var a=e.delta,t=e.deltaPercentage,g=e.hasProfit,s,u;return a.gt(0)?(s=g?"+":"-",u=g?"+":"-"):(s="",u=""),s+="$".concat(formatAmount(a,Ke,2,!0)),u+="".concat(formatAmount(t,2,2),"%"),{deltaStr:s,deltaPercentageStr:u}}function Er(e,a,t,g){return ethers.utils.solidityKeccak256(["address","address","address","bool"],[e,a,t,g])}function ur(e,a,t){return e.mul(expandDecimals(1,t)).div(expandDecimals(1,a))}function Pr(e,a,t){var g=a.size,s=a.collateral,u=a.isLong,i=a.averagePrice,b=a.lastIncreasedTime,p=e;t||(t=g),p||(p=bigNumberify(0));var w=i.gt(p)?i.sub(p):p.sub(i),E=t.mul(w).div(i),d=E,m=b+D<Date.now()/1e3,v=u?p.gt(i):p.lt(i);!m&&v&&E.mul(B).lte(g.mul(R))&&(E=bigNumberify(0));var C=E.mul(B).div(s),x=d.mul(B).div(s);return{delta:E,pendingDelta:d,pendingDeltaPercentage:x,hasProfit:v,deltaPercentage:C}}function Dr(e,a,t,g,s){var u=a===Oe?s:a,i=t===Oe?s:t;return e+":"+u+":"+i+":"+g}function dr(e,a,t){if(!(!e||!e.weight||!a))return a.eq(0)?bigNumberify(0):e.weight.mul(a).div(t)}function Ze(e,a,t,g,s,u,i){if(!e||!e.usdgAmount||!u||!i)return 0;var b=bigNumberify(t),p=bigNumberify(g),w=e.usdgAmount,E=w.add(a);s||(E=a.gt(w)?bigNumberify(0):w.sub(a));var d=dr(e,u,i);if(!d||d.eq(0))return b.toNumber();var m=w.gt(d)?w.sub(d):d.sub(w),v=E.gt(d)?E.sub(d):d.sub(E);if(v.lt(m)){var C=p.mul(m).div(d);return C.gt(b)?0:b.sub(C).toNumber()}var x=m.add(v).div(2);x.gt(d)&&(x=d);var Q=p.mul(x).div(d);return b.add(Q).toNumber()}function Re(e){return e?he:le}function wr(e,a,t,g,s,u,i,b,p,w){var E={amount:bigNumberify(0)};if(!a||!t||!g||!s)return E;if(t===g)return{amount:a};var d=getTokenInfo(s,t),m=getTokenInfo(s,g);if(d.isNative&&m.isWrapped)return{amount:a};if(d.isWrapped&&m.isNative)return{amount:a};var v;d&&(v=w?d.contractMinPrice:d.minPrice);var C;if(m&&(C=w?m.contractMaxPrice:m.maxPrice),!v||!C)return E;var x=cr(m.decimals-d.decimals),Q=bigNumberify(0);if(i&&!i.isZero()&&(Q=a.mul(Me).div(i)),g===ye){var re=Re(Boolean(d.isStable));if(i&&!i.isZero()){var ge=Q;return{amount:x(ge.mul(B-re).div(B)),feeBasisPoints:re}}var X=a.mul(v).div(Me);return{amount:x(X.mul(B-re).div(B)),feeBasisPoints:re}}if(t===ye){var Z,fe=(Z=m.redemptionAmount)===null||Z===void 0?void 0:Z.mul(u||C).div(expandDecimals(1,m.decimals));if(fe&&fe.gt(Be)){var oe=Re(Boolean(m.isStable)),De=i&&!i.isZero()?Q:a.mul(m.redemptionAmount).div(expandDecimals(1,m.decimals));return{amount:x(De.mul(B-oe).div(B)),feeBasisPoints:oe}}var M=a,ae=getMostAbundantStableToken(e,s);if(!(ae!=null&&ae.availableAmount)||ae.availableAmount.lt(M)){var Le=i&&!i.isZero()?Q:a.mul(m.redemptionAmount).div(expandDecimals(1,m.decimals)),Ce=Re(Boolean(m.isStable));return{amount:x(Le.mul(B-Ce).div(B)),feeBasisPoints:Ce}}var pe=Re(!0),me=Re(!1);if(i&&!i.isZero()){var Fe=Q.mul(B-pe-me).div(B);return{amount:x(Fe),path:[ye,ae.address,m.address],feeBasisPoints:pe+me}}var te=a.mul(Me).div(ae.maxPrice);return te=te.mul(B-pe).div(B),te=te.mul(ae.minPrice).div(u||C),te=te.mul(B-me).div(B),{amount:x(te),path:[ye,ae.address,m.address],feeBasisPoints:pe+me}}var Ge=i&&!i.isZero()?Q:a.mul(v).div(u||C),ve=a.mul(v).div(Me);ve=ur(ve,d.decimals,Ne);var Ie=d.isStable&&m.isStable?he:le,we=d.isStable&&m.isStable?je:nr,Se=Ze(d,ve,Ie,we,!0,b,p),Ae=Ze(m,ve,Ie,we,!1,b,p),Ue=Se>Ae?Se:Ae;return{amount:x(Ge.mul(B-Ue).div(B)),feeBasisPoints:Ue}}function xr(e){return e===ethers.constants.AddressZero}function Tr(e){return e===ethers.constants.HashZero}function Br(e,a,t,g){var s=getAddress(t,"PositionRouter"),u=getAddress(t,"NATIVE_TOKEN"),i=useSWR([a,t,s,"minExecutionFee"],{fetcher:contractFetcher(e,PositionRouter)}),b=i.data,p=useSWR(["gasPrice",t],{fetcher:function(){return new Promise(function(){var re=_asyncToGenerator(_regeneratorRuntime().mark(function ge(X,Z){var fe,oe;return _regeneratorRuntime().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(fe=getProvider(e,t),fe){M.next=4;break}return X(void 0),M.abrupt("return");case 4:return M.prev=4,M.next=7,fe.getGasPrice();case 7:oe=M.sent,X(oe),M.next=14;break;case 11:M.prev=11,M.t0=M.catch(4),console.error(M.t0);case 14:case"end":return M.stop()}},ge,null,[[4,11]])}));return function(ge,X){return re.apply(this,arguments)}}())}}),w=p.data,E;(t===ARBITRUM||t===ARBITRUM_TESTNET)&&(E=65e3),t===AVALANCHE?E=7e5:E=65e3;var d=b;if(w&&b){var m=w.mul(E);m.gt(b)&&(d=m)}var v=getUsd(d,u,!1,g),C=v==null?void 0:v.gt(expandDecimals(getHighExecutionFee(t),Ke)),x=C?'The network cost to send transactions is high at the moment, please check the "Execution Fee" value before proceeding.':"";return{minExecutionFee:d,minExecutionFeeUSD:v,minExecutionFeeErrorMessage:x}}function lr(e){if(!e)return bigNumberify(0);var a=e.mul(B-T).div(B);return e.sub(a)}function ke(e){var a=e.liquidationAmount,t=e.size,g=e.collateral,s=e.averagePrice,u=e.isLong;if(!(!t||t.eq(0))){if(a.gt(g)){var i=a.sub(g),b=i.mul(s).div(t);return u?s.add(b):s.sub(b)}var p=g.sub(a),w=p.mul(s).div(t);return u?s.sub(w):s.add(w)}}function ze(e,a,t,g,s,u){if(!e||e.length===0)return[];for(var i=_slicedToArray(e,2),b=i[0],p=i[1],w=b.length/s,E=[],d=0;d<w;d++){var m=p.slice(u*d,u*(d+1)).concat(b.slice(s*d,s*(d+1)));if(!(m[0]===Oe&&m[1]===Oe)){var v=g(m);v.index=t[d],v.account=a,E.push(v)}}return E}function mr(e,a,t,g){if(!a||!a.length)return[];var s=function(i){var b=i[6].toString()==="1",p=i[7].toString()==="1";return{path:[i[0],i[1],i[2]].filter(function(w){return w!==Oe}),amountIn:i[3],minOut:i[4],triggerRatio:i[5],triggerAboveThreshold:b,type:qe,shouldUnwrap:p}};return ze(a,t,g,s,5,3).filter(function(u){return u.path.every(function(i){return isValidToken(e,i)})})}function vr(e,a,t,g){var s=function(i){var b=i[5].toString()==="1";return{purchaseToken:i[0],collateralToken:i[1],indexToken:i[2],purchaseTokenAmount:i[3],sizeDelta:i[4],isLong:b,triggerPrice:i[6],triggerAboveThreshold:i[7].toString()==="1",type:r}};return ze(a,t,g,s,5,3).filter(function(u){return isValidToken(e,u.purchaseToken)&&isValidToken(e,u.collateralToken)&&isValidToken(e,u.indexToken)})}function gr(e,a,t,g){var s=function(i){var b=i[4].toString()==="1";return{collateralToken:i[0],indexToken:i[1],collateralDelta:i[2],sizeDelta:i[3],isLong:b,triggerPrice:i[5],triggerAboveThreshold:i[6].toString()==="1",type:ce}};return ze(a,t,g,s,5,2).filter(function(u){return isValidToken(e,u.collateralToken)&&isValidToken(e,u.indexToken)})}function Or(e,a){var t=useWeb3React(),g=t.library,s=t.account,u=!0,i=a||s,b=useChainId(),p=b.chainId,w=u&&i&&e,E=getAddress(p,"OrderBook"),d=getAddress(p,"OrderBook"),m=w?[u,p,E,i]:!1,v=useSWR(m||[],{dedupingInterval:5e3,fetcher:function(){var ge=_asyncToGenerator(_regeneratorRuntime().mark(function Z(fe,oe,De,M){var ae,Le,Ce,pe,me,Fe,te,Ge,ve,Ie,we,Se,Ae,Ue,_e,Ve,Qe,Xe,Je,$e,Ye;return _regeneratorRuntime().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return ae=getProvider(g,oe),Le=new ethers.Contract(De,OrderBook.abi,ae),Ce=new ethers.Contract(d,OrderBookReader.abi,ae),pe=function(){var F="".concat(getServerBaseUrl(oe),"/orders_indices?account=").concat(M);return fetch(F).then(function(){var G=_asyncToGenerator(_regeneratorRuntime().mark(function _($){var k,W,ue,Y,We;return _regeneratorRuntime().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:return xe.next=2,$.json();case 2:for(k=xe.sent,W={},ue=0,Y=Object.keys(k);ue<Y.length;ue++)We=Y[ue],W[We.toLowerCase()]=k[We].map(function(He){return parseInt(He.value)}).sort(function(He,fr){return He-fr});return xe.abrupt("return",W);case 6:case"end":return xe.stop()}},_)}));return function(_){return G.apply(this,arguments)}}()).catch(function(){return{swap:[],increase:[],decrease:[]}})},me=function(){var be=_asyncToGenerator(_regeneratorRuntime().mark(function F(G){var _,$;return _regeneratorRuntime().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return _=G.toLowerCase()+"OrdersIndex",W.next=3,Le[_](M).then(function(ue){return bigNumberify(ue._hex).toNumber()});case 3:return $=W.sent,W.abrupt("return",$);case 5:case"end":return W.stop()}},F)}));return function(G){return be.apply(this,arguments)}}(),Fe=function(){var be=_asyncToGenerator(_regeneratorRuntime().mark(function F(){var G,_,$,k,W;return _regeneratorRuntime().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.next=2,Promise.all([me("swap"),me("increase"),me("decrease")]);case 2:return G=Y.sent,_=_slicedToArray(G,3),$=_[0],k=_[1],W=_[2],Y.abrupt("return",{swap:$,increase:k,decrease:W});case 8:case"end":return Y.stop()}},F)}));return function(){return be.apply(this,arguments)}}(),te=function(F,G){var _=10,$=[];G=G||Math.max(F-_,0);for(var k=F-1;k>=G;k--)$.push(k);return $},Ge=function(F,G){return F.length===0?te(G):[].concat(_toConsumableArray(F),_toConsumableArray(te(G,F[F.length-1]+1).sort(function(_,$){return $-_})))},ve=function(){var be=_asyncToGenerator(_regeneratorRuntime().mark(function F(G,_,$,k){var W,ue,Y;return _regeneratorRuntime().wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:return W=Ge(_,$),Ee.next=3,Ce[G](De,M,W);case 3:return ue=Ee.sent,Y=k(oe,ue,M,W),Ee.abrupt("return",Y);case 6:case"end":return Ee.stop()}},F)}));return function(G,_,$,k){return be.apply(this,arguments)}}(),J.prev=9,J.next=12,Promise.all([pe(),Fe()]);case 12:return Ie=J.sent,we=_slicedToArray(Ie,2),Se=we[0],Ae=we[1],J.next=18,Promise.all([ve("getSwapOrders",Se.swap,Ae.swap,mr),ve("getIncreaseOrders",Se.increase,Ae.increase,vr),ve("getDecreaseOrders",Se.decrease,Ae.decrease,gr)]);case 18:return Ue=J.sent,_e=_slicedToArray(Ue,3),Ve=_e[0],Qe=Ve===void 0?[]:Ve,Xe=_e[1],Je=Xe===void 0?[]:Xe,$e=_e[2],Ye=$e===void 0?[]:$e,J.abrupt("return",[].concat(_toConsumableArray(Qe),_toConsumableArray(Je),_toConsumableArray(Ye)));case 29:J.prev=29,J.t0=J.catch(9),console.error(J.t0);case 32:case"end":return J.stop()}},Z,null,[[9,29]])}));function X(Z,fe,oe,De){return ge.apply(this,arguments)}return X}()}),C=v.data,x=C===void 0?[]:C,Q=v.mutate,re=v.error;return[x,Q,re]}function Rr(e){var a=e.isLong,t=e.size,g=e.collateral,s=e.averagePrice,u=e.entryFundingRate,i=e.cumulativeFundingRate,b=e.sizeDelta,p=e.collateralDelta,w=e.increaseCollateral,E=e.increaseSize,d=e.delta,m=e.hasProfit,v=e.includeDelta;if(!(!t||!g||!s)){var C=t||bigNumberify(0),x=g;if(b){if(E)C=t.add(b);else{if(b.gte(t))return;C=t.sub(b)}if(v&&!m){var Q=b.mul(d).div(t);x=x.sub(Q)}}if(p)if(w)x=x.add(p);else{if(p.gte(x))return;x=x.sub(p)}var re=lr(t).add(ir);if(u&&i){var ge=t.mul(i.sub(u)).div(N);re=re.add(ge)}var X=ke({liquidationAmount:re,size:C,collateral:x,averagePrice:s,isLong:a}),Z=ke({liquidationAmount:C.mul(B).div(S),size:C,collateral:x,averagePrice:s,isLong:a});return X?Z?a?X.gt(Z)?X:Z:X.lt(Z)?X:Z:X:Z}}function Cr(){var e=getServerUrl(ARBITRUM,"/ui_version"),a=useSWR([e],{fetcher:function(){return fetch.apply(void 0,arguments).then(function(i){return i.text()})}}),t=a.data,g=a.mutate,s=!1;return t&&parseFloat(t)>parseFloat(K)&&(s=!0),s=!1,{data:s,mutate:g}}},1031:function(Te,ie,o){o.d(ie,{z3:function(){return ne.z3}});var ne=o(72603),O=o(59734),H={},f=o(9138),V=o(78159),U=o(47981),y=o(27350),q=o(39265);function se(I,L,de){if(L){var n=I.isNative?de:I.address,l=L[n];if(l){var c=bigNumberify(l);if(!c.eq(0)){var P=I.maxPrice.sub(I.minPrice),A=P.mul(BASIS_POINTS_DIVISOR).div(I.maxPrice.add(I.minPrice).div(2));if(A.gt(MAX_PRICE_DEVIATION_BASIS_POINTS-50)){c.gt(I.minPrimaryPrice)?I.maxPrice=c:I.minPrice=c;return}var h=A.div(2).toNumber();I.maxPrice=c.mul(BASIS_POINTS_DIVISOR+h).div(BASIS_POINTS_DIVISOR),I.minPrice=c.mul(BASIS_POINTS_DIVISOR-h).div(BASIS_POINTS_DIVISOR)}}}}function ee(I,L,de,n,l,c,P,A){c||(c=15);for(var h=2,D={},R=0;R<I.length;R++){var N=JSON.parse(JSON.stringify(I[R]));L&&(N.balance=L[R]),N.address===USDG_ADDRESS&&(N.minPrice=expandDecimals(1,USD_DECIMALS),N.maxPrice=expandDecimals(1,USD_DECIMALS)),D[N.address]=N}for(var S=0;S<de.length;S++){var r=JSON.parse(JSON.stringify(de[S]));if(n){if(r.poolAmount=n[S*c],r.reservedAmount=n[S*c+1],r.availableAmount=r.poolAmount.sub(r.reservedAmount),r.usdgAmount=n[S*c+2],r.redemptionAmount=n[S*c+3],r.weight=n[S*c+4],r.bufferAmount=n[S*c+5],r.maxUsdgAmount=n[S*c+6],r.globalShortSize=n[S*c+7],r.maxGlobalShortSize=n[S*c+8],r.maxGlobalLongSize=n[S*c+9],r.minPrice=n[S*c+10],r.maxPrice=n[S*c+11],r.guaranteedUsd=n[S*c+12],r.maxPrimaryPrice=n[S*c+13],r.minPrimaryPrice=n[S*c+14],r.contractMinPrice=r.minPrice,r.contractMaxPrice=r.maxPrice,r.maxAvailableShort=bigNumberify(0),r.hasMaxAvailableShort=!1,r.maxGlobalShortSize.gt(0)&&(r.hasMaxAvailableShort=!0,r.maxGlobalShortSize.gt(r.globalShortSize)&&(r.maxAvailableShort=r.maxGlobalShortSize.sub(r.globalShortSize))),r.maxUsdgAmount.eq(0)&&(r.maxUsdgAmount=DEFAULT_MAX_USDG_AMOUNT),r.availableUsd=r.isStable?r.poolAmount.mul(r.minPrice).div(expandDecimals(1,r.decimals)):r.availableAmount.mul(r.minPrice).div(expandDecimals(1,r.decimals)),r.maxAvailableLong=bigNumberify(0),r.hasMaxAvailableLong=!1,r.maxGlobalLongSize.gt(0)){if(r.hasMaxAvailableLong=!0,r.maxGlobalLongSize.gt(r.guaranteedUsd)){var ce=r.maxGlobalLongSize.sub(r.guaranteedUsd);r.maxAvailableLong=ce.lt(r.availableUsd)?ce:r.availableUsd}}else r.maxAvailableLong=r.availableUsd;r.maxLongCapacity=r.maxGlobalLongSize.gt(0)&&r.maxGlobalLongSize.lt(r.availableUsd.add(r.guaranteedUsd))?r.maxGlobalLongSize:r.availableUsd.add(r.guaranteedUsd),r.managedUsd=r.availableUsd.add(r.guaranteedUsd),r.managedAmount=r.managedUsd.mul(expandDecimals(1,r.decimals)).div(r.minPrice),se(r,P,A)}l&&(r.fundingRate=l[S*h],r.cumulativeFundingRate=l[S*h+1]),D[r.address]&&(r.balance=D[r.address].balance),D[r.address]=r}return D}function Pe(I,L,de,n,l,c){var P=getTokens(L),A=getAddress(L,"VaultReader"),h=getAddress(L,"Vault"),D=getAddress(L,"PositionRouter"),R=getAddress(L,"NATIVE_TOKEN"),N=getWhitelistedTokens(L),S=N.map(function(le){return le.address}),r=useSWR(["useInfoTokens:".concat(de),L,A,"getVaultTokenInfoV4"],{fetcher:contractFetcher(I,VaultReader,[h,D,R,expandDecimals(1,18),S])}),ce=r.data,j=getServerUrl(L,"/prices"),K=useSWR([j],{fetcher:function(){return fetch.apply(void 0,arguments).then(function(Be){return Be.json()})},refreshInterval:500,refreshWhenHidden:!0}),he=K.data;return{infoTokens:ee(P,n,N,ce,l,c,he,R)}}},72603:function(Te,ie,o){o.d(ie,{z3:function(){return y}});var ne=o(20238),O=o(13805),H=o(47981),f=o(39265),V=ne.dE;function U(n,l){return l?getExplorerUrl(n)+"token/"+l:getExplorerUrl(n)}function y(n,l,c,P){return c&&l===P?n[V]:n[l||V]}function q(n,l,c,P,A){if(P&&P!==MARKET&&A)return A;if(c&&!(l&&!c.maxPrice)&&!(!l&&!c.minPrice))return l?c.maxPrice:c.minPrice}function se(n,l,c,P,A,h){if(n){if(l===USDG_ADDRESS)return n.mul(PRECISION).div(expandDecimals(1,18));var D=y(P,l),R=q(l,c,D,A,h);if(R)return n.mul(R).div(expandDecimals(1,D.decimals))}}function ee(n,l,c){var P=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(c){if(l===USDG_ADDRESS)return c.mul(expandDecimals(1,18)).div(PRECISION);var A=y(n,l);if(A){var h=P.overridePrice||(P.max?A.maxPrice:A.minPrice);if(!(!BigNumber.isBigNumber(h)||h.lte(0)))return c.mul(expandDecimals(1,A.decimals)).div(h)}}}function Pe(n,l,c,P,A,h,D,R){if(!(!n||!l||!h||!c||!P||!A||!R)){var N=getVisibleTokens(n),S=l.mul(c).div(PRECISION),r=N.map(function(j){var K=y(h,j.address),he=getFeeBasisPoints(K,S,MINT_BURN_FEE_BASIS_POINTS,TAX_BASIS_POINTS,!0,P,A),le=bigNumberify(0);return K.maxUsdgAmount&&K.maxUsdgAmount.gt(0)&&K.usdgAmount&&K.usdgAmount.gt(0)&&(le=K.maxUsdgAmount.sub(K.usdgAmount).mul(expandDecimals(1,USD_DECIMALS)).div(expandDecimals(1,USDG_DECIMALS))),{token:j,fees:he,amountLeftToDeposit:le}}),ce=r.filter(function(j){return j.token.address!==D&&j.hasOwnProperty("fees")&&R.lt(j.amountLeftToDeposit)}).sort(function(j,K){return j.fees-K.fees});return ce.length>0?ce[0]:r.sort(function(j,K){return Number(K.amountLeftToDeposit.sub(j.amountLeftToDeposit))})[0]}}function I(n,l){for(var c=getWhitelistedTokens(n),P,A=c.find(function(N){return N.isStable}),h=0;h<c.length;h++){var D=y(l,c[h].address);if(!(!D.isStable||!D.availableAmount)){var R=adjustForDecimals(D.availableAmount,D.decimals,USD_DECIMALS);(!P||R.gt(P))&&(P=R,A=D)}}return A}function L(n,l){return!l||n.address!==V||!n.balance?!1:!!(l.gte(n.balance)||n.balance.sub(l).lt(DUST_BNB))}var de=function(l,c){if(l){for(var P=[],A=0;A<l.length;A++){var h=l[A];h===V&&(h=c),P.push(h)}return P}}}}]);
