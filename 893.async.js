"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[893],{9138:function(Ee,re,i){i.d(re,{PN:function(){return G},wA:function(){return C}});var ie=i(38416),P=i.n(ie),H=i(13805),y,G="https://stats.gmx.io/api",w=(y={default:"https://gmx-server-mainnet.uw.r.appspot.com"},P()(y,H.RR,"https://gambit-server-staging.uc.r.appspot.com"),P()(y,H.qF,"https://gambit-server-devnet.uc.r.appspot.com"),P()(y,H.PO,"https://gmx-server-mainnet.uw.r.appspot.com"),P()(y,H.Qz,"https://gmx-avax-server.uc.r.appspot.com"),y);function C(se){if(!se)throw new Error("chainId is not provided");if(document.location.hostname.includes("deploy-preview")){var Y=localStorage.getItem("SERVER_BASE_URL");if(Y)return Y}return w[se]||w.default}function z(se,Y){return"".concat(C(se)).concat(Y)}},47981:function(Ee,re,i){i.d(re,{rU:function(){return se},wu:function(){return W}});for(var ie=i(38416),P=i.n(ie),H=i(9279),y=i(13805),G=i(49524),w,C,z,se=18,Y=function(k){return(0,G.u)(y.Fe,k)},ve=(w={},P()(w,y.vT,[{name:"Wrapped Binance Coin",symbol:"WBNB",decimals:18,address:"0xd722eA9CBC41Eb530eEcc0689aaDD88f618e9d88",isWrapped:!0,baseSymbol:"BNB",imageUrl:"https://assets.coingecko.com/coins/images/825/small/binance-coin-logo.png",isShortable:!0},{name:"Bitcoin (BTCB)",symbol:"BTC",decimals:8,isShortable:!0,address:"0xd06E2628a7845e85F42751c89beDE17DaB8411c8",imageUrl:"https://assets.coingecko.com/coins/images/26115/thumb/btcb.png?1655921693"},{name:"Ethereum",symbol:"ETH",decimals:18,isShortable:!0,address:"0xe94212E917bAb65D47489ABeE5c891adF3345bF4",imageUrl:"https://assets.coingecko.com/coins/images/279/small/ethereum.png?1595348880"},{name:"Binance Coin",symbol:"BNB",decimals:18,isShortable:!0,address:H.d,isNative:!0,imageUrl:"https://assets.coingecko.com/coins/images/825/small/binance-coin-logo.png"},{name:"USDC",symbol:"USDC",decimals:18,address:"0x811Cc43d8129Ff2235Ef1b63E92bbbE2eAeF1714",isStable:!0,isShortable:!0,imageUrl:"https://assets.coingecko.com/coins/images/6319/thumb/USD_Coin_icon.png?1547042389"},{name:"DLP",symbol:"DLP",decimals:18,address:"0x0DE6925163084609E1ABD4aDFE460f1c328EDa0B",isStable:!0,isShortable:!0,imageUrl:"https://assets.coingecko.com/coins/images/6319/thumb/USD_Coin_icon.png?1547042389"}]),P()(w,y.Vr,[{name:"Bitcoin (BTCB)",symbol:"BTC",decimals:8,address:"0xb19C12715134bee7c4b1Ca593ee9E430dABe7b56",imageUrl:"https://assets.coingecko.com/coins/images/26115/thumb/btcb.png?1655921693"},{name:"Ethereum",symbol:"ETH",decimals:18,address:"0x1958f7C067226c7C8Ac310Dc994D0cebAbfb2B02",imageUrl:"https://assets.coingecko.com/coins/images/279/small/ethereum.png?1595348880"},{name:"Binance Coin",symbol:"BNB",decimals:18,address:H.d,isNative:!0,imageUrl:"https://assets.coingecko.com/coins/images/825/small/binance-coin-logo.png"},{name:"Wrapped Binance Coin",symbol:"WBNB",decimals:18,address:"0x612777Eea37a44F7a95E3B101C39e1E2695fa6C2",isWrapped:!0,baseSymbol:"BNB",imageUrl:"https://assets.coingecko.com/coins/images/825/small/binance-coin-logo.png"}]),P()(w,y.Fe,[{name:"Bitcoin (BTCB)",symbol:"BTC",decimals:18,address:Y("BTC"),imageUrl:"https://assets.coingecko.com/coins/images/26115/thumb/btcb.png?1655921693",isShortable:!0},{name:"Ethereum",symbol:"ETH",decimals:18,address:Y("ETH"),imageUrl:"https://assets.coingecko.com/coins/images/279/small/ethereum.png?1595348880",isShortable:!0},{name:"Binance Coin",symbol:"BNB",decimals:18,address:H.d,isNative:!0,imageUrl:"https://assets.coingecko.com/coins/images/825/small/binance-coin-logo.png",isShortable:!0},{name:"Wrapped Ethereum Coin",symbol:"WETH",decimals:18,address:Y("ETH"),isWrapped:!0,baseSymbol:"WETH",imageUrl:"https://assets.coingecko.com/coins/images/279/small/ethereum.png?1595348880",isShortable:!0}]),w),B=(C={},P()(C,y.PO,{GMX:{name:"GMX",symbol:"GMX",decimals:18,address:(0,G.u)(y.PO,"GMX"),imageUrl:"https://assets.coingecko.com/coins/images/18323/small/arbit.png?1631532468"},GLP:{name:"GMX LP",symbol:"GLP",decimals:18,address:(0,G.u)(y.PO,"StakedGlpTracker"),imageUrl:"https://github.com/gmx-io/gmx-assets/blob/main/GMX-Assets/PNG/GLP_LOGO%20ONLY.png?raw=true"}}),P()(C,y.Qz,{GMX:{name:"GMX",symbol:"GMX",decimals:18,address:(0,G.u)(y.Qz,"GMX"),imageUrl:"https://assets.coingecko.com/coins/images/18323/small/arbit.png?1631532468"},GLP:{name:"GMX LP",symbol:"GLP",decimals:18,address:(0,G.u)(y.Qz,"StakedGlpTracker"),imageUrl:"https://github.com/gmx-io/gmx-assets/blob/main/GMX-Assets/PNG/GLP_LOGO%20ONLY.png?raw=true"}}),P()(C,y.vT,{}),P()(C,y.Fe,{}),C),N=(z={},P()(z,y.vT,{GMX:{coingecko:"https://www.coingecko.com/en/coins/gmx",avalanche:"https://snowtrace.io/address/0x62edc0692bd897d2295872a9ffcac5425011c661"},GLP:{avalanche:"https://snowtrace.io/address/0x9e295B5B976a184B14aD8cd72413aD846C299660"},AVAX:{coingecko:"https://www.coingecko.com/en/coins/avalanche"},ETH:{coingecko:"https://www.coingecko.com/en/coins/weth",avalanche:"https://snowtrace.io/address/0x49d5c2bdffac6ce2bfdb6640f4f80f226bc10bab"},BTC:{coingecko:"https://www.coingecko.com/en/coins/wrapped-bitcoin",avalanche:"https://snowtrace.io/address/0x50b7545627a5162f82a992c33b87adc75187b218"},"BTC.b":{coingecko:"https://www.coingecko.com/en/coins/wrapped-bitcoin",avalanche:"https://snowtrace.io/address/0x152b9d0FdC40C096757F570A51E494bd4b943E50"},MIM:{coingecko:"https://www.coingecko.com/en/coins/magic-internet-money",avalanche:"https://snowtrace.io/address/0x130966628846bfd36ff31a822705796e8cb8c18d"},"USDC.e":{coingecko:"https://www.coingecko.com/en/coins/usd-coin-avalanche-bridged-usdc-e",avalanche:"https://snowtrace.io/address/0xa7d7079b0fead91f3e65f86e8915cb59c1a4c664"},USDC:{coingecko:"https://www.coingecko.com/en/coins/usd-coin",avalanche:"https://snowtrace.io/address/0xb97ef9ef8734c71904d8002f8b6bc66dd9c48a6e"}}),P()(z,y.Fe,{GMX:{coingecko:"https://www.coingecko.com/en/coins/gmx",avalanche:"https://snowtrace.io/address/0x62edc0692bd897d2295872a9ffcac5425011c661"},GLP:{avalanche:"https://snowtrace.io/address/0x9e295B5B976a184B14aD8cd72413aD846C299660"},AVAX:{coingecko:"https://www.coingecko.com/en/coins/avalanche"},ETH:{coingecko:"https://www.coingecko.com/en/coins/weth",avalanche:"https://snowtrace.io/address/0x49d5c2bdffac6ce2bfdb6640f4f80f226bc10bab"},BTC:{coingecko:"https://www.coingecko.com/en/coins/wrapped-bitcoin",avalanche:"https://snowtrace.io/address/0x50b7545627a5162f82a992c33b87adc75187b218"},"BTC.b":{coingecko:"https://www.coingecko.com/en/coins/wrapped-bitcoin",avalanche:"https://snowtrace.io/address/0x152b9d0FdC40C096757F570A51E494bd4b943E50"},MIM:{coingecko:"https://www.coingecko.com/en/coins/magic-internet-money",avalanche:"https://snowtrace.io/address/0x130966628846bfd36ff31a822705796e8cb8c18d"},"USDC.e":{coingecko:"https://www.coingecko.com/en/coins/usd-coin-avalanche-bridged-usdc-e",avalanche:"https://snowtrace.io/address/0xa7d7079b0fead91f3e65f86e8915cb59c1a4c664"},USDC:{coingecko:"https://www.coingecko.com/en/coins/usd-coin",avalanche:"https://snowtrace.io/address/0xb97ef9ef8734c71904d8002f8b6bc66dd9c48a6e"}}),P()(z,y.qF,{GMX:{coingecko:"https://www.coingecko.com/en/coins/gmx",arbitrum:"https://arbiscan.io/address/0xfc5a1a6eb076a2c7ad06ed22c90d7e710e35ad0a"},GLP:{arbitrum:"https://testnet.arbiscan.io/token/0xb4f81Fa74e06b5f762A104e47276BA9b2929cb27"}}),P()(z,y.PO,{GMX:{coingecko:"https://www.coingecko.com/en/coins/gmx",arbitrum:"https://arbiscan.io/address/0xfc5a1a6eb076a2c7ad06ed22c90d7e710e35ad0a"},GLP:{arbitrum:"https://arbiscan.io/token/0x1aDDD80E6039594eE970E5872D247bf0414C8903",reserves:"https://portfolio.nansen.ai/dashboard/gmx?chain=ARBITRUM"},ETH:{coingecko:"https://www.coingecko.com/en/coins/ethereum"},BTC:{coingecko:"https://www.coingecko.com/en/coins/wrapped-bitcoin",arbitrum:"https://arbiscan.io/address/0x2f2a2543b76a4166549f7aab2e75bef0aefc5b0f"},LINK:{coingecko:"https://www.coingecko.com/en/coins/chainlink",arbitrum:"https://arbiscan.io/address/0xf97f4df75117a78c1a5a0dbb814af92458539fb4"},UNI:{coingecko:"https://www.coingecko.com/en/coins/uniswap",arbitrum:"https://arbiscan.io/address/0xfa7f8980b0f1e64a2062791cc3b0871572f1f7f0"},USDC:{coingecko:"https://www.coingecko.com/en/coins/usd-coin",arbitrum:"https://arbiscan.io/address/0xff970a61a04b1ca14834a43f5de4533ebddb5cc8"},USDT:{coingecko:"https://www.coingecko.com/en/coins/tether",arbitrum:"https://arbiscan.io/address/0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"},DAI:{coingecko:"https://www.coingecko.com/en/coins/dai",arbitrum:"https://arbiscan.io/address/0xda10009cbd5d07dd0cecc66161fc93d7c9000da1"},MIM:{coingecko:"https://www.coingecko.com/en/coins/magic-internet-money",arbitrum:"https://arbiscan.io/address/0xfea7a6a0b346362bf88a9e4a88416b77a57d6c2a"},FRAX:{coingecko:"https://www.coingecko.com/en/coins/frax",arbitrum:"https://arbiscan.io/address/0x17fc002b466eec40dae837fc4be5c67993ddbd6f"}}),P()(z,y.Qz,{GMX:{coingecko:"https://www.coingecko.com/en/coins/gmx",avalanche:"https://snowtrace.io/address/0x62edc0692bd897d2295872a9ffcac5425011c661"},GLP:{avalanche:"https://snowtrace.io/address/0x9e295B5B976a184B14aD8cd72413aD846C299660",reserves:"https://portfolio.nansen.ai/dashboard/gmx?chain=AVAX"},AVAX:{coingecko:"https://www.coingecko.com/en/coins/avalanche"},ETH:{coingecko:"https://www.coingecko.com/en/coins/weth",avalanche:"https://snowtrace.io/address/0x49d5c2bdffac6ce2bfdb6640f4f80f226bc10bab"},WBTC:{coingecko:"https://www.coingecko.com/en/coins/wrapped-bitcoin",avalanche:"https://snowtrace.io/address/0x50b7545627a5162f82a992c33b87adc75187b218"},BTC:{coingecko:"https://www.coingecko.com/en/coins/bitcoin-avalanche-bridged-btc-b",avalanche:"https://snowtrace.io/address/0x152b9d0FdC40C096757F570A51E494bd4b943E50"},MIM:{coingecko:"https://www.coingecko.com/en/coins/magic-internet-money",avalanche:"https://snowtrace.io/address/0x130966628846bfd36ff31a822705796e8cb8c18d"},USDC:{coingecko:"https://www.coingecko.com/en/coins/usd-coin",avalanche:"https://snowtrace.io/address/0xb97ef9ef8734c71904d8002f8b6bc66dd9c48a6e"},"USDC.e":{coingecko:"https://www.coingecko.com/en/coins/usd-coin-avalanche-bridged-usdc-e",avalanche:"https://snowtrace.io/address/0xa7d7079b0fead91f3e65f86e8915cb59c1a4c664"}}),z),oe={ETH:"#6062a6",BTC:"#F7931A",WBTC:"#F7931A",USDC:"#2775CA","USDC.e":"#2A5ADA",USDT:"#67B18A",MIM:"#9695F8",FRAX:"#000",DAI:"#FAC044",UNI:"#E9167C",AVAX:"#E84142",LINK:"#3256D6"},s={},c={},d={},h={},v=[y.Fe,y.RR,y.Vr,y.PO,y.qF,y.Qz,y.vT],b=0;b<v.length;b++){var O=v[b];s[O]={},c[O]={};for(var M=ve[O],F=0;F<(M==null?void 0:M.length);F++){var x=M[F];s[O][x.address]=x,c[O][x.symbol]=x}}function n(I){return d[I]}function L(I){return h[I]}function $(I){return ve[I]}function W(I,k){if(!s[I])throw new Error("Incorrect chainId ".concat(I));return k in s[I]}function ye(I,k){if(!s[I])throw new Error("Incorrect chainId ".concat(I));if(!s[I][k])throw new Error('Incorrect address "'.concat(k,'" for chainId ').concat(I));return s[I][k]}function ce(I,k){var Oe=c[I][k];if(!Oe)throw new Error('Incorrect symbol "'.concat(k,'" for chainId ').concat(I));return Oe}function we(I){return ve[I].filter(function(k){return k.symbol!=="USDG"})}function je(I){return we(I).filter(function(k){return!k.isWrapped&&!k.isTempHidden})}},37432:function(Ee,re,i){i.d(re,{x:function(){return y}});var ie=i(34713),P=i(13805),H=i(22837);function y(){var G=(0,ie.Ge)(),w=G.chainId;if(!w){var C=localStorage.getItem(H.HC);C&&(w=parseInt(C),w||localStorage.removeItem(H.HC))}return(!w||!P.FQ.includes(w))&&(w=P.rC),{chainId:w}}},39265:function(Ee,re,i){i.d(re,{gG:function(){return E},pQ:function(){return pn},Nb:function(){return ye},sh:function(){return we},VZ:function(){return ln},FB:function(){return sn},C5:function(){return ke},YO:function(){return on},cZ:function(){return ce},bD:function(){return $},Qo:function(){return dn},$3:function(){return Re},ET:function(){return fn},b8:function(){return gn},EU:function(){return yn},zf:function(){return bn},gh:function(){return Tn},Sz:function(){return An}});var ie=i(861),P=i.n(ie),H=i(27424),y=i.n(H),G=i(17061),w=i.n(G),C=i(17156),z=i.n(C),se=i(34713),Y=i(9279),ve=i(31886),B=i(77294),N=i(59734),oe=JSON.parse('{"Mt":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"orderIndex","type":"uint256"},{"indexed":false,"internalType":"address","name":"collateralToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"collateralDelta","type":"uint256"},{"indexed":false,"internalType":"address","name":"indexToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"indexed":false,"internalType":"bool","name":"isLong","type":"bool"},{"indexed":false,"internalType":"uint256","name":"triggerPrice","type":"uint256"},{"indexed":false,"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"indexed":false,"internalType":"uint256","name":"executionFee","type":"uint256"}],"name":"CancelDecreaseOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"orderIndex","type":"uint256"},{"indexed":false,"internalType":"address","name":"purchaseToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"purchaseTokenAmount","type":"uint256"},{"indexed":false,"internalType":"address","name":"collateralToken","type":"address"},{"indexed":false,"internalType":"address","name":"indexToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"indexed":false,"internalType":"bool","name":"isLong","type":"bool"},{"indexed":false,"internalType":"uint256","name":"triggerPrice","type":"uint256"},{"indexed":false,"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"indexed":false,"internalType":"uint256","name":"executionFee","type":"uint256"}],"name":"CancelIncreaseOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"orderIndex","type":"uint256"},{"indexed":false,"internalType":"address[]","name":"path","type":"address[]"},{"indexed":false,"internalType":"uint256","name":"amountIn","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"minOut","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"triggerRatio","type":"uint256"},{"indexed":false,"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"indexed":false,"internalType":"bool","name":"shouldUnwrap","type":"bool"},{"indexed":false,"internalType":"uint256","name":"executionFee","type":"uint256"}],"name":"CancelSwapOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"orderIndex","type":"uint256"},{"indexed":false,"internalType":"address","name":"collateralToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"collateralDelta","type":"uint256"},{"indexed":false,"internalType":"address","name":"indexToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"indexed":false,"internalType":"bool","name":"isLong","type":"bool"},{"indexed":false,"internalType":"uint256","name":"triggerPrice","type":"uint256"},{"indexed":false,"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"indexed":false,"internalType":"uint256","name":"executionFee","type":"uint256"}],"name":"CreateDecreaseOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"orderIndex","type":"uint256"},{"indexed":false,"internalType":"address","name":"purchaseToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"purchaseTokenAmount","type":"uint256"},{"indexed":false,"internalType":"address","name":"collateralToken","type":"address"},{"indexed":false,"internalType":"address","name":"indexToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"indexed":false,"internalType":"bool","name":"isLong","type":"bool"},{"indexed":false,"internalType":"uint256","name":"triggerPrice","type":"uint256"},{"indexed":false,"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"indexed":false,"internalType":"uint256","name":"executionFee","type":"uint256"}],"name":"CreateIncreaseOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"orderIndex","type":"uint256"},{"indexed":false,"internalType":"address[]","name":"path","type":"address[]"},{"indexed":false,"internalType":"uint256","name":"amountIn","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"minOut","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"triggerRatio","type":"uint256"},{"indexed":false,"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"indexed":false,"internalType":"bool","name":"shouldUnwrap","type":"bool"},{"indexed":false,"internalType":"uint256","name":"executionFee","type":"uint256"}],"name":"CreateSwapOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"orderIndex","type":"uint256"},{"indexed":false,"internalType":"address","name":"collateralToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"collateralDelta","type":"uint256"},{"indexed":false,"internalType":"address","name":"indexToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"indexed":false,"internalType":"bool","name":"isLong","type":"bool"},{"indexed":false,"internalType":"uint256","name":"triggerPrice","type":"uint256"},{"indexed":false,"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"indexed":false,"internalType":"uint256","name":"executionFee","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"executionPrice","type":"uint256"}],"name":"ExecuteDecreaseOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"orderIndex","type":"uint256"},{"indexed":false,"internalType":"address","name":"purchaseToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"purchaseTokenAmount","type":"uint256"},{"indexed":false,"internalType":"address","name":"collateralToken","type":"address"},{"indexed":false,"internalType":"address","name":"indexToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"indexed":false,"internalType":"bool","name":"isLong","type":"bool"},{"indexed":false,"internalType":"uint256","name":"triggerPrice","type":"uint256"},{"indexed":false,"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"indexed":false,"internalType":"uint256","name":"executionFee","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"executionPrice","type":"uint256"}],"name":"ExecuteIncreaseOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"orderIndex","type":"uint256"},{"indexed":false,"internalType":"address[]","name":"path","type":"address[]"},{"indexed":false,"internalType":"uint256","name":"amountIn","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"minOut","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amountOut","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"triggerRatio","type":"uint256"},{"indexed":false,"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"indexed":false,"internalType":"bool","name":"shouldUnwrap","type":"bool"},{"indexed":false,"internalType":"uint256","name":"executionFee","type":"uint256"}],"name":"ExecuteSwapOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"router","type":"address"},{"indexed":false,"internalType":"address","name":"vault","type":"address"},{"indexed":false,"internalType":"address","name":"weth","type":"address"},{"indexed":false,"internalType":"address","name":"usdg","type":"address"},{"indexed":false,"internalType":"uint256","name":"minExecutionFee","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"minPurchaseTokenAmountUsd","type":"uint256"}],"name":"Initialize","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"orderIndex","type":"uint256"},{"indexed":false,"internalType":"address","name":"collateralToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"collateralDelta","type":"uint256"},{"indexed":false,"internalType":"address","name":"indexToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"indexed":false,"internalType":"bool","name":"isLong","type":"bool"},{"indexed":false,"internalType":"uint256","name":"triggerPrice","type":"uint256"},{"indexed":false,"internalType":"bool","name":"triggerAboveThreshold","type":"bool"}],"name":"UpdateDecreaseOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"gov","type":"address"}],"name":"UpdateGov","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"orderIndex","type":"uint256"},{"indexed":false,"internalType":"address","name":"collateralToken","type":"address"},{"indexed":false,"internalType":"address","name":"indexToken","type":"address"},{"indexed":false,"internalType":"bool","name":"isLong","type":"bool"},{"indexed":false,"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"triggerPrice","type":"uint256"},{"indexed":false,"internalType":"bool","name":"triggerAboveThreshold","type":"bool"}],"name":"UpdateIncreaseOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"minExecutionFee","type":"uint256"}],"name":"UpdateMinExecutionFee","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"minPurchaseTokenAmountUsd","type":"uint256"}],"name":"UpdateMinPurchaseTokenAmountUsd","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"ordexIndex","type":"uint256"},{"indexed":false,"internalType":"address[]","name":"path","type":"address[]"},{"indexed":false,"internalType":"uint256","name":"amountIn","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"minOut","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"triggerRatio","type":"uint256"},{"indexed":false,"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"indexed":false,"internalType":"bool","name":"shouldUnwrap","type":"bool"},{"indexed":false,"internalType":"uint256","name":"executionFee","type":"uint256"}],"name":"UpdateSwapOrder","type":"event"},{"inputs":[],"name":"PRICE_PRECISION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"USDG_PRECISION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_orderIndex","type":"uint256"}],"name":"cancelDecreaseOrder","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_orderIndex","type":"uint256"}],"name":"cancelIncreaseOrder","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"_swapOrderIndexes","type":"uint256[]"},{"internalType":"uint256[]","name":"_increaseOrderIndexes","type":"uint256[]"},{"internalType":"uint256[]","name":"_decreaseOrderIndexes","type":"uint256[]"}],"name":"cancelMultiple","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_orderIndex","type":"uint256"}],"name":"cancelSwapOrder","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_indexToken","type":"address"},{"internalType":"uint256","name":"_sizeDelta","type":"uint256"},{"internalType":"address","name":"_collateralToken","type":"address"},{"internalType":"uint256","name":"_collateralDelta","type":"uint256"},{"internalType":"bool","name":"_isLong","type":"bool"},{"internalType":"uint256","name":"_triggerPrice","type":"uint256"},{"internalType":"bool","name":"_triggerAboveThreshold","type":"bool"}],"name":"createDecreaseOrder","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address[]","name":"_path","type":"address[]"},{"internalType":"uint256","name":"_amountIn","type":"uint256"},{"internalType":"address","name":"_indexToken","type":"address"},{"internalType":"uint256","name":"_minOut","type":"uint256"},{"internalType":"uint256","name":"_sizeDelta","type":"uint256"},{"internalType":"address","name":"_collateralToken","type":"address"},{"internalType":"bool","name":"_isLong","type":"bool"},{"internalType":"uint256","name":"_triggerPrice","type":"uint256"},{"internalType":"bool","name":"_triggerAboveThreshold","type":"bool"},{"internalType":"uint256","name":"_executionFee","type":"uint256"},{"internalType":"bool","name":"_shouldWrap","type":"bool"}],"name":"createIncreaseOrder","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address[]","name":"_path","type":"address[]"},{"internalType":"uint256","name":"_amountIn","type":"uint256"},{"internalType":"uint256","name":"_minOut","type":"uint256"},{"internalType":"uint256","name":"_triggerRatio","type":"uint256"},{"internalType":"bool","name":"_triggerAboveThreshold","type":"bool"},{"internalType":"uint256","name":"_executionFee","type":"uint256"},{"internalType":"bool","name":"_shouldWrap","type":"bool"},{"internalType":"bool","name":"_shouldUnwrap","type":"bool"}],"name":"createSwapOrder","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"decreaseOrders","outputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"address","name":"collateralToken","type":"address"},{"internalType":"uint256","name":"collateralDelta","type":"uint256"},{"internalType":"address","name":"indexToken","type":"address"},{"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"internalType":"bool","name":"isLong","type":"bool"},{"internalType":"uint256","name":"triggerPrice","type":"uint256"},{"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"internalType":"uint256","name":"executionFee","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"decreaseOrdersIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"},{"internalType":"uint256","name":"_orderIndex","type":"uint256"},{"internalType":"address payable","name":"_feeReceiver","type":"address"}],"name":"executeDecreaseOrder","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"},{"internalType":"uint256","name":"_orderIndex","type":"uint256"},{"internalType":"address payable","name":"_feeReceiver","type":"address"}],"name":"executeIncreaseOrder","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"uint256","name":"_orderIndex","type":"uint256"},{"internalType":"address payable","name":"_feeReceiver","type":"address"}],"name":"executeSwapOrder","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"uint256","name":"_orderIndex","type":"uint256"}],"name":"getDecreaseOrder","outputs":[{"internalType":"address","name":"collateralToken","type":"address"},{"internalType":"uint256","name":"collateralDelta","type":"uint256"},{"internalType":"address","name":"indexToken","type":"address"},{"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"internalType":"bool","name":"isLong","type":"bool"},{"internalType":"uint256","name":"triggerPrice","type":"uint256"},{"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"internalType":"uint256","name":"executionFee","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"uint256","name":"_orderIndex","type":"uint256"}],"name":"getIncreaseOrder","outputs":[{"internalType":"address","name":"purchaseToken","type":"address"},{"internalType":"uint256","name":"purchaseTokenAmount","type":"uint256"},{"internalType":"address","name":"collateralToken","type":"address"},{"internalType":"address","name":"indexToken","type":"address"},{"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"internalType":"bool","name":"isLong","type":"bool"},{"internalType":"uint256","name":"triggerPrice","type":"uint256"},{"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"internalType":"uint256","name":"executionFee","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"uint256","name":"_orderIndex","type":"uint256"}],"name":"getSwapOrder","outputs":[{"internalType":"address","name":"path0","type":"address"},{"internalType":"address","name":"path1","type":"address"},{"internalType":"address","name":"path2","type":"address"},{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"minOut","type":"uint256"},{"internalType":"uint256","name":"triggerRatio","type":"uint256"},{"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"internalType":"bool","name":"shouldUnwrap","type":"bool"},{"internalType":"uint256","name":"executionFee","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_otherToken","type":"address"}],"name":"getUsdgMinPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"gov","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"increaseOrders","outputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"address","name":"purchaseToken","type":"address"},{"internalType":"uint256","name":"purchaseTokenAmount","type":"uint256"},{"internalType":"address","name":"collateralToken","type":"address"},{"internalType":"address","name":"indexToken","type":"address"},{"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"internalType":"bool","name":"isLong","type":"bool"},{"internalType":"uint256","name":"triggerPrice","type":"uint256"},{"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"internalType":"uint256","name":"executionFee","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"increaseOrdersIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_router","type":"address"},{"internalType":"address","name":"_vault","type":"address"},{"internalType":"address","name":"_weth","type":"address"},{"internalType":"address","name":"_usdg","type":"address"},{"internalType":"uint256","name":"_minExecutionFee","type":"uint256"},{"internalType":"uint256","name":"_minPurchaseTokenAmountUsd","type":"uint256"}],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"isInitialized","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"minExecutionFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"minPurchaseTokenAmountUsd","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"router","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_gov","type":"address"}],"name":"setGov","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_minExecutionFee","type":"uint256"}],"name":"setMinExecutionFee","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_minPurchaseTokenAmountUsd","type":"uint256"}],"name":"setMinPurchaseTokenAmountUsd","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"swapOrders","outputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"minOut","type":"uint256"},{"internalType":"uint256","name":"triggerRatio","type":"uint256"},{"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"internalType":"bool","name":"shouldUnwrap","type":"bool"},{"internalType":"uint256","name":"executionFee","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"swapOrdersIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_orderIndex","type":"uint256"},{"internalType":"uint256","name":"_collateralDelta","type":"uint256"},{"internalType":"uint256","name":"_sizeDelta","type":"uint256"},{"internalType":"uint256","name":"_triggerPrice","type":"uint256"},{"internalType":"bool","name":"_triggerAboveThreshold","type":"bool"}],"name":"updateDecreaseOrder","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_orderIndex","type":"uint256"},{"internalType":"uint256","name":"_sizeDelta","type":"uint256"},{"internalType":"uint256","name":"_triggerPrice","type":"uint256"},{"internalType":"bool","name":"_triggerAboveThreshold","type":"bool"}],"name":"updateIncreaseOrder","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_orderIndex","type":"uint256"},{"internalType":"uint256","name":"_minOut","type":"uint256"},{"internalType":"uint256","name":"_triggerRatio","type":"uint256"},{"internalType":"bool","name":"_triggerAboveThreshold","type":"bool"}],"name":"updateSwapOrder","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"usdg","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bool","name":"_triggerAboveThreshold","type":"bool"},{"internalType":"uint256","name":"_triggerPrice","type":"uint256"},{"internalType":"address","name":"_indexToken","type":"address"},{"internalType":"bool","name":"_maximizePrice","type":"bool"},{"internalType":"bool","name":"_raise","type":"bool"}],"name":"validatePositionOrderPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address[]","name":"_path","type":"address[]"},{"internalType":"uint256","name":"_triggerRatio","type":"uint256"}],"name":"validateSwapOrderPriceWithTriggerAboveThreshold","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"vault","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"weth","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"stateMutability":"payable","type":"receive"}]}'),s=JSON.parse('{"Mt":[{"inputs":[{"internalType":"address payable","name":"_orderBookAddress","type":"address"},{"internalType":"address","name":"_account","type":"address"},{"internalType":"uint256[]","name":"_indices","type":"uint256[]"}],"name":"getDecreaseOrders","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"},{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address payable","name":"_orderBookAddress","type":"address"},{"internalType":"address","name":"_account","type":"address"},{"internalType":"uint256[]","name":"_indices","type":"uint256[]"}],"name":"getIncreaseOrders","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"},{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address payable","name":"_orderBookAddress","type":"address"},{"internalType":"address","name":"_account","type":"address"},{"internalType":"uint256[]","name":"_indices","type":"uint256[]"}],"name":"getSwapOrders","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"},{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"}]}'),c={},d=i(9138),h=i(13805),v=i(49524),b=i(47981),O=i(27350),M=i(1403),F=i(1031),x=i(72603),n=i(37432),L=i(24069),$=0,W=0,ye=1e6,ce=100*1e4,we="Increase",je="Decrease",I="Stop",k="1.3",Oe=1,Ze=30,nn=(0,L.Jl)(993,27),an=5,ke=10,En=750,tn=18,rn="Swap",sn="Long",dn="Short",E=1e4,Re=30,On="2000000000000000",on="Market",ln="Limit",un=(0,L.Jl)(5,Re),Ne=(0,L.Jl)(1,30),cn=50,Fe=(0,v.u)(h.Kj,"USDC"),In=(0,L.Jl)(200*1e3*1e3,18),Mn=25,pn={"5m":60*5,"15m":60*15,"1h":60*60,"4h":60*60*4,"1d":60*60*24},Ie=Y.d,mn=function(a){return function(t){return a===0?t:a>0?t.mul(expandDecimals(1,a)):t.div(expandDecimals(1,-a))}};function yn(e){var a=e.size,t=e.sizeDelta,f=e.increaseSize,o=e.collateral,l=e.collateralDelta,r=e.increaseCollateral,g=e.entryFundingRate,T=e.cumulativeFundingRate,A=e.hasProfit,S=e.delta,u=e.includeDelta;if(!(!a&&!t)&&!(!o&&!l)){var p=a||(0,L._b)(0);if(t)if(f)p=a.add(t);else{if(t.gte(a))return;p=a.sub(t)}var m=o||(0,L._b)(0);if(l)if(r)m=o.add(l);else{if(l.gte(o))return;m=o.sub(l)}if(S&&u)if(A)m=m.add(S);else{if(S.gt(m))return;m=m.sub(S)}if(!m.eq(0)){if(m=t?m.mul(E-ke).div(E):m,g&&T){var U=a.mul(T.sub(g)).div(ye);m=m.sub(U)}return p.mul(E).div(m)}}}function fn(e,a){return a?(0,h.jY)(e)+"address/"+a:(0,h.jY)(e)}function gn(e){var a=e.delta,t=e.deltaPercentage,f=e.hasProfit,o,l;return a.gt(0)?(o=f?"+":"-",l=f?"+":"-"):(o="",l=""),o+="$".concat((0,L.dN)(a,Re,2,!0)),l+="".concat((0,L.dN)(t,2,2),"%"),{deltaStr:o,deltaPercentageStr:l}}function bn(e,a,t,f){return ve.wn(["address","address","address","bool"],[e,a,t,f])}function vn(e,a,t){return e.mul(expandDecimals(1,t)).div(expandDecimals(1,a))}function Un(e,a,t){var f=a.size,o=a.collateral,l=a.isLong,r=a.averagePrice,g=a.lastIncreasedTime,T=e;t||(t=f),T||(T=bigNumberify(0));var A=r.gt(T)?r.sub(T):T.sub(r),S=t.mul(A).div(r),u=S,p=g+$<Date.now()/1e3,m=l?T.gt(r):T.lt(r);!p&&m&&S.mul(E).lte(f.mul(W))&&(S=bigNumberify(0));var U=S.mul(E).div(o),D=u.mul(E).div(o);return{delta:S,pendingDelta:u,pendingDeltaPercentage:D,hasProfit:m,deltaPercentage:U}}function Tn(e,a,t,f,o){var l=a===Ie?o:a,r=t===Ie?o:t;return e+":"+l+":"+r+":"+f}function hn(e,a,t){if(!(!e||!e.weight||!a))return a.eq(0)?bigNumberify(0):e.weight.mul(a).div(t)}function Qe(e,a,t,f,o,l,r){if(!e||!e.usdgAmount||!l||!r)return 0;var g=bigNumberify(t),T=bigNumberify(f),A=e.usdgAmount,S=A.add(a);o||(S=a.gt(A)?bigNumberify(0):A.sub(a));var u=hn(e,l,r);if(!u||u.eq(0))return g.toNumber();var p=A.gt(u)?A.sub(u):u.sub(A),m=S.gt(u)?S.sub(u):u.sub(S);if(m.lt(p)){var U=T.mul(p).div(u);return U.gt(g)?0:g.sub(U).toNumber()}var D=p.add(m).div(2);D.gt(u)&&(D=u);var q=T.mul(D).div(u);return g.add(q).toNumber()}function Me(e){return e?Oe:Ze}function Cn(e,a,t,f,o,l,r,g,T,A){var S={amount:bigNumberify(0)};if(!a||!t||!f||!o)return S;if(t===f)return{amount:a};var u=getTokenInfo(o,t),p=getTokenInfo(o,f);if(u.isNative&&p.isWrapped)return{amount:a};if(u.isWrapped&&p.isNative)return{amount:a};var m;u&&(m=A?u.contractMinPrice:u.minPrice);var U;if(p&&(U=A?p.contractMaxPrice:p.maxPrice),!m||!U)return S;var D=mn(p.decimals-u.decimals),q=bigNumberify(0);if(r&&!r.isZero()&&(q=a.mul(Ne).div(r)),f===Fe){var ae=Me(Boolean(u.isStable));if(r&&!r.isZero()){var fe=q;return{amount:D(fe.mul(E-ae).div(E)),feeBasisPoints:ae}}var j=a.mul(m).div(Ne);return{amount:D(j.mul(E-ae).div(E)),feeBasisPoints:ae}}if(t===Fe){var Q,ge=(Q=p.redemptionAmount)===null||Q===void 0?void 0:Q.mul(l||U).div(expandDecimals(1,p.decimals));if(ge&&ge.gt(nn)){var le=Me(Boolean(p.isStable)),Pe=r&&!r.isZero()?q:a.mul(p.redemptionAmount).div(expandDecimals(1,p.decimals));return{amount:D(Pe.mul(E-le).div(E)),feeBasisPoints:le}}var R=a,te=getMostAbundantStableToken(e,o);if(!(te!=null&&te.availableAmount)||te.availableAmount.lt(R)){var Le=r&&!r.isZero()?q:a.mul(p.redemptionAmount).div(expandDecimals(1,p.decimals)),Ue=Me(Boolean(p.isStable));return{amount:D(Le.mul(E-Ue).div(E)),feeBasisPoints:Ue}}var Te=Me(!0),pe=Me(!1);if(r&&!r.isZero()){var _e=q.mul(E-Te-pe).div(E);return{amount:D(_e),path:[Fe,te.address,p.address],feeBasisPoints:Te+pe}}var de=a.mul(Ne).div(te.maxPrice);return de=de.mul(E-Te).div(E),de=de.mul(te.minPrice).div(l||U),de=de.mul(E-pe).div(E),{amount:D(de),path:[Fe,te.address,p.address],feeBasisPoints:Te+pe}}var Ge=r&&!r.isZero()?q:a.mul(m).div(l||U),me=a.mul(m).div(Ne);me=vn(me,u.decimals,tn);var Ce=u.isStable&&p.isStable?Oe:Ze,Ae=u.isStable&&p.isStable?an:cn,he=Qe(u,me,Ce,Ae,!0,g,T),xe=Qe(p,me,Ce,Ae,!1,g,T),Be=he>xe?he:xe;return{amount:D(Ge.mul(E-Be).div(E)),feeBasisPoints:Be}}function Bn(e){return e===ethers.constants.AddressZero}function Rn(e){return e===ethers.constants.HashZero}function Nn(e,a,t,f){var o=getContract(t,"PositionRouter"),l=getContract(t,"NATIVE_TOKEN"),r=useSWR([a,t,o,"minExecutionFee"],{fetcher:contractFetcher(e,PositionRouter)}),g=r.data,T=useSWR(["gasPrice",t],{fetcher:function(){return new Promise(function(){var ae=_asyncToGenerator(_regeneratorRuntime().mark(function fe(j,Q){var ge,le;return _regeneratorRuntime().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(ge=getProvider(e,t),ge){R.next=4;break}return j(void 0),R.abrupt("return");case 4:return R.prev=4,R.next=7,ge.getGasPrice();case 7:le=R.sent,j(le),R.next=14;break;case 11:R.prev=11,R.t0=R.catch(4),console.error(R.t0);case 14:case"end":return R.stop()}},fe,null,[[4,11]])}));return function(fe,j){return ae.apply(this,arguments)}}())}}),A=T.data,S;(t===ARBITRUM||t===ARBITRUM_TESTNET)&&(S=65e3),t===AVALANCHE?S=7e5:S=65e3;var u=g;if(A&&g){var p=A.mul(S);p.gt(g)&&(u=p)}var m=getUsd(u,l,!1,f),U=m==null?void 0:m.gt(expandDecimals(getHighExecutionFee(t),Re)),D=U?'The network cost to send transactions is high at the moment, please check the "Execution Fee" value before proceeding.':"";return{minExecutionFee:u,minExecutionFeeUSD:m,minExecutionFeeErrorMessage:D}}function xn(e){if(!e)return bigNumberify(0);var a=e.mul(E-ke).div(E);return e.sub(a)}function Je(e){var a=e.liquidationAmount,t=e.size,f=e.collateral,o=e.averagePrice,l=e.isLong;if(!(!t||t.eq(0))){if(a.gt(f)){var r=a.sub(f),g=r.mul(o).div(t);return l?o.add(g):o.sub(g)}var T=f.sub(a),A=T.mul(o).div(t);return l?o.sub(A):o.add(A)}}function Ke(e,a,t,f,o,l){if(!e||e.length===0)return[];for(var r=y()(e,2),g=r[0],T=r[1],A=g.length/o,S=[],u=0;u<A;u++){var p=T.slice(l*u,l*(u+1)).concat(g.slice(o*u,o*(u+1)));if(!(p[0]===Ie&&p[1]===Ie)){var m=f(p);m.index=t[u],m.account=a,S.push(m)}}return S}function Sn(e,a,t,f){if(!a||!a.length)return[];var o=function(r){var g=r[6].toString()==="1",T=r[7].toString()==="1";return{path:[r[0],r[1],r[2]].filter(function(A){return A!==Ie}),amountIn:r[3],minOut:r[4],triggerRatio:r[5],triggerAboveThreshold:g,type:rn,shouldUnwrap:T}};return Ke(a,t,f,o,5,3).filter(function(l){return l.path.every(function(r){return(0,b.wu)(e,r)})})}function wn(e,a,t,f){var o=function(r){var g=r[5].toString()==="1";return{purchaseToken:r[0],collateralToken:r[1],indexToken:r[2],purchaseTokenAmount:r[3],sizeDelta:r[4],isLong:g,triggerPrice:r[6],triggerAboveThreshold:r[7].toString()==="1",type:we}};return Ke(a,t,f,o,5,3).filter(function(l){return(0,b.wu)(e,l.purchaseToken)&&(0,b.wu)(e,l.collateralToken)&&(0,b.wu)(e,l.indexToken)})}function Pn(e,a,t,f){var o=function(r){var g=r[4].toString()==="1";return{collateralToken:r[0],indexToken:r[1],collateralDelta:r[2],sizeDelta:r[3],isLong:g,triggerPrice:r[5],triggerAboveThreshold:r[6].toString()==="1",type:je}};return Ke(a,t,f,o,5,2).filter(function(l){return(0,b.wu)(e,l.collateralToken)&&(0,b.wu)(e,l.indexToken)})}function An(e,a){var t=(0,se.Ge)(),f=t.library,o=t.account,l=!0,r=a||o,g=(0,n.x)(),T=g.chainId,A=l&&r&&e,S=(0,v.u)(T,"OrderBook"),u=(0,v.u)(T,"OrderBook"),p=A?[l,T,S,r]:!1,m=(0,N.ZP)(p||[],{dedupingInterval:5e3,fetcher:function(){var fe=z()(w()().mark(function Q(ge,le,Pe,R){var te,Le,Ue,Te,pe,_e,de,Ge,me,Ce,Ae,he,xe,Be,ze,Ve,Ye,Xe,qe,$e,en;return w()().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return te=(0,M.VH)(f,le),Le=new B.Contract(Pe,oe.Mt,te),Ue=new B.Contract(u,s.Mt,te),Te=function(){var _="".concat((0,d.wA)(le),"/orders_indices?account=").concat(R);return fetch(_).then(function(){var K=z()(w()().mark(function V(Z){var J,X,ue,ne,We;return w()().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:return De.next=2,Z.json();case 2:for(J=De.sent,X={},ue=0,ne=Object.keys(J);ue<ne.length;ue++)We=ne[ue],X[We.toLowerCase()]=J[We].map(function(He){return parseInt(He.value)}).sort(function(He,Dn){return He-Dn});return De.abrupt("return",X);case 6:case"end":return De.stop()}},V)}));return function(V){return K.apply(this,arguments)}}()).catch(function(){return{swap:[],increase:[],decrease:[]}})},pe=function(){var be=z()(w()().mark(function _(K){var V,Z;return w()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return V=K.toLowerCase()+"OrdersIndex",X.next=3,Le[V](R).then(function(ue){return(0,L._b)(ue._hex).toNumber()});case 3:return Z=X.sent,X.abrupt("return",Z);case 5:case"end":return X.stop()}},_)}));return function(K){return be.apply(this,arguments)}}(),_e=function(){var be=z()(w()().mark(function _(){var K,V,Z,J,X;return w()().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.next=2,Promise.all([pe("swap"),pe("increase"),pe("decrease")]);case 2:return K=ne.sent,V=y()(K,3),Z=V[0],J=V[1],X=V[2],ne.abrupt("return",{swap:Z,increase:J,decrease:X});case 8:case"end":return ne.stop()}},_)}));return function(){return be.apply(this,arguments)}}(),de=function(_,K){var V=10,Z=[];K=K||Math.max(_-V,0);for(var J=_-1;J>=K;J--)Z.push(J);return Z},Ge=function(_,K){return _.length===0?de(K):[].concat(P()(_),P()(de(K,_[_.length-1]+1).sort(function(V,Z){return Z-V})))},me=function(){var be=z()(w()().mark(function _(K,V,Z,J){var X,ue,ne;return w()().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return X=Ge(V,Z),Se.next=3,Ue[K](Pe,R,X);case 3:return ue=Se.sent,ne=J(le,ue,R,X),Se.abrupt("return",ne);case 6:case"end":return Se.stop()}},_)}));return function(K,V,Z,J){return be.apply(this,arguments)}}(),ee.prev=9,ee.next=12,Promise.all([Te(),_e()]);case 12:return Ce=ee.sent,Ae=y()(Ce,2),he=Ae[0],xe=Ae[1],ee.next=18,Promise.all([me("getSwapOrders",he.swap,xe.swap,Sn),me("getIncreaseOrders",he.increase,xe.increase,wn),me("getDecreaseOrders",he.decrease,xe.decrease,Pn)]);case 18:return Be=ee.sent,ze=y()(Be,3),Ve=ze[0],Ye=Ve===void 0?[]:Ve,Xe=ze[1],qe=Xe===void 0?[]:Xe,$e=ze[2],en=$e===void 0?[]:$e,ee.abrupt("return",[].concat(P()(Ye),P()(qe),P()(en)));case 29:ee.prev=29,ee.t0=ee.catch(9),console.error(ee.t0);case 32:case"end":return ee.stop()}},Q,null,[[9,29]])}));function j(Q,ge,le,Pe){return fe.apply(this,arguments)}return j}()}),U=m.data,D=U===void 0?[]:U,q=m.mutate,ae=m.error;return[D,q,ae]}function Fn(e){var a=e.isLong,t=e.size,f=e.collateral,o=e.averagePrice,l=e.entryFundingRate,r=e.cumulativeFundingRate,g=e.sizeDelta,T=e.collateralDelta,A=e.increaseCollateral,S=e.increaseSize,u=e.delta,p=e.hasProfit,m=e.includeDelta;if(!(!t||!f||!o)){var U=t||bigNumberify(0),D=f;if(g){if(S)U=t.add(g);else{if(g.gte(t))return;U=t.sub(g)}if(m&&!p){var q=g.mul(u).div(t);D=D.sub(q)}}if(T)if(A)D=D.add(T);else{if(T.gte(D))return;D=D.sub(T)}var ae=xn(t).add(un);if(l&&r){var fe=t.mul(r.sub(l)).div(ye);ae=ae.add(fe)}var j=Je({liquidationAmount:ae,size:U,collateral:D,averagePrice:o,isLong:a}),Q=Je({liquidationAmount:U.mul(E).div(ce),size:U,collateral:D,averagePrice:o,isLong:a});return j?Q?a?j.gt(Q)?j:Q:j.lt(Q)?j:Q:j:Q}}function Ln(){var e=getServerUrl(ARBITRUM,"/ui_version"),a=useSWR([e],{fetcher:function(){return fetch.apply(void 0,arguments).then(function(r){return r.text()})}}),t=a.data,f=a.mutate,o=!1;return t&&parseFloat(t)>parseFloat(k)&&(o=!0),o=!1,{data:o,mutate:f}}},1031:function(Ee,re,i){i.d(re,{z3:function(){return ie.z3}});var ie=i(72603),P=i(59734),H={},y=i(9138),G=i(49524),w=i(47981),C=i(27350),z=i(39265);function se(B,N,oe){if(N){var s=B.isNative?oe:B.address,c=N[s];if(c){var d=bigNumberify(c);if(!d.eq(0)){var h=B.maxPrice.sub(B.minPrice),v=h.mul(BASIS_POINTS_DIVISOR).div(B.maxPrice.add(B.minPrice).div(2));if(v.gt(MAX_PRICE_DEVIATION_BASIS_POINTS-50)){d.gt(B.minPrimaryPrice)?B.maxPrice=d:B.minPrice=d;return}var b=v.div(2).toNumber();B.maxPrice=d.mul(BASIS_POINTS_DIVISOR+b).div(BASIS_POINTS_DIVISOR),B.minPrice=d.mul(BASIS_POINTS_DIVISOR-b).div(BASIS_POINTS_DIVISOR)}}}}function Y(B,N,oe,s,c,d,h,v){d||(d=15);for(var b=2,O={},M=0;M<B.length;M++){var F=JSON.parse(JSON.stringify(B[M]));N&&(F.balance=N[M]),F.address===USDG_ADDRESS&&(F.minPrice=expandDecimals(1,USD_DECIMALS),F.maxPrice=expandDecimals(1,USD_DECIMALS)),O[F.address]=F}for(var x=0;x<oe.length;x++){var n=JSON.parse(JSON.stringify(oe[x]));if(s){if(n.poolAmount=s[x*d],n.reservedAmount=s[x*d+1],n.availableAmount=n.poolAmount.sub(n.reservedAmount),n.usdgAmount=s[x*d+2],n.redemptionAmount=s[x*d+3],n.weight=s[x*d+4],n.bufferAmount=s[x*d+5],n.maxUsdgAmount=s[x*d+6],n.globalShortSize=s[x*d+7],n.maxGlobalShortSize=s[x*d+8],n.maxGlobalLongSize=s[x*d+9],n.minPrice=s[x*d+10],n.maxPrice=s[x*d+11],n.guaranteedUsd=s[x*d+12],n.maxPrimaryPrice=s[x*d+13],n.minPrimaryPrice=s[x*d+14],n.contractMinPrice=n.minPrice,n.contractMaxPrice=n.maxPrice,n.maxAvailableShort=bigNumberify(0),n.hasMaxAvailableShort=!1,n.maxGlobalShortSize.gt(0)&&(n.hasMaxAvailableShort=!0,n.maxGlobalShortSize.gt(n.globalShortSize)&&(n.maxAvailableShort=n.maxGlobalShortSize.sub(n.globalShortSize))),n.maxUsdgAmount.eq(0)&&(n.maxUsdgAmount=DEFAULT_MAX_USDG_AMOUNT),n.availableUsd=n.isStable?n.poolAmount.mul(n.minPrice).div(expandDecimals(1,n.decimals)):n.availableAmount.mul(n.minPrice).div(expandDecimals(1,n.decimals)),n.maxAvailableLong=bigNumberify(0),n.hasMaxAvailableLong=!1,n.maxGlobalLongSize.gt(0)){if(n.hasMaxAvailableLong=!0,n.maxGlobalLongSize.gt(n.guaranteedUsd)){var L=n.maxGlobalLongSize.sub(n.guaranteedUsd);n.maxAvailableLong=L.lt(n.availableUsd)?L:n.availableUsd}}else n.maxAvailableLong=n.availableUsd;n.maxLongCapacity=n.maxGlobalLongSize.gt(0)&&n.maxGlobalLongSize.lt(n.availableUsd.add(n.guaranteedUsd))?n.maxGlobalLongSize:n.availableUsd.add(n.guaranteedUsd),n.managedUsd=n.availableUsd.add(n.guaranteedUsd),n.managedAmount=n.managedUsd.mul(expandDecimals(1,n.decimals)).div(n.minPrice),se(n,h,v)}c&&(n.fundingRate=c[x*b],n.cumulativeFundingRate=c[x*b+1]),O[n.address]&&(n.balance=O[n.address].balance),O[n.address]=n}return O}function ve(B,N,oe,s,c,d){var h=getTokens(N),v=getContract(N,"VaultReader"),b=getContract(N,"Vault"),O=getContract(N,"PositionRouter"),M=getContract(N,"NATIVE_TOKEN"),F=getWhitelistedTokens(N),x=F.map(function(ce){return ce.address}),n=useSWR(["useInfoTokens:".concat(oe),N,v,"getVaultTokenInfoV4"],{fetcher:contractFetcher(B,VaultReader,[b,O,M,expandDecimals(1,18),x])}),L=n.data,$=getServerUrl(N,"/prices"),W=useSWR([$],{fetcher:function(){return fetch.apply(void 0,arguments).then(function(we){return we.json()})},refreshInterval:500,refreshWhenHidden:!0}),ye=W.data;return{infoTokens:Y(h,s,F,L,c,d,ye,M)}}},72603:function(Ee,re,i){i.d(re,{z3:function(){return C}});var ie=i(9279),P=i(13805),H=i(47981),y=i(39265),G=ie.d;function w(s,c){return c?getExplorerUrl(s)+"token/"+c:getExplorerUrl(s)}function C(s,c,d,h){return d&&c===h?s[G]:s[c||G]}function z(s,c,d,h,v){if(h&&h!==MARKET&&v)return v;if(d&&!(c&&!d.maxPrice)&&!(!c&&!d.minPrice))return c?d.maxPrice:d.minPrice}function se(s,c,d,h,v,b){if(s){if(c===USDG_ADDRESS)return s.mul(PRECISION).div(expandDecimals(1,18));var O=C(h,c),M=z(c,d,O,v,b);if(M)return s.mul(M).div(expandDecimals(1,O.decimals))}}function Y(s,c,d){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(d){if(c===USDG_ADDRESS)return d.mul(expandDecimals(1,18)).div(PRECISION);var v=C(s,c);if(v){var b=h.overridePrice||(h.max?v.maxPrice:v.minPrice);if(!(!BigNumber.isBigNumber(b)||b.lte(0)))return d.mul(expandDecimals(1,v.decimals)).div(b)}}}function ve(s,c,d,h,v,b,O,M){if(!(!s||!c||!b||!d||!h||!v||!M)){var F=getVisibleTokens(s),x=c.mul(d).div(PRECISION),n=F.map(function($){var W=C(b,$.address),ye=getFeeBasisPoints(W,x,MINT_BURN_FEE_BASIS_POINTS,TAX_BASIS_POINTS,!0,h,v),ce=bigNumberify(0);return W.maxUsdgAmount&&W.maxUsdgAmount.gt(0)&&W.usdgAmount&&W.usdgAmount.gt(0)&&(ce=W.maxUsdgAmount.sub(W.usdgAmount).mul(expandDecimals(1,USD_DECIMALS)).div(expandDecimals(1,USDG_DECIMALS))),{token:$,fees:ye,amountLeftToDeposit:ce}}),L=n.filter(function($){return $.token.address!==O&&$.hasOwnProperty("fees")&&M.lt($.amountLeftToDeposit)}).sort(function($,W){return $.fees-W.fees});return L.length>0?L[0]:n.sort(function($,W){return Number(W.amountLeftToDeposit.sub($.amountLeftToDeposit))})[0]}}function B(s,c){for(var d=getWhitelistedTokens(s),h,v=d.find(function(F){return F.isStable}),b=0;b<d.length;b++){var O=C(c,d[b].address);if(!(!O.isStable||!O.availableAmount)){var M=adjustForDecimals(O.availableAmount,O.decimals,USD_DECIMALS);(!h||M.gt(h))&&(h=M,v=O)}}return v}function N(s,c){return!c||s.address!==G||!s.balance?!1:!!(c.gte(s.balance)||s.balance.sub(c).lt(DUST_BNB))}var oe=function(c,d){if(c){for(var h=[],v=0;v<c.length;v++){var b=c[v];b===G&&(b=d),h.push(b)}return h}}}}]);
