"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[893],{9138:function(De,te,i){i.d(te,{wA:function(){return C}});var re=i(38416),A=i.n(re),X=i(63910),y,V="https://stats.gmx.io/api",S=(y={default:"https://gmx-server-mainnet.uw.r.appspot.com"},A()(y,X.RR,"https://gambit-server-staging.uc.r.appspot.com"),A()(y,X.qF,"https://gambit-server-devnet.uc.r.appspot.com"),A()(y,X.PO,"https://gmx-server-mainnet.uw.r.appspot.com"),A()(y,X.Qz,"https://gmx-avax-server.uc.r.appspot.com"),y);function C(ie){if(!ie)throw new Error("chainId is not provided");if(document.location.hostname.includes("deploy-preview")){var J=localStorage.getItem("SERVER_BASE_URL");if(J)return J}return S[ie]||S.default}function z(ie,J){return"".concat(C(ie)).concat(J)}},47981:function(De,te,i){i.d(te,{rU:function(){return ie},wu:function(){return L}});for(var re=i(38416),A=i.n(re),X=i(20238),y=i(63910),V=i(49524),S,C,z,ie=18,J=function(_){return(0,V.u)(y.Fe,_)},ye=(S={},A()(S,y.vT,[{name:"Wrapped Binance Coin",symbol:"WBNB",decimals:18,address:"0xd722eA9CBC41Eb530eEcc0689aaDD88f618e9d88",isWrapped:!0,baseSymbol:"BNB",imageUrl:"https://assets.coingecko.com/coins/images/825/small/binance-coin-logo.png",isShortable:!0},{name:"Bitcoin (BTCB)",symbol:"BTC",decimals:8,isShortable:!0,address:"0xd06E2628a7845e85F42751c89beDE17DaB8411c8",imageUrl:"https://assets.coingecko.com/coins/images/26115/thumb/btcb.png?1655921693"},{name:"Ethereum",symbol:"ETH",decimals:18,isShortable:!0,address:"0xe94212E917bAb65D47489ABeE5c891adF3345bF4",imageUrl:"https://assets.coingecko.com/coins/images/279/small/ethereum.png?1595348880"},{name:"Binance Coin",symbol:"BNB",decimals:18,isShortable:!0,address:X.dE,isNative:!0,imageUrl:"https://assets.coingecko.com/coins/images/825/small/binance-coin-logo.png"},{name:"USDC",symbol:"USDC",decimals:18,address:"0x811Cc43d8129Ff2235Ef1b63E92bbbE2eAeF1714",isStable:!0,isShortable:!0,imageUrl:"https://assets.coingecko.com/coins/images/6319/thumb/USD_Coin_icon.png?1547042389"},{name:"DLP",symbol:"DLP",decimals:18,address:"0x0DE6925163084609E1ABD4aDFE460f1c328EDa0B",isStable:!0,isShortable:!0,imageUrl:"https://assets.coingecko.com/coins/images/6319/thumb/USD_Coin_icon.png?1547042389"}]),A()(S,y.Vr,[{name:"Bitcoin (BTCB)",symbol:"BTC",decimals:8,address:"0xb19C12715134bee7c4b1Ca593ee9E430dABe7b56",imageUrl:"https://assets.coingecko.com/coins/images/26115/thumb/btcb.png?1655921693"},{name:"Ethereum",symbol:"ETH",decimals:18,address:"0x1958f7C067226c7C8Ac310Dc994D0cebAbfb2B02",imageUrl:"https://assets.coingecko.com/coins/images/279/small/ethereum.png?1595348880"},{name:"Binance Coin",symbol:"BNB",decimals:18,address:X.dE,isNative:!0,imageUrl:"https://assets.coingecko.com/coins/images/825/small/binance-coin-logo.png"},{name:"Wrapped Binance Coin",symbol:"WBNB",decimals:18,address:"0x612777Eea37a44F7a95E3B101C39e1E2695fa6C2",isWrapped:!0,baseSymbol:"BNB",imageUrl:"https://assets.coingecko.com/coins/images/825/small/binance-coin-logo.png"}]),A()(S,y.Fe,[{name:"Bitcoin (BTCB)",symbol:"BTC",decimals:18,address:J("BTC"),imageUrl:"https://assets.coingecko.com/coins/images/26115/thumb/btcb.png?1655921693",isShortable:!0},{name:"Ethereum",symbol:"ETH",decimals:18,address:J("ETH"),imageUrl:"https://assets.coingecko.com/coins/images/279/small/ethereum.png?1595348880",isShortable:!0},{name:"Binance Coin",symbol:"BNB",decimals:18,address:X.dE,isNative:!0,imageUrl:"https://assets.coingecko.com/coins/images/825/small/binance-coin-logo.png",isShortable:!0},{name:"Wrapped Ethereum Coin",symbol:"WETH",decimals:18,address:J("ETH"),isWrapped:!0,baseSymbol:"WETH",imageUrl:"https://assets.coingecko.com/coins/images/279/small/ethereum.png?1595348880",isShortable:!0}]),S),B=(C={},A()(C,y.PO,{GMX:{name:"GMX",symbol:"GMX",decimals:18,address:(0,V.u)(y.PO,"GMX"),imageUrl:"https://assets.coingecko.com/coins/images/18323/small/arbit.png?1631532468"},GLP:{name:"GMX LP",symbol:"GLP",decimals:18,address:(0,V.u)(y.PO,"StakedGlpTracker"),imageUrl:"https://github.com/gmx-io/gmx-assets/blob/main/GMX-Assets/PNG/GLP_LOGO%20ONLY.png?raw=true"}}),A()(C,y.Qz,{GMX:{name:"GMX",symbol:"GMX",decimals:18,address:(0,V.u)(y.Qz,"GMX"),imageUrl:"https://assets.coingecko.com/coins/images/18323/small/arbit.png?1631532468"},GLP:{name:"GMX LP",symbol:"GLP",decimals:18,address:(0,V.u)(y.Qz,"StakedGlpTracker"),imageUrl:"https://github.com/gmx-io/gmx-assets/blob/main/GMX-Assets/PNG/GLP_LOGO%20ONLY.png?raw=true"}}),A()(C,y.vT,{}),A()(C,y.Fe,{}),C),N=(z={},A()(z,y.vT,{GMX:{coingecko:"https://www.coingecko.com/en/coins/gmx",avalanche:"https://snowtrace.io/address/0x62edc0692bd897d2295872a9ffcac5425011c661"},GLP:{avalanche:"https://snowtrace.io/address/0x9e295B5B976a184B14aD8cd72413aD846C299660"},AVAX:{coingecko:"https://www.coingecko.com/en/coins/avalanche"},ETH:{coingecko:"https://www.coingecko.com/en/coins/weth",avalanche:"https://snowtrace.io/address/0x49d5c2bdffac6ce2bfdb6640f4f80f226bc10bab"},BTC:{coingecko:"https://www.coingecko.com/en/coins/wrapped-bitcoin",avalanche:"https://snowtrace.io/address/0x50b7545627a5162f82a992c33b87adc75187b218"},"BTC.b":{coingecko:"https://www.coingecko.com/en/coins/wrapped-bitcoin",avalanche:"https://snowtrace.io/address/0x152b9d0FdC40C096757F570A51E494bd4b943E50"},MIM:{coingecko:"https://www.coingecko.com/en/coins/magic-internet-money",avalanche:"https://snowtrace.io/address/0x130966628846bfd36ff31a822705796e8cb8c18d"},"USDC.e":{coingecko:"https://www.coingecko.com/en/coins/usd-coin-avalanche-bridged-usdc-e",avalanche:"https://snowtrace.io/address/0xa7d7079b0fead91f3e65f86e8915cb59c1a4c664"},USDC:{coingecko:"https://www.coingecko.com/en/coins/usd-coin",avalanche:"https://snowtrace.io/address/0xb97ef9ef8734c71904d8002f8b6bc66dd9c48a6e"}}),A()(z,y.Fe,{GMX:{coingecko:"https://www.coingecko.com/en/coins/gmx",avalanche:"https://snowtrace.io/address/0x62edc0692bd897d2295872a9ffcac5425011c661"},GLP:{avalanche:"https://snowtrace.io/address/0x9e295B5B976a184B14aD8cd72413aD846C299660"},AVAX:{coingecko:"https://www.coingecko.com/en/coins/avalanche"},ETH:{coingecko:"https://www.coingecko.com/en/coins/weth",avalanche:"https://snowtrace.io/address/0x49d5c2bdffac6ce2bfdb6640f4f80f226bc10bab"},BTC:{coingecko:"https://www.coingecko.com/en/coins/wrapped-bitcoin",avalanche:"https://snowtrace.io/address/0x50b7545627a5162f82a992c33b87adc75187b218"},"BTC.b":{coingecko:"https://www.coingecko.com/en/coins/wrapped-bitcoin",avalanche:"https://snowtrace.io/address/0x152b9d0FdC40C096757F570A51E494bd4b943E50"},MIM:{coingecko:"https://www.coingecko.com/en/coins/magic-internet-money",avalanche:"https://snowtrace.io/address/0x130966628846bfd36ff31a822705796e8cb8c18d"},"USDC.e":{coingecko:"https://www.coingecko.com/en/coins/usd-coin-avalanche-bridged-usdc-e",avalanche:"https://snowtrace.io/address/0xa7d7079b0fead91f3e65f86e8915cb59c1a4c664"},USDC:{coingecko:"https://www.coingecko.com/en/coins/usd-coin",avalanche:"https://snowtrace.io/address/0xb97ef9ef8734c71904d8002f8b6bc66dd9c48a6e"}}),A()(z,y.qF,{GMX:{coingecko:"https://www.coingecko.com/en/coins/gmx",arbitrum:"https://arbiscan.io/address/0xfc5a1a6eb076a2c7ad06ed22c90d7e710e35ad0a"},GLP:{arbitrum:"https://testnet.arbiscan.io/token/0xb4f81Fa74e06b5f762A104e47276BA9b2929cb27"}}),A()(z,y.PO,{GMX:{coingecko:"https://www.coingecko.com/en/coins/gmx",arbitrum:"https://arbiscan.io/address/0xfc5a1a6eb076a2c7ad06ed22c90d7e710e35ad0a"},GLP:{arbitrum:"https://arbiscan.io/token/0x1aDDD80E6039594eE970E5872D247bf0414C8903",reserves:"https://portfolio.nansen.ai/dashboard/gmx?chain=ARBITRUM"},ETH:{coingecko:"https://www.coingecko.com/en/coins/ethereum"},BTC:{coingecko:"https://www.coingecko.com/en/coins/wrapped-bitcoin",arbitrum:"https://arbiscan.io/address/0x2f2a2543b76a4166549f7aab2e75bef0aefc5b0f"},LINK:{coingecko:"https://www.coingecko.com/en/coins/chainlink",arbitrum:"https://arbiscan.io/address/0xf97f4df75117a78c1a5a0dbb814af92458539fb4"},UNI:{coingecko:"https://www.coingecko.com/en/coins/uniswap",arbitrum:"https://arbiscan.io/address/0xfa7f8980b0f1e64a2062791cc3b0871572f1f7f0"},USDC:{coingecko:"https://www.coingecko.com/en/coins/usd-coin",arbitrum:"https://arbiscan.io/address/0xff970a61a04b1ca14834a43f5de4533ebddb5cc8"},USDT:{coingecko:"https://www.coingecko.com/en/coins/tether",arbitrum:"https://arbiscan.io/address/0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"},DAI:{coingecko:"https://www.coingecko.com/en/coins/dai",arbitrum:"https://arbiscan.io/address/0xda10009cbd5d07dd0cecc66161fc93d7c9000da1"},MIM:{coingecko:"https://www.coingecko.com/en/coins/magic-internet-money",arbitrum:"https://arbiscan.io/address/0xfea7a6a0b346362bf88a9e4a88416b77a57d6c2a"},FRAX:{coingecko:"https://www.coingecko.com/en/coins/frax",arbitrum:"https://arbiscan.io/address/0x17fc002b466eec40dae837fc4be5c67993ddbd6f"}}),A()(z,y.Qz,{GMX:{coingecko:"https://www.coingecko.com/en/coins/gmx",avalanche:"https://snowtrace.io/address/0x62edc0692bd897d2295872a9ffcac5425011c661"},GLP:{avalanche:"https://snowtrace.io/address/0x9e295B5B976a184B14aD8cd72413aD846C299660",reserves:"https://portfolio.nansen.ai/dashboard/gmx?chain=AVAX"},AVAX:{coingecko:"https://www.coingecko.com/en/coins/avalanche"},ETH:{coingecko:"https://www.coingecko.com/en/coins/weth",avalanche:"https://snowtrace.io/address/0x49d5c2bdffac6ce2bfdb6640f4f80f226bc10bab"},WBTC:{coingecko:"https://www.coingecko.com/en/coins/wrapped-bitcoin",avalanche:"https://snowtrace.io/address/0x50b7545627a5162f82a992c33b87adc75187b218"},BTC:{coingecko:"https://www.coingecko.com/en/coins/bitcoin-avalanche-bridged-btc-b",avalanche:"https://snowtrace.io/address/0x152b9d0FdC40C096757F570A51E494bd4b943E50"},MIM:{coingecko:"https://www.coingecko.com/en/coins/magic-internet-money",avalanche:"https://snowtrace.io/address/0x130966628846bfd36ff31a822705796e8cb8c18d"},USDC:{coingecko:"https://www.coingecko.com/en/coins/usd-coin",avalanche:"https://snowtrace.io/address/0xb97ef9ef8734c71904d8002f8b6bc66dd9c48a6e"},"USDC.e":{coingecko:"https://www.coingecko.com/en/coins/usd-coin-avalanche-bridged-usdc-e",avalanche:"https://snowtrace.io/address/0xa7d7079b0fead91f3e65f86e8915cb59c1a4c664"}}),z),oe={ETH:"#6062a6",BTC:"#F7931A",WBTC:"#F7931A",USDC:"#2775CA","USDC.e":"#2A5ADA",USDT:"#67B18A",MIM:"#9695F8",FRAX:"#000",DAI:"#FAC044",UNI:"#E9167C",AVAX:"#E84142",LINK:"#3256D6"},d={},c={},s={},T={},g=[y.Fe,y.RR,y.Vr,y.PO,y.qF,y.Qz,y.vT],w=0;w<g.length;w++){var E=g[w];d[E]={},c[E]={};for(var U=ye[E],F=0;F<(U==null?void 0:U.length);F++){var h=U[F];d[E][h.address]=h,c[E][h.symbol]=h}}function e(O){return s[O]}function se(O){return T[O]}function H(O){return ye[O]}function L(O,_){if(!d[O])throw new Error("Incorrect chainId ".concat(O));return _ in d[O]}function ve(O,_){if(!d[O])throw new Error("Incorrect chainId ".concat(O));if(!d[O][_])throw new Error('Incorrect address "'.concat(_,'" for chainId ').concat(O));return d[O][_]}function ce(O,_){var Oe=c[O][_];if(!Oe)throw new Error('Incorrect symbol "'.concat(_,'" for chainId ').concat(O));return Oe}function Ee(O){return ye[O].filter(function(_){return _.symbol!=="USDG"})}function qe(O){return Ee(O).filter(function(_){return!_.isWrapped&&!_.isTempHidden})}},37432:function(De,te,i){i.d(te,{x:function(){return y}});var re=i(34713),A=i(63910),X=i(22837);function y(){var V=(0,re.Ge)(),S=V.chainId;if(!S){var C=localStorage.getItem(X.HC);C&&(S=parseInt(C),S||localStorage.removeItem(X.HC))}return(!S||!A.FQ.includes(S))&&(S=A.rC),{chainId:S}}},39265:function(De,te,i){i.d(te,{pQ:function(){return cn},sh:function(){return ce},VZ:function(){return on},FB:function(){return rn},YO:function(){return dn},cZ:function(){return ve},bD:function(){return se},Qo:function(){return sn},ET:function(){return mn},Sz:function(){return hn}});var re=i(861),A=i.n(re),X=i(27424),y=i.n(X),V=i(17061),S=i.n(V),C=i(17156),z=i.n(C),ie=i(34713),J=i(20238),ye=i(77294),B=i(59734),N=JSON.parse('{"Mt":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"orderIndex","type":"uint256"},{"indexed":false,"internalType":"address","name":"collateralToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"collateralDelta","type":"uint256"},{"indexed":false,"internalType":"address","name":"indexToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"indexed":false,"internalType":"bool","name":"isLong","type":"bool"},{"indexed":false,"internalType":"uint256","name":"triggerPrice","type":"uint256"},{"indexed":false,"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"indexed":false,"internalType":"uint256","name":"executionFee","type":"uint256"}],"name":"CancelDecreaseOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"orderIndex","type":"uint256"},{"indexed":false,"internalType":"address","name":"purchaseToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"purchaseTokenAmount","type":"uint256"},{"indexed":false,"internalType":"address","name":"collateralToken","type":"address"},{"indexed":false,"internalType":"address","name":"indexToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"indexed":false,"internalType":"bool","name":"isLong","type":"bool"},{"indexed":false,"internalType":"uint256","name":"triggerPrice","type":"uint256"},{"indexed":false,"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"indexed":false,"internalType":"uint256","name":"executionFee","type":"uint256"}],"name":"CancelIncreaseOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"orderIndex","type":"uint256"},{"indexed":false,"internalType":"address[]","name":"path","type":"address[]"},{"indexed":false,"internalType":"uint256","name":"amountIn","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"minOut","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"triggerRatio","type":"uint256"},{"indexed":false,"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"indexed":false,"internalType":"bool","name":"shouldUnwrap","type":"bool"},{"indexed":false,"internalType":"uint256","name":"executionFee","type":"uint256"}],"name":"CancelSwapOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"orderIndex","type":"uint256"},{"indexed":false,"internalType":"address","name":"collateralToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"collateralDelta","type":"uint256"},{"indexed":false,"internalType":"address","name":"indexToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"indexed":false,"internalType":"bool","name":"isLong","type":"bool"},{"indexed":false,"internalType":"uint256","name":"triggerPrice","type":"uint256"},{"indexed":false,"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"indexed":false,"internalType":"uint256","name":"executionFee","type":"uint256"}],"name":"CreateDecreaseOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"orderIndex","type":"uint256"},{"indexed":false,"internalType":"address","name":"purchaseToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"purchaseTokenAmount","type":"uint256"},{"indexed":false,"internalType":"address","name":"collateralToken","type":"address"},{"indexed":false,"internalType":"address","name":"indexToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"indexed":false,"internalType":"bool","name":"isLong","type":"bool"},{"indexed":false,"internalType":"uint256","name":"triggerPrice","type":"uint256"},{"indexed":false,"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"indexed":false,"internalType":"uint256","name":"executionFee","type":"uint256"}],"name":"CreateIncreaseOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"orderIndex","type":"uint256"},{"indexed":false,"internalType":"address[]","name":"path","type":"address[]"},{"indexed":false,"internalType":"uint256","name":"amountIn","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"minOut","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"triggerRatio","type":"uint256"},{"indexed":false,"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"indexed":false,"internalType":"bool","name":"shouldUnwrap","type":"bool"},{"indexed":false,"internalType":"uint256","name":"executionFee","type":"uint256"}],"name":"CreateSwapOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"orderIndex","type":"uint256"},{"indexed":false,"internalType":"address","name":"collateralToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"collateralDelta","type":"uint256"},{"indexed":false,"internalType":"address","name":"indexToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"indexed":false,"internalType":"bool","name":"isLong","type":"bool"},{"indexed":false,"internalType":"uint256","name":"triggerPrice","type":"uint256"},{"indexed":false,"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"indexed":false,"internalType":"uint256","name":"executionFee","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"executionPrice","type":"uint256"}],"name":"ExecuteDecreaseOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"orderIndex","type":"uint256"},{"indexed":false,"internalType":"address","name":"purchaseToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"purchaseTokenAmount","type":"uint256"},{"indexed":false,"internalType":"address","name":"collateralToken","type":"address"},{"indexed":false,"internalType":"address","name":"indexToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"indexed":false,"internalType":"bool","name":"isLong","type":"bool"},{"indexed":false,"internalType":"uint256","name":"triggerPrice","type":"uint256"},{"indexed":false,"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"indexed":false,"internalType":"uint256","name":"executionFee","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"executionPrice","type":"uint256"}],"name":"ExecuteIncreaseOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"orderIndex","type":"uint256"},{"indexed":false,"internalType":"address[]","name":"path","type":"address[]"},{"indexed":false,"internalType":"uint256","name":"amountIn","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"minOut","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amountOut","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"triggerRatio","type":"uint256"},{"indexed":false,"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"indexed":false,"internalType":"bool","name":"shouldUnwrap","type":"bool"},{"indexed":false,"internalType":"uint256","name":"executionFee","type":"uint256"}],"name":"ExecuteSwapOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"router","type":"address"},{"indexed":false,"internalType":"address","name":"vault","type":"address"},{"indexed":false,"internalType":"address","name":"weth","type":"address"},{"indexed":false,"internalType":"address","name":"usdg","type":"address"},{"indexed":false,"internalType":"uint256","name":"minExecutionFee","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"minPurchaseTokenAmountUsd","type":"uint256"}],"name":"Initialize","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"orderIndex","type":"uint256"},{"indexed":false,"internalType":"address","name":"collateralToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"collateralDelta","type":"uint256"},{"indexed":false,"internalType":"address","name":"indexToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"indexed":false,"internalType":"bool","name":"isLong","type":"bool"},{"indexed":false,"internalType":"uint256","name":"triggerPrice","type":"uint256"},{"indexed":false,"internalType":"bool","name":"triggerAboveThreshold","type":"bool"}],"name":"UpdateDecreaseOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"gov","type":"address"}],"name":"UpdateGov","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"orderIndex","type":"uint256"},{"indexed":false,"internalType":"address","name":"collateralToken","type":"address"},{"indexed":false,"internalType":"address","name":"indexToken","type":"address"},{"indexed":false,"internalType":"bool","name":"isLong","type":"bool"},{"indexed":false,"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"triggerPrice","type":"uint256"},{"indexed":false,"internalType":"bool","name":"triggerAboveThreshold","type":"bool"}],"name":"UpdateIncreaseOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"minExecutionFee","type":"uint256"}],"name":"UpdateMinExecutionFee","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"minPurchaseTokenAmountUsd","type":"uint256"}],"name":"UpdateMinPurchaseTokenAmountUsd","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"ordexIndex","type":"uint256"},{"indexed":false,"internalType":"address[]","name":"path","type":"address[]"},{"indexed":false,"internalType":"uint256","name":"amountIn","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"minOut","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"triggerRatio","type":"uint256"},{"indexed":false,"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"indexed":false,"internalType":"bool","name":"shouldUnwrap","type":"bool"},{"indexed":false,"internalType":"uint256","name":"executionFee","type":"uint256"}],"name":"UpdateSwapOrder","type":"event"},{"inputs":[],"name":"PRICE_PRECISION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"USDG_PRECISION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_orderIndex","type":"uint256"}],"name":"cancelDecreaseOrder","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_orderIndex","type":"uint256"}],"name":"cancelIncreaseOrder","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"_swapOrderIndexes","type":"uint256[]"},{"internalType":"uint256[]","name":"_increaseOrderIndexes","type":"uint256[]"},{"internalType":"uint256[]","name":"_decreaseOrderIndexes","type":"uint256[]"}],"name":"cancelMultiple","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_orderIndex","type":"uint256"}],"name":"cancelSwapOrder","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_indexToken","type":"address"},{"internalType":"uint256","name":"_sizeDelta","type":"uint256"},{"internalType":"address","name":"_collateralToken","type":"address"},{"internalType":"uint256","name":"_collateralDelta","type":"uint256"},{"internalType":"bool","name":"_isLong","type":"bool"},{"internalType":"uint256","name":"_triggerPrice","type":"uint256"},{"internalType":"bool","name":"_triggerAboveThreshold","type":"bool"}],"name":"createDecreaseOrder","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address[]","name":"_path","type":"address[]"},{"internalType":"uint256","name":"_amountIn","type":"uint256"},{"internalType":"address","name":"_indexToken","type":"address"},{"internalType":"uint256","name":"_minOut","type":"uint256"},{"internalType":"uint256","name":"_sizeDelta","type":"uint256"},{"internalType":"address","name":"_collateralToken","type":"address"},{"internalType":"bool","name":"_isLong","type":"bool"},{"internalType":"uint256","name":"_triggerPrice","type":"uint256"},{"internalType":"bool","name":"_triggerAboveThreshold","type":"bool"},{"internalType":"uint256","name":"_executionFee","type":"uint256"},{"internalType":"bool","name":"_shouldWrap","type":"bool"}],"name":"createIncreaseOrder","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address[]","name":"_path","type":"address[]"},{"internalType":"uint256","name":"_amountIn","type":"uint256"},{"internalType":"uint256","name":"_minOut","type":"uint256"},{"internalType":"uint256","name":"_triggerRatio","type":"uint256"},{"internalType":"bool","name":"_triggerAboveThreshold","type":"bool"},{"internalType":"uint256","name":"_executionFee","type":"uint256"},{"internalType":"bool","name":"_shouldWrap","type":"bool"},{"internalType":"bool","name":"_shouldUnwrap","type":"bool"}],"name":"createSwapOrder","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"decreaseOrders","outputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"address","name":"collateralToken","type":"address"},{"internalType":"uint256","name":"collateralDelta","type":"uint256"},{"internalType":"address","name":"indexToken","type":"address"},{"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"internalType":"bool","name":"isLong","type":"bool"},{"internalType":"uint256","name":"triggerPrice","type":"uint256"},{"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"internalType":"uint256","name":"executionFee","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"decreaseOrdersIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"},{"internalType":"uint256","name":"_orderIndex","type":"uint256"},{"internalType":"address payable","name":"_feeReceiver","type":"address"}],"name":"executeDecreaseOrder","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"},{"internalType":"uint256","name":"_orderIndex","type":"uint256"},{"internalType":"address payable","name":"_feeReceiver","type":"address"}],"name":"executeIncreaseOrder","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"uint256","name":"_orderIndex","type":"uint256"},{"internalType":"address payable","name":"_feeReceiver","type":"address"}],"name":"executeSwapOrder","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"uint256","name":"_orderIndex","type":"uint256"}],"name":"getDecreaseOrder","outputs":[{"internalType":"address","name":"collateralToken","type":"address"},{"internalType":"uint256","name":"collateralDelta","type":"uint256"},{"internalType":"address","name":"indexToken","type":"address"},{"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"internalType":"bool","name":"isLong","type":"bool"},{"internalType":"uint256","name":"triggerPrice","type":"uint256"},{"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"internalType":"uint256","name":"executionFee","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"uint256","name":"_orderIndex","type":"uint256"}],"name":"getIncreaseOrder","outputs":[{"internalType":"address","name":"purchaseToken","type":"address"},{"internalType":"uint256","name":"purchaseTokenAmount","type":"uint256"},{"internalType":"address","name":"collateralToken","type":"address"},{"internalType":"address","name":"indexToken","type":"address"},{"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"internalType":"bool","name":"isLong","type":"bool"},{"internalType":"uint256","name":"triggerPrice","type":"uint256"},{"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"internalType":"uint256","name":"executionFee","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"uint256","name":"_orderIndex","type":"uint256"}],"name":"getSwapOrder","outputs":[{"internalType":"address","name":"path0","type":"address"},{"internalType":"address","name":"path1","type":"address"},{"internalType":"address","name":"path2","type":"address"},{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"minOut","type":"uint256"},{"internalType":"uint256","name":"triggerRatio","type":"uint256"},{"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"internalType":"bool","name":"shouldUnwrap","type":"bool"},{"internalType":"uint256","name":"executionFee","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_otherToken","type":"address"}],"name":"getUsdgMinPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"gov","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"increaseOrders","outputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"address","name":"purchaseToken","type":"address"},{"internalType":"uint256","name":"purchaseTokenAmount","type":"uint256"},{"internalType":"address","name":"collateralToken","type":"address"},{"internalType":"address","name":"indexToken","type":"address"},{"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"internalType":"bool","name":"isLong","type":"bool"},{"internalType":"uint256","name":"triggerPrice","type":"uint256"},{"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"internalType":"uint256","name":"executionFee","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"increaseOrdersIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_router","type":"address"},{"internalType":"address","name":"_vault","type":"address"},{"internalType":"address","name":"_weth","type":"address"},{"internalType":"address","name":"_usdg","type":"address"},{"internalType":"uint256","name":"_minExecutionFee","type":"uint256"},{"internalType":"uint256","name":"_minPurchaseTokenAmountUsd","type":"uint256"}],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"isInitialized","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"minExecutionFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"minPurchaseTokenAmountUsd","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"router","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_gov","type":"address"}],"name":"setGov","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_minExecutionFee","type":"uint256"}],"name":"setMinExecutionFee","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_minPurchaseTokenAmountUsd","type":"uint256"}],"name":"setMinPurchaseTokenAmountUsd","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"swapOrders","outputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"minOut","type":"uint256"},{"internalType":"uint256","name":"triggerRatio","type":"uint256"},{"internalType":"bool","name":"triggerAboveThreshold","type":"bool"},{"internalType":"bool","name":"shouldUnwrap","type":"bool"},{"internalType":"uint256","name":"executionFee","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"swapOrdersIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_orderIndex","type":"uint256"},{"internalType":"uint256","name":"_collateralDelta","type":"uint256"},{"internalType":"uint256","name":"_sizeDelta","type":"uint256"},{"internalType":"uint256","name":"_triggerPrice","type":"uint256"},{"internalType":"bool","name":"_triggerAboveThreshold","type":"bool"}],"name":"updateDecreaseOrder","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_orderIndex","type":"uint256"},{"internalType":"uint256","name":"_sizeDelta","type":"uint256"},{"internalType":"uint256","name":"_triggerPrice","type":"uint256"},{"internalType":"bool","name":"_triggerAboveThreshold","type":"bool"}],"name":"updateIncreaseOrder","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_orderIndex","type":"uint256"},{"internalType":"uint256","name":"_minOut","type":"uint256"},{"internalType":"uint256","name":"_triggerRatio","type":"uint256"},{"internalType":"bool","name":"_triggerAboveThreshold","type":"bool"}],"name":"updateSwapOrder","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"usdg","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bool","name":"_triggerAboveThreshold","type":"bool"},{"internalType":"uint256","name":"_triggerPrice","type":"uint256"},{"internalType":"address","name":"_indexToken","type":"address"},{"internalType":"bool","name":"_maximizePrice","type":"bool"},{"internalType":"bool","name":"_raise","type":"bool"}],"name":"validatePositionOrderPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address[]","name":"_path","type":"address[]"},{"internalType":"uint256","name":"_triggerRatio","type":"uint256"}],"name":"validateSwapOrderPriceWithTriggerAboveThreshold","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"vault","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"weth","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"stateMutability":"payable","type":"receive"}]}'),oe=JSON.parse('{"Mt":[{"inputs":[{"internalType":"address payable","name":"_orderBookAddress","type":"address"},{"internalType":"address","name":"_account","type":"address"},{"internalType":"uint256[]","name":"_indices","type":"uint256[]"}],"name":"getDecreaseOrders","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"},{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address payable","name":"_orderBookAddress","type":"address"},{"internalType":"address","name":"_account","type":"address"},{"internalType":"uint256[]","name":"_indices","type":"uint256[]"}],"name":"getIncreaseOrders","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"},{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address payable","name":"_orderBookAddress","type":"address"},{"internalType":"address","name":"_account","type":"address"},{"internalType":"uint256[]","name":"_indices","type":"uint256[]"}],"name":"getSwapOrders","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"},{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"}]}'),d={},c=i(9138),s=i(63910),T=i(49524),g=i(47981),w=i(27350),E=i(1403),U=i(1031),F=i(72603),h=i(37432),e=i(24069),se=0,H=0,L=1e6,ve=100*1e4,ce="Increase",Ee="Decrease",qe="Stop",O="1.3",_=1,Oe=30,en=(0,e.Jl)(993,27),nn=5,$e=10,Sn=750,an=18,tn="Swap",rn="Long",sn="Short",I=1e4,We=30,wn="2000000000000000",dn="Market",on="Limit",ln=(0,e.Jl)(5,We),Re=(0,e.Jl)(1,30),un=50,Ne=(0,T.u)(s.Kj,"USDC"),An=(0,e.Jl)(200*1e3*1e3,18),Pn=25,cn={"5m":60*5,"15m":60*15,"1h":60*60,"4h":60*60*4,"1d":60*60*24},Ie=J.dE,pn=function(a){return function(t){return a===0?t:a>0?t.mul(expandDecimals(1,a)):t.div(expandDecimals(1,-a))}};function Dn(n){var a=n.size,t=n.sizeDelta,f=n.increaseSize,o=n.collateral,l=n.collateralDelta,r=n.increaseCollateral,b=n.entryFundingRate,v=n.cumulativeFundingRate,P=n.hasProfit,x=n.delta,u=n.includeDelta;if(!(!a&&!t)&&!(!o&&!l)){var p=a||bigNumberify(0);if(t)if(f)p=a.add(t);else{if(t.gte(a))return;p=a.sub(t)}var m=o||bigNumberify(0);if(l)if(r)m=o.add(l);else{if(l.gte(o))return;m=o.sub(l)}if(x&&u)if(P)m=m.add(x);else{if(x.gt(m))return;m=m.sub(x)}if(!m.eq(0)){if(m=t?m.mul(I-$e).div(I):m,b&&v){var M=a.mul(v.sub(b)).div(L);m=m.sub(M)}return p.mul(I).div(m)}}}function mn(n,a){return a?(0,s.jY)(n)+"address/"+a:(0,s.jY)(n)}function En(n){var a=n.delta,t=n.deltaPercentage,f=n.hasProfit,o,l;return a.gt(0)?(o=f?"+":"-",l=f?"+":"-"):(o="",l=""),o+="$".concat(formatAmount(a,We,2,!0)),l+="".concat(formatAmount(t,2,2),"%"),{deltaStr:o,deltaPercentageStr:l}}function On(n,a,t,f){return ethers.utils.solidityKeccak256(["address","address","address","bool"],[n,a,t,f])}function yn(n,a,t){return n.mul(expandDecimals(1,t)).div(expandDecimals(1,a))}function In(n,a,t){var f=a.size,o=a.collateral,l=a.isLong,r=a.averagePrice,b=a.lastIncreasedTime,v=n;t||(t=f),v||(v=bigNumberify(0));var P=r.gt(v)?r.sub(v):v.sub(r),x=t.mul(P).div(r),u=x,p=b+se<Date.now()/1e3,m=l?v.gt(r):v.lt(r);!p&&m&&x.mul(I).lte(f.mul(H))&&(x=bigNumberify(0));var M=x.mul(I).div(o),D=u.mul(I).div(o);return{delta:x,pendingDelta:u,pendingDeltaPercentage:D,hasProfit:m,deltaPercentage:M}}function Mn(n,a,t,f,o){var l=a===Ie?o:a,r=t===Ie?o:t;return n+":"+l+":"+r+":"+f}function fn(n,a,t){if(!(!n||!n.weight||!a))return a.eq(0)?bigNumberify(0):n.weight.mul(a).div(t)}function je(n,a,t,f,o,l,r){if(!n||!n.usdgAmount||!l||!r)return 0;var b=bigNumberify(t),v=bigNumberify(f),P=n.usdgAmount,x=P.add(a);o||(x=a.gt(P)?bigNumberify(0):P.sub(a));var u=fn(n,l,r);if(!u||u.eq(0))return b.toNumber();var p=P.gt(u)?P.sub(u):u.sub(P),m=x.gt(u)?x.sub(u):u.sub(x);if(m.lt(p)){var M=v.mul(p).div(u);return M.gt(b)?0:b.sub(M).toNumber()}var D=p.add(m).div(2);D.gt(u)&&(D=u);var Y=v.mul(D).div(u);return b.add(Y).toNumber()}function Me(n){return n?_:Oe}function Un(n,a,t,f,o,l,r,b,v,P){var x={amount:bigNumberify(0)};if(!a||!t||!f||!o)return x;if(t===f)return{amount:a};var u=getTokenInfo(o,t),p=getTokenInfo(o,f);if(u.isNative&&p.isWrapped)return{amount:a};if(u.isWrapped&&p.isNative)return{amount:a};var m;u&&(m=P?u.contractMinPrice:u.minPrice);var M;if(p&&(M=P?p.contractMaxPrice:p.maxPrice),!m||!M)return x;var D=pn(p.decimals-u.decimals),Y=bigNumberify(0);if(r&&!r.isZero()&&(Y=a.mul(Re).div(r)),f===Ne){var ne=Me(Boolean(u.isStable));if(r&&!r.isZero()){var fe=Y;return{amount:D(fe.mul(I-ne).div(I)),feeBasisPoints:ne}}var $=a.mul(m).div(Re);return{amount:D($.mul(I-ne).div(I)),feeBasisPoints:ne}}if(t===Ne){var Z,ge=(Z=p.redemptionAmount)===null||Z===void 0?void 0:Z.mul(l||M).div(expandDecimals(1,p.decimals));if(ge&&ge.gt(en)){var le=Me(Boolean(p.isStable)),we=r&&!r.isZero()?Y:a.mul(p.redemptionAmount).div(expandDecimals(1,p.decimals));return{amount:D(we.mul(I-le).div(I)),feeBasisPoints:le}}var R=a,ae=getMostAbundantStableToken(n,o);if(!(ae!=null&&ae.availableAmount)||ae.availableAmount.lt(R)){var Fe=r&&!r.isZero()?Y:a.mul(p.redemptionAmount).div(expandDecimals(1,p.decimals)),Ue=Me(Boolean(p.isStable));return{amount:D(Fe.mul(I-Ue).div(I)),feeBasisPoints:Ue}}var Te=Me(!0),pe=Me(!1);if(r&&!r.isZero()){var Le=Y.mul(I-Te-pe).div(I);return{amount:D(Le),path:[Ne,ae.address,p.address],feeBasisPoints:Te+pe}}var de=a.mul(Re).div(ae.maxPrice);return de=de.mul(I-Te).div(I),de=de.mul(ae.minPrice).div(l||M),de=de.mul(I-pe).div(I),{amount:D(de),path:[Ne,ae.address,p.address],feeBasisPoints:Te+pe}}var _e=r&&!r.isZero()?Y:a.mul(m).div(l||M),me=a.mul(m).div(Re);me=yn(me,u.decimals,an);var Ce=u.isStable&&p.isStable?_:Oe,Ae=u.isStable&&p.isStable?nn:un,he=je(u,me,Ce,Ae,!0,b,v),xe=je(p,me,Ce,Ae,!1,b,v),Be=he>xe?he:xe;return{amount:D(_e.mul(I-Be).div(I)),feeBasisPoints:Be}}function Cn(n){return n===ethers.constants.AddressZero}function Bn(n){return n===ethers.constants.HashZero}function Rn(n,a,t,f){var o=getContract(t,"PositionRouter"),l=getContract(t,"NATIVE_TOKEN"),r=useSWR([a,t,o,"minExecutionFee"],{fetcher:contractFetcher(n,PositionRouter)}),b=r.data,v=useSWR(["gasPrice",t],{fetcher:function(){return new Promise(function(){var ne=_asyncToGenerator(_regeneratorRuntime().mark(function fe($,Z){var ge,le;return _regeneratorRuntime().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(ge=getProvider(n,t),ge){R.next=4;break}return $(void 0),R.abrupt("return");case 4:return R.prev=4,R.next=7,ge.getGasPrice();case 7:le=R.sent,$(le),R.next=14;break;case 11:R.prev=11,R.t0=R.catch(4),console.error(R.t0);case 14:case"end":return R.stop()}},fe,null,[[4,11]])}));return function(fe,$){return ne.apply(this,arguments)}}())}}),P=v.data,x;(t===ARBITRUM||t===ARBITRUM_TESTNET)&&(x=65e3),t===AVALANCHE?x=7e5:x=65e3;var u=b;if(P&&b){var p=P.mul(x);p.gt(b)&&(u=p)}var m=getUsd(u,l,!1,f),M=m==null?void 0:m.gt(expandDecimals(getHighExecutionFee(t),We)),D=M?'The network cost to send transactions is high at the moment, please check the "Execution Fee" value before proceeding.':"";return{minExecutionFee:u,minExecutionFeeUSD:m,minExecutionFeeErrorMessage:D}}function gn(n){if(!n)return bigNumberify(0);var a=n.mul(I-$e).div(I);return n.sub(a)}function Ze(n){var a=n.liquidationAmount,t=n.size,f=n.collateral,o=n.averagePrice,l=n.isLong;if(!(!t||t.eq(0))){if(a.gt(f)){var r=a.sub(f),b=r.mul(o).div(t);return l?o.add(b):o.sub(b)}var v=f.sub(a),P=v.mul(o).div(t);return l?o.sub(P):o.add(P)}}function ke(n,a,t,f,o,l){if(!n||n.length===0)return[];for(var r=y()(n,2),b=r[0],v=r[1],P=b.length/o,x=[],u=0;u<P;u++){var p=v.slice(l*u,l*(u+1)).concat(b.slice(o*u,o*(u+1)));if(!(p[0]===Ie&&p[1]===Ie)){var m=f(p);m.index=t[u],m.account=a,x.push(m)}}return x}function bn(n,a,t,f){if(!a||!a.length)return[];var o=function(r){var b=r[6].toString()==="1",v=r[7].toString()==="1";return{path:[r[0],r[1],r[2]].filter(function(P){return P!==Ie}),amountIn:r[3],minOut:r[4],triggerRatio:r[5],triggerAboveThreshold:b,type:tn,shouldUnwrap:v}};return ke(a,t,f,o,5,3).filter(function(l){return l.path.every(function(r){return(0,g.wu)(n,r)})})}function vn(n,a,t,f){var o=function(r){var b=r[5].toString()==="1";return{purchaseToken:r[0],collateralToken:r[1],indexToken:r[2],purchaseTokenAmount:r[3],sizeDelta:r[4],isLong:b,triggerPrice:r[6],triggerAboveThreshold:r[7].toString()==="1",type:ce}};return ke(a,t,f,o,5,3).filter(function(l){return(0,g.wu)(n,l.purchaseToken)&&(0,g.wu)(n,l.collateralToken)&&(0,g.wu)(n,l.indexToken)})}function Tn(n,a,t,f){var o=function(r){var b=r[4].toString()==="1";return{collateralToken:r[0],indexToken:r[1],collateralDelta:r[2],sizeDelta:r[3],isLong:b,triggerPrice:r[5],triggerAboveThreshold:r[6].toString()==="1",type:Ee}};return ke(a,t,f,o,5,2).filter(function(l){return(0,g.wu)(n,l.collateralToken)&&(0,g.wu)(n,l.indexToken)})}function hn(n,a){var t=(0,ie.Ge)(),f=t.library,o=t.account,l=!0,r=a||o,b=(0,h.x)(),v=b.chainId,P=l&&r&&n,x=(0,T.u)(v,"OrderBook"),u=(0,T.u)(v,"OrderBook"),p=P?[l,v,x,r]:!1,m=(0,B.ZP)(p||[],{dedupingInterval:5e3,fetcher:function(){var fe=z()(S()().mark(function Z(ge,le,we,R){var ae,Fe,Ue,Te,pe,Le,de,_e,me,Ce,Ae,he,xe,Be,Ge,Ke,Qe,Ve,Je,Xe,Ye;return S()().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return ae=(0,E.VH)(f,le),Fe=new ye.Contract(we,N.Mt,ae),Ue=new ye.Contract(u,oe.Mt,ae),Te=function(){var G="".concat((0,c.wA)(le),"/orders_indices?account=").concat(R);return fetch(G).then(function(){var W=z()(S()().mark(function k(j){var Q,K,ue,ee,ze;return S()().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:return Pe.next=2,j.json();case 2:for(Q=Pe.sent,K={},ue=0,ee=Object.keys(Q);ue<ee.length;ue++)ze=ee[ue],K[ze.toLowerCase()]=Q[ze].map(function(He){return parseInt(He.value)}).sort(function(He,xn){return He-xn});return Pe.abrupt("return",K);case 6:case"end":return Pe.stop()}},k)}));return function(k){return W.apply(this,arguments)}}()).catch(function(){return{swap:[],increase:[],decrease:[]}})},pe=function(){var be=z()(S()().mark(function G(W){var k,j;return S()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return k=W.toLowerCase()+"OrdersIndex",K.next=3,Fe[k](R).then(function(ue){return(0,e._b)(ue._hex).toNumber()});case 3:return j=K.sent,K.abrupt("return",j);case 5:case"end":return K.stop()}},G)}));return function(W){return be.apply(this,arguments)}}(),Le=function(){var be=z()(S()().mark(function G(){var W,k,j,Q,K;return S()().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return ee.next=2,Promise.all([pe("swap"),pe("increase"),pe("decrease")]);case 2:return W=ee.sent,k=y()(W,3),j=k[0],Q=k[1],K=k[2],ee.abrupt("return",{swap:j,increase:Q,decrease:K});case 8:case"end":return ee.stop()}},G)}));return function(){return be.apply(this,arguments)}}(),de=function(G,W){var k=10,j=[];W=W||Math.max(G-k,0);for(var Q=G-1;Q>=W;Q--)j.push(Q);return j},_e=function(G,W){return G.length===0?de(W):[].concat(A()(G),A()(de(W,G[G.length-1]+1).sort(function(k,j){return j-k})))},me=function(){var be=z()(S()().mark(function G(W,k,j,Q){var K,ue,ee;return S()().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return K=_e(k,j),Se.next=3,Ue[W](we,R,K);case 3:return ue=Se.sent,ee=Q(le,ue,R,K),Se.abrupt("return",ee);case 6:case"end":return Se.stop()}},G)}));return function(W,k,j,Q){return be.apply(this,arguments)}}(),q.prev=9,q.next=12,Promise.all([Te(),Le()]);case 12:return Ce=q.sent,Ae=y()(Ce,2),he=Ae[0],xe=Ae[1],q.next=18,Promise.all([me("getSwapOrders",he.swap,xe.swap,bn),me("getIncreaseOrders",he.increase,xe.increase,vn),me("getDecreaseOrders",he.decrease,xe.decrease,Tn)]);case 18:return Be=q.sent,Ge=y()(Be,3),Ke=Ge[0],Qe=Ke===void 0?[]:Ke,Ve=Ge[1],Je=Ve===void 0?[]:Ve,Xe=Ge[2],Ye=Xe===void 0?[]:Xe,q.abrupt("return",[].concat(A()(Qe),A()(Je),A()(Ye)));case 29:q.prev=29,q.t0=q.catch(9),console.error(q.t0);case 32:case"end":return q.stop()}},Z,null,[[9,29]])}));function $(Z,ge,le,we){return fe.apply(this,arguments)}return $}()}),M=m.data,D=M===void 0?[]:M,Y=m.mutate,ne=m.error;return[D,Y,ne]}function Nn(n){var a=n.isLong,t=n.size,f=n.collateral,o=n.averagePrice,l=n.entryFundingRate,r=n.cumulativeFundingRate,b=n.sizeDelta,v=n.collateralDelta,P=n.increaseCollateral,x=n.increaseSize,u=n.delta,p=n.hasProfit,m=n.includeDelta;if(!(!t||!f||!o)){var M=t||bigNumberify(0),D=f;if(b){if(x)M=t.add(b);else{if(b.gte(t))return;M=t.sub(b)}if(m&&!p){var Y=b.mul(u).div(t);D=D.sub(Y)}}if(v)if(P)D=D.add(v);else{if(v.gte(D))return;D=D.sub(v)}var ne=gn(t).add(ln);if(l&&r){var fe=t.mul(r.sub(l)).div(L);ne=ne.add(fe)}var $=Ze({liquidationAmount:ne,size:M,collateral:D,averagePrice:o,isLong:a}),Z=Ze({liquidationAmount:M.mul(I).div(ve),size:M,collateral:D,averagePrice:o,isLong:a});return $?Z?a?$.gt(Z)?$:Z:$.lt(Z)?$:Z:$:Z}}function Fn(){var n=getServerUrl(ARBITRUM,"/ui_version"),a=useSWR([n],{fetcher:function(){return fetch.apply(void 0,arguments).then(function(r){return r.text()})}}),t=a.data,f=a.mutate,o=!1;return t&&parseFloat(t)>parseFloat(O)&&(o=!0),o=!1,{data:o,mutate:f}}},1031:function(De,te,i){i.d(te,{z3:function(){return re.z3}});var re=i(72603),A=i(59734),X={},y=i(9138),V=i(49524),S=i(47981),C=i(27350),z=i(39265);function ie(B,N,oe){if(N){var d=B.isNative?oe:B.address,c=N[d];if(c){var s=bigNumberify(c);if(!s.eq(0)){var T=B.maxPrice.sub(B.minPrice),g=T.mul(BASIS_POINTS_DIVISOR).div(B.maxPrice.add(B.minPrice).div(2));if(g.gt(MAX_PRICE_DEVIATION_BASIS_POINTS-50)){s.gt(B.minPrimaryPrice)?B.maxPrice=s:B.minPrice=s;return}var w=g.div(2).toNumber();B.maxPrice=s.mul(BASIS_POINTS_DIVISOR+w).div(BASIS_POINTS_DIVISOR),B.minPrice=s.mul(BASIS_POINTS_DIVISOR-w).div(BASIS_POINTS_DIVISOR)}}}}function J(B,N,oe,d,c,s,T,g){s||(s=15);for(var w=2,E={},U=0;U<B.length;U++){var F=JSON.parse(JSON.stringify(B[U]));N&&(F.balance=N[U]),F.address===USDG_ADDRESS&&(F.minPrice=expandDecimals(1,USD_DECIMALS),F.maxPrice=expandDecimals(1,USD_DECIMALS)),E[F.address]=F}for(var h=0;h<oe.length;h++){var e=JSON.parse(JSON.stringify(oe[h]));if(d){if(e.poolAmount=d[h*s],e.reservedAmount=d[h*s+1],e.availableAmount=e.poolAmount.sub(e.reservedAmount),e.usdgAmount=d[h*s+2],e.redemptionAmount=d[h*s+3],e.weight=d[h*s+4],e.bufferAmount=d[h*s+5],e.maxUsdgAmount=d[h*s+6],e.globalShortSize=d[h*s+7],e.maxGlobalShortSize=d[h*s+8],e.maxGlobalLongSize=d[h*s+9],e.minPrice=d[h*s+10],e.maxPrice=d[h*s+11],e.guaranteedUsd=d[h*s+12],e.maxPrimaryPrice=d[h*s+13],e.minPrimaryPrice=d[h*s+14],e.contractMinPrice=e.minPrice,e.contractMaxPrice=e.maxPrice,e.maxAvailableShort=bigNumberify(0),e.hasMaxAvailableShort=!1,e.maxGlobalShortSize.gt(0)&&(e.hasMaxAvailableShort=!0,e.maxGlobalShortSize.gt(e.globalShortSize)&&(e.maxAvailableShort=e.maxGlobalShortSize.sub(e.globalShortSize))),e.maxUsdgAmount.eq(0)&&(e.maxUsdgAmount=DEFAULT_MAX_USDG_AMOUNT),e.availableUsd=e.isStable?e.poolAmount.mul(e.minPrice).div(expandDecimals(1,e.decimals)):e.availableAmount.mul(e.minPrice).div(expandDecimals(1,e.decimals)),e.maxAvailableLong=bigNumberify(0),e.hasMaxAvailableLong=!1,e.maxGlobalLongSize.gt(0)){if(e.hasMaxAvailableLong=!0,e.maxGlobalLongSize.gt(e.guaranteedUsd)){var se=e.maxGlobalLongSize.sub(e.guaranteedUsd);e.maxAvailableLong=se.lt(e.availableUsd)?se:e.availableUsd}}else e.maxAvailableLong=e.availableUsd;e.maxLongCapacity=e.maxGlobalLongSize.gt(0)&&e.maxGlobalLongSize.lt(e.availableUsd.add(e.guaranteedUsd))?e.maxGlobalLongSize:e.availableUsd.add(e.guaranteedUsd),e.managedUsd=e.availableUsd.add(e.guaranteedUsd),e.managedAmount=e.managedUsd.mul(expandDecimals(1,e.decimals)).div(e.minPrice),ie(e,T,g)}c&&(e.fundingRate=c[h*w],e.cumulativeFundingRate=c[h*w+1]),E[e.address]&&(e.balance=E[e.address].balance),E[e.address]=e}return E}function ye(B,N,oe,d,c,s){var T=getTokens(N),g=getContract(N,"VaultReader"),w=getContract(N,"Vault"),E=getContract(N,"PositionRouter"),U=getContract(N,"NATIVE_TOKEN"),F=getWhitelistedTokens(N),h=F.map(function(ce){return ce.address}),e=useSWR(["useInfoTokens:".concat(oe),N,g,"getVaultTokenInfoV4"],{fetcher:contractFetcher(B,VaultReader,[w,E,U,expandDecimals(1,18),h])}),se=e.data,H=getServerUrl(N,"/prices"),L=useSWR([H],{fetcher:function(){return fetch.apply(void 0,arguments).then(function(Ee){return Ee.json()})},refreshInterval:500,refreshWhenHidden:!0}),ve=L.data;return{infoTokens:J(T,d,F,se,c,s,ve,U)}}},72603:function(De,te,i){i.d(te,{z3:function(){return C}});var re=i(20238),A=i(63910),X=i(47981),y=i(39265),V=re.dE;function S(d,c){return c?getExplorerUrl(d)+"token/"+c:getExplorerUrl(d)}function C(d,c,s,T){return s&&c===T?d[V]:d[c||V]}function z(d,c,s,T,g){if(T&&T!==MARKET&&g)return g;if(s&&!(c&&!s.maxPrice)&&!(!c&&!s.minPrice))return c?s.maxPrice:s.minPrice}function ie(d,c,s,T,g,w){if(d){if(c===USDG_ADDRESS)return d.mul(PRECISION).div(expandDecimals(1,18));var E=C(T,c),U=z(c,s,E,g,w);if(U)return d.mul(U).div(expandDecimals(1,E.decimals))}}function J(d,c,s){var T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(s){if(c===USDG_ADDRESS)return s.mul(expandDecimals(1,18)).div(PRECISION);var g=C(d,c);if(g){var w=T.overridePrice||(T.max?g.maxPrice:g.minPrice);if(!(!BigNumber.isBigNumber(w)||w.lte(0)))return s.mul(expandDecimals(1,g.decimals)).div(w)}}}function ye(d,c,s,T,g,w,E,U){if(!(!d||!c||!w||!s||!T||!g||!U)){var F=getVisibleTokens(d),h=c.mul(s).div(PRECISION),e=F.map(function(H){var L=C(w,H.address),ve=getFeeBasisPoints(L,h,MINT_BURN_FEE_BASIS_POINTS,TAX_BASIS_POINTS,!0,T,g),ce=bigNumberify(0);return L.maxUsdgAmount&&L.maxUsdgAmount.gt(0)&&L.usdgAmount&&L.usdgAmount.gt(0)&&(ce=L.maxUsdgAmount.sub(L.usdgAmount).mul(expandDecimals(1,USD_DECIMALS)).div(expandDecimals(1,USDG_DECIMALS))),{token:H,fees:ve,amountLeftToDeposit:ce}}),se=e.filter(function(H){return H.token.address!==E&&H.hasOwnProperty("fees")&&U.lt(H.amountLeftToDeposit)}).sort(function(H,L){return H.fees-L.fees});return se.length>0?se[0]:e.sort(function(H,L){return Number(L.amountLeftToDeposit.sub(H.amountLeftToDeposit))})[0]}}function B(d,c){for(var s=getWhitelistedTokens(d),T,g=s.find(function(F){return F.isStable}),w=0;w<s.length;w++){var E=C(c,s[w].address);if(!(!E.isStable||!E.availableAmount)){var U=adjustForDecimals(E.availableAmount,E.decimals,USD_DECIMALS);(!T||U.gt(T))&&(T=U,g=E)}}return g}function N(d,c){return!c||d.address!==V||!d.balance?!1:!!(c.gte(d.balance)||d.balance.sub(c).lt(DUST_BNB))}var oe=function(c,s){if(c){for(var T=[],g=0;g<c.length;g++){var w=c[g];w===V&&(w=s),T.push(w)}return T}}}}]);
