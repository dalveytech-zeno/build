"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[504],{69499:function(rr,z,l){l.d(z,{Z:function(){return n}});var E=l(11355),C=l(82546),N=l(62435),O=Object.defineProperty,L=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable,H=(r,a,e)=>a in r?O(r,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[a]=e,F=(r,a)=>{for(var e in a||(a={}))x.call(a,e)&&H(r,e,a[e]);if(L)for(var e of L(a))V.call(a,e)&&H(r,e,a[e]);return r};const U=r=>N.createElement("svg",F({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),N.createElement("rect",{width:32,height:32,rx:16,fill:"#232538"}),N.createElement("path",{d:"m12 12 4 4m0 0 4-4m-4 4-4 4m4-4 4 4",stroke:"#9597B5",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));var q="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iMTYiIGZpbGw9IiMyMzI1MzgiLz48cGF0aCBkPSJtMTIgMTIgNCA0bTAgMCA0LTRtLTQgNC00IDRtNC00IDQgNCIgc3Ryb2tlPSIjOTU5N0I1IiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjwvc3ZnPg==",T=l(86074),B=function(a){var e=a.visible,f=a.title,h=a.width,j=a.onClose,J=a.children,$=a.className;return(0,T.jsx)(E.u,{appear:!0,show:e,as:N.Fragment,children:(0,T.jsxs)(C.V,{open:e,onClose:j,className:"dialog",children:[(0,T.jsx)(E.u.Child,{as:N.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,T.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25 opacity-100"})}),(0,T.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,T.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,T.jsx)(E.u.Child,{as:N.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,T.jsxs)(C.V.Panel,{className:"dialog-panel transform overflow-hidden shadow-xl transition-all ".concat($!=null?$:""),style:{width:h},children:[f&&(0,T.jsxs)(C.V.Title,{className:"dialog-title",children:[(0,T.jsxs)("span",{children:[f," "]}),(0,T.jsx)(U,{onClick:function(){j()}})]}),J]})})})})]})})},n=B},27350:function(rr,z,l){l.d(z,{HV:function(){return vr}});var E=l(17061),C=l.n(E),N=l(27424),O=l.n(N),L=l(861),x=l.n(L),V=l(18698),H=l.n(V),F=l(17156),U=l.n(F),q=l(94184),T=l.n(q),B=l(62435),n=l(86074);function r(o){var d=o.href,u=o.children,v=o.className,c=T()("link-underline",v);return(0,n.jsx)("a",{href:d,className:c,target:"_blank",rel:"noopener noreferrer",children:u})}var a=r;function e(o){var d=(0,B.useState)(!1),u=O()(d,2),v=u[0],c=u[1];return(0,n.jsxs)("div",{className:"Toastify-debug",children:[(0,n.jsx)("span",{className:"Toastify-debug-button",onClick:function(){return c(function(m){return!m})},children:v?"Hide error":"Show error"}),v&&(0,n.jsx)("div",{className:"Toastify-debug-content",children:o.children})]})}var f=l(63910),h=l(24069);function j(o,d,u){return J.apply(this,arguments)}function J(){return J=U()(C()().mark(function o(d,u,v){var c,i,m,g;return C()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c=f.qd[v],i=f.xW[v]||(0,h._b)(0),t.prev=2,t.next=5,u.getFeeData();case 5:t.next=9;break;case 7:t.prev=7,t.t0=t.catch(2);case 9:return t.next=11,u.getGasPrice();case 11:if(m=t.sent,!c){t.next=21;break}return m.gt(c)&&(c=m),t.next=16,u.getFeeData();case 16:if(g=t.sent,!(g&&g.maxPriorityFeePerGas)){t.next=21;break}return d.maxFeePerGas=c,d.maxPriorityFeePerGas=g.maxPriorityFeePerGas.add(i),t.abrupt("return");case 21:return d.gasPrice=m.add(i),t.abrupt("return");case 23:case"end":return t.stop()}},o,null,[[2,7]])})),J.apply(this,arguments)}function $(o,d){return Y.apply(this,arguments)}function Y(){return Y=U()(C()().mark(function o(d,u){var v,c,i,m,g,p,t=arguments;return C()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return c=t.length>2&&t[2]!==void 0?t[2]:[],i=t.length>3?t[3]:void 0,m=(0,h._b)(0),g=i,g||(g=m),y.next=7,(v=d.estimateGas)[u].apply(v,x()(c).concat([{value:g}]));case 7:return p=y.sent,p.lt(22e3)&&(p=(0,h._b)(22e3)),y.abrupt("return",p.mul(11e3).div(1e4));case 10:case"end":return y.stop()}},o)})),Y.apply(this,arguments)}var or=l(16330),er=l(71874),ur=l(74704),cr=l.n(ur),dr=l(38416),K=l.n(dr),M,ar="NOT_ENOUGH_FUNDS",nr="USER_DENIED",tr="SLIPPAGE",sr="RPC_ERROR",ir="NETWORK_CHANGED",fr=(M={},K()(M,ar,[{msg:"not enough funds for gas"},{msg:"failed to execute call with revert code InsufficientGasFunds"}]),K()(M,nr,[{msg:"User denied transaction signature"}]),K()(M,tr,[{msg:"Router: mark price lower than limit"},{msg:"Router: mark price higher than limit"}]),K()(M,ir,[{msg:"underlying network changed"}]),K()(M,sr,[{code:-32005},{msg:"Non-200 status code"},{msg:"Request limit exceeded"},{msg:"Internal JSON-RPC error"},{msg:"Response has no error or result"},{msg:"we can't execute this request"},{msg:"couldn't connect to the network"}]),M);function mr(o){var d;if(!o)return[];var u=((d=o.data)===null||d===void 0?void 0:d.message)||o.message,v=o.code;if(!u&&!v)return[];for(var c=0,i=Object.entries(fr);c<i.length;c++){var m=O()(i[c],2),g=m[0],p=m[1],t=cr()(p),I;try{for(t.s();!(I=t.n()).done;){var y=I.value,Z=y.code&&v===y.code,b=y.msg&&u&&u.includes(y.msg);if(Z||b)return[u,g,o.data]}}catch(S){t.e(S)}finally{t.f()}}return[u,null,o.data]}function vr(o,d,u,v,c){return _.apply(this,arguments)}function _(){return _=U()(C()().mark(function o(d,u,v,c,i){var m,g,p,t,I,y,Z,b,S,W,k,w,G,P,R;return C()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,!Array.isArray(c)&&H()(c)==="object"&&i===void 0&&(i=c,c=[]),i||(i={}),g={},i.value&&(g.value=i.value),!i.gasLimit){s.next=9;break}s.t0=i.gasLimit,s.next=12;break;case 9:return s.next=11,$(u,v,c,g.value);case 11:s.t0=s.sent;case 12:return g.gasLimit=s.t0,s.next=15,j(g,u.provider,d);case 15:return v==="increaseTrade"&&console.log("[increaseTrade]",c),s.next=18,u[v].apply(u,x()(c).concat([g]));case 18:return p=s.sent,t=(0,f.jY)(d)+"tx/"+p.hash,I=i.sentMsg||"Transaction sent.",er.U.success((0,n.jsxs)("div",{children:[I," ",(0,n.jsx)(a,{href:t}),(0,n.jsx)("br",{})]})),i.setPendingTxns&&(y=i.hideSuccessMsg?void 0:i.successMsg||"Transaction completed!",Z={hash:p.hash,message:y},i.setPendingTxns(function(A){return[].concat(x()(A),[Z])})),s.abrupt("return",p);case 26:s.prev=26,s.t1=s.catch(0),S=5e3,W=mr(s.t1),k=O()(W,3),w=k[0],G=k[1],P=k[2],s.t2=G,s.next=s.t2===ar?33:s.t2===ir?35:s.t2===nr?37:s.t2===tr?39:s.t2===sr?41:45;break;case 33:return b=(0,n.jsxs)("div",{children:["There is not enough ETH in your account on Arbitrum to send this transaction.",(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)(a,{href:"https://arbitrum.io/bridge-tutorial/",children:"Bridge ETH to Arbitrum"})]}),s.abrupt("break",47);case 35:return b=(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:["Your wallet is not connected to ",(0,f.qz)(d),"."]}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{className:"clickable underline",onClick:function(){return(0,or.If)(d,!0)},children:["Switch to ",(0,f.qz)(d)]})]}),s.abrupt("break",47);case 37:return b="Transaction was cancelled.",s.abrupt("break",47);case 39:return b='The mark price has changed, consider increasing your Allowed Slippage by clicking on the "..." icon next to your address.',s.abrupt("break",47);case 41:return S=!1,R=(P==null||(m=P.error)===null||m===void 0?void 0:m.message)||(P==null?void 0:P.message)||w,b=(0,n.jsxs)("div",{children:["Transaction failed due to RPC error.",(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),"Please try changing the RPC url in your wallet settings."," ",(0,n.jsx)(a,{href:"https://gmxio.gitbook.io/gmx/trading#backup-rpc-urls",children:"More info"}),(0,n.jsx)("br",{}),R&&(0,n.jsx)(e,{children:R})]}),s.abrupt("break",47);case 45:S=!1,b=(0,n.jsxs)("div",{children:[i.failMsg||"Transaction failed",(0,n.jsx)("br",{}),w&&(0,n.jsx)(e,{children:w})]});case 47:throw er.U.error(b,{autoClose:S}),s.t1;case 49:case"end":return s.stop()}},o,null,[[0,26]])})),_.apply(this,arguments)}var gr=l(1403);function lr(o){var d=o.provider,u=o.contractInfo,v=o.arg0,c=o.arg1,i=o.method,m=o.params,g=o.additionalArgs;if(ethers.utils.isAddress(v)){var p=v,t=new ethers.Contract(p,u.abi,d);return g?t[i].apply(t,_toConsumableArray(m.concat(g))):t[i].apply(t,_toConsumableArray(m))}if(d)return d[i].apply(d,[c].concat(_toConsumableArray(m)))}var hr=function(d,u,v){return function(){for(var c=arguments.length,i=new Array(c),m=0;m<c;m++)i[m]=arguments[m];var g=i[0],p=i[1],t=i[2],I=i[3],y=i.slice(4),Z=getProvider(d,p),b=ethers.utils.isAddress(t)?I:t,S=lr({provider:Z,contractInfo:u,arg0:t,arg1:I,method:b,params:y,additionalArgs:v}),W=!0,k=function(){var w=_asyncToGenerator(_regeneratorRuntime().mark(function G(P,R,Q){var s,A;return _regeneratorRuntime().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(W){D.next=2;break}return D.abrupt("return");case 2:if(W=!1,s=getFallbackProvider(p),s){D.next=7;break}return R(Q),D.abrupt("return");case 7:console.info("using fallbackProvider for",b),A=lr({provider:s,contractInfo:u,arg0:t,arg1:I,method:b,params:y,additionalArgs:v}),A.then(function(X){return P(X)}).catch(function(X){console.error("fallback fetcher error",g,u.contractName,b,X),R(X)});case 10:case"end":return D.stop()}},G)}));return function(P,R,Q){return w.apply(this,arguments)}}();return new Promise(function(){var w=_asyncToGenerator(_regeneratorRuntime().mark(function G(P,R){return _regeneratorRuntime().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:S.then(function(A){W=!1,P(A)}).catch(function(A){console.error("fetcher error",g,u.contractName,b,A),k(P,R,A)}),setTimeout(function(){k(P,R,"contractCall timeout")},2e3);case 2:case"end":return s.stop()}},G)}));return function(G,P){return w.apply(this,arguments)}}())}}},24069:function(rr,z,l){l.d(z,{H2:function(){return B},Jl:function(){return O},_b:function(){return N},dN:function(){return F}});var E=l(2593),C=l(35553);function N(n){try{return E.O$.from(n)}catch(r){return console.error("bigNumberify error",r),E.O$.from(0)}}function O(n,r){return N(n).mul(N(10).pow(r))}var L=function(r){return parseFloat(r)===parseInt(r)?parseInt(r).toString():r},x=function(r,a){var e=r.toString();if(a===void 0)return e;if(a===0)return e.split(".")[0];var f=e.indexOf(".");if(f!==-1){var h=e.length-f-1;h>a&&(e=e.substr(0,e.length-(h-a)))}return e};function V(n){if(!n)return"...";var r=n.toString().split(".");return r[0]=r[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),r.join(".")}var H=function(r,a){var e=r.toString(),f=e.indexOf(".");if(f!==-1){var h=e.length-f-1;h<a&&(e=e.padEnd(e.length+(a-h),"0"))}else e=e+".0000";return e},F=function(r,a,e,f,h){if(h||(h="..."),r===void 0||r.toString().length===0)return h;e===void 0&&(e=4);var j=C.bM(r,a);return j=x(j,e),e!==0&&(j=H(j,e)),f?V(j):j},U=function(r,a,e,f,h){return!r||!r[a]?"...":F(r[a],e,f,h)},q=function(r,a,e,f,h){return!r||!r[a]?"...":F(r[a],e,f,h)},T=function(r,a,e){if(!r)return"...";var f=ethers.utils.formatUnits(r,a);return f=x(f,e),L(f)},B=function(r,a){if(r instanceof E.O$)return r;var e=parseFloat(r);if(!isNaN(e)){r=x(r,a);var f=C.vz(r,a);return N(f)}}}}]);
