"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[859],{77294:function(e,t,r){r.r(t),r.d(t,{BaseContract:function(){return Se},Contract:function(){return Re},ContractFactory:function(){return xe}});var n=r(16441),s=r(2593),o=r(6881),i=r(1581);const a="abi/5.7.0",c=new i.Logger(a);class l{constructor(e,t,r,n){this.name=e,this.type=t,this.localName=r,this.dynamic=n}_throwError(e,t){c.throwArgumentError(e,this.localName,t)}}class u{constructor(e){(0,o.zG)(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return(0,n.xs)(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData((0,n.zo)(e._data))}writeBytes(e){let t=(0,n.lE)(e);const r=t.length%this.wordSize;return r&&(t=(0,n.zo)([t,this._padding.slice(r)])),this._writeData(t)}_getValue(e){let t=(0,n.lE)(s.O$.from(e));return t.length>this.wordSize&&c.throwError("value out-of-bounds",i.Logger.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=(0,n.zo)([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class h{constructor(e,t,r,s){(0,o.zG)(this,"_data",(0,n.lE)(e)),(0,o.zG)(this,"wordSize",t||32),(0,o.zG)(this,"_coerceFunc",r),(0,o.zG)(this,"allowLoose",s),this._offset=0}get data(){return(0,n.Dv)(this._data)}get consumed(){return this._offset}static coerce(e,t){let r=e.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):h.coerce(e,t)}_peekBytes(e,t,r){let n=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+t<=this._data.length?n=t:c.throwError("data out-of-bounds",i.Logger.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}subReader(e){return new h(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let r=this._peekBytes(0,e,!!t);return this._offset+=r.length,r.slice(0,e)}readValue(){return s.O$.from(this.readBytes(this.wordSize))}}var d=r(19485),p=r(32046),g=r(38197);class m extends l{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=(0,d.Kn)(t)}catch(e){this._throwError(e.message,t)}return e.writeValue(t)}decode(e){return(0,d.Kn)((0,n.$m)(e.readValue().toHexString(),20))}}class f extends l{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const y=new i.Logger(a);function w(e,t,r){let n=null;if(Array.isArray(r))n=r;else if(r&&"object"==typeof r){let e={};n=t.map((t=>{const n=t.localName;return n||y.throwError("cannot encode object for signature with missing names",i.Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[n]&&y.throwError("cannot encode object for signature with duplicate names",i.Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[n]=!0,r[n]}))}else y.throwArgumentError("invalid tuple value","tuple",r);t.length!==n.length&&y.throwArgumentError("types/value length mismatch","tuple",r);let s=new u(e.wordSize),o=new u(e.wordSize),a=[];t.forEach(((e,t)=>{let r=n[t];if(e.dynamic){let t=o.length;e.encode(o,r);let n=s.writeUpdatableValue();a.push((e=>{n(e+t)}))}else e.encode(s,r)})),a.forEach((e=>{e(s.length)}));let c=e.appendWriter(s);return c+=e.appendWriter(o),c}function v(e,t){let r=[],n=e.subReader(0);t.forEach((t=>{let s=null;if(t.dynamic){let r=e.readValue(),o=n.subReader(r.toNumber());try{s=t.decode(o)}catch(e){if(e.code===i.Logger.errors.BUFFER_OVERRUN)throw e;s=e,s.baseType=t.name,s.name=t.localName,s.type=t.type}}else try{s=t.decode(e)}catch(e){if(e.code===i.Logger.errors.BUFFER_OVERRUN)throw e;s=e,s.baseType=t.name,s.name=t.localName,s.type=t.type}null!=s&&r.push(s)}));const s=t.reduce(((e,t)=>{const r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e}),{});t.forEach(((e,t)=>{let n=e.localName;if(!n||1!==s[n])return;if("length"===n&&(n="_length"),null!=r[n])return;const o=r[t];o instanceof Error?Object.defineProperty(r,n,{enumerable:!0,get:()=>{throw o}}):r[n]=o}));for(let e=0;e<r.length;e++){const t=r[e];t instanceof Error&&Object.defineProperty(r,e,{enumerable:!0,get:()=>{throw t}})}return Object.freeze(r)}class b extends l{constructor(e,t,r){super("array",e.type+"["+(t>=0?t:"")+"]",r,-1===t||e.dynamic),this.coder=e,this.length=t}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let r=this.length;-1===r&&(r=t.length,e.writeValue(t.length)),y.checkArgumentCount(t.length,r,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let e=0;e<t.length;e++)n.push(this.coder);return w(e,n,t)}decode(e){let t=this.length;-1===t&&(t=e.readValue().toNumber(),32*t>e._data.length&&y.throwError("insufficient data length",i.Logger.errors.BUFFER_OVERRUN,{length:e._data.length,count:t}));let r=[];for(let e=0;e<t;e++)r.push(new f(this.coder));return e.coerce(this.name,v(e,r))}}class E extends l{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class k extends l{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=(0,n.lE)(t);let r=e.writeValue(t.length);return r+=e.writeBytes(t),r}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class _ extends k{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,(0,n.Dv)(super.decode(e)))}}class P extends l{constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let r=(0,n.lE)(t);return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return e.coerce(this.name,(0,n.Dv)(e.readBytes(this.size)))}}class A extends l{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}var O=r(21046);class N extends l{constructor(e,t,r){const n=(t?"int":"uint")+8*e;super(n,n,r,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let r=s.O$.from(t),n=O.Bz.mask(8*e.wordSize);if(this.signed){let e=n.mask(8*this.size-1);(r.gt(e)||r.lt(e.add(O.fh).mul(O.tL)))&&this._throwError("value out-of-bounds",t)}else(r.lt(O._Y)||r.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",t);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(r)}decode(e){let t=e.readValue().mask(8*this.size);return this.signed&&(t=t.fromTwos(8*this.size)),e.coerce(this.name,t)}}var T=r(29251);class S extends k{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,(0,T.Y0)(t))}decode(e){return(0,T.ZN)(super.decode(e))}}class R extends l{constructor(e,t){let r=!1;const n=[];e.forEach((e=>{e.dynamic&&(r=!0),n.push(e.type)}));super("tuple","tuple("+n.join(",")+")",t,r),this.coders=e}defaultValue(){const e=[];this.coders.forEach((t=>{e.push(t.defaultValue())}));const t=this.coders.reduce(((e,t)=>{const r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e}),{});return this.coders.forEach(((r,n)=>{let s=r.localName;s&&1===t[s]&&("length"===s&&(s="_length"),null==e[s]&&(e[s]=e[n]))})),Object.freeze(e)}encode(e,t){return w(e,this.coders,t)}decode(e){return e.coerce(this.name,v(e,this.coders))}}const x=new i.Logger(a),L={};let j={calldata:!0,memory:!0,storage:!0},z={calldata:!0,memory:!0};function I(e,t){if("bytes"===e||"string"===e){if(j[t])return!0}else if("address"===e){if("payable"===t)return!0}else if((e.indexOf("[")>=0||"tuple"===e)&&z[t])return!0;return(j[t]||"payable"===t)&&x.throwArgumentError("invalid modifier","name",t),!1}function C(e,t){for(let r in t)(0,o.zG)(e,r,t[r])}const G=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),U=new RegExp(/^(.*)\[([0-9]*)\]$/);class D{constructor(e,t){e!==L&&x.throwError("use fromString",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),C(this,t);let r=this.type.match(U);C(this,r?{arrayLength:parseInt(r[2]||"-1"),arrayChildren:D.fromObject({type:r[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=G.sighash),G[e]||x.throwArgumentError("invalid format type","format",e),e===G.json){let t={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(t.indexed=this.indexed),this.components&&(t.components=this.components.map((t=>JSON.parse(t.format(e))))),JSON.stringify(t)}let t="";return"array"===this.baseType?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(e!==G.sighash&&(t+=this.type),t+="("+this.components.map((t=>t.format(e))).join(e===G.full?", ":",")+")"):t+=this.type,e!==G.sighash&&(!0===this.indexed&&(t+=" indexed"),e===G.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return"string"==typeof e?D.fromString(e,t):D.fromObject(e)}static fromObject(e){return D.isParamType(e)?e:new D(L,{name:e.name||null,type:Z(e.type),indexed:null==e.indexed?null:!!e.indexed,components:e.components?e.components.map(D.fromObject):null})}static fromString(e,t){return r=function(e,t){let r=e;function n(t){x.throwArgumentError(`unexpected character at position ${t}`,"param",e)}function s(e){let r={type:"",name:"",parent:e,state:{allowType:!0}};return t&&(r.indexed=!1),r}e=e.replace(/\s/g," ");let o={type:"",name:"",state:{allowType:!0}},i=o;for(let r=0;r<e.length;r++){let o=e[r];switch(o){case"(":i.state.allowType&&""===i.type?i.type="tuple":i.state.allowParams||n(r),i.state.allowType=!1,i.type=Z(i.type),i.components=[s(i)],i=i.components[0];break;case")":delete i.state,"indexed"===i.name&&(t||n(r),i.indexed=!0,i.name=""),I(i.type,i.name)&&(i.name=""),i.type=Z(i.type);let e=i;i=i.parent,i||n(r),delete e.parent,i.state.allowParams=!1,i.state.allowName=!0,i.state.allowArray=!0;break;case",":delete i.state,"indexed"===i.name&&(t||n(r),i.indexed=!0,i.name=""),I(i.type,i.name)&&(i.name=""),i.type=Z(i.type);let a=s(i.parent);i.parent.components.push(a),delete i.parent,i=a;break;case" ":i.state.allowType&&""!==i.type&&(i.type=Z(i.type),delete i.state.allowType,i.state.allowName=!0,i.state.allowParams=!0),i.state.allowName&&""!==i.name&&("indexed"===i.name?(t||n(r),i.indexed&&n(r),i.indexed=!0,i.name=""):I(i.type,i.name)?i.name="":i.state.allowName=!1);break;case"[":i.state.allowArray||n(r),i.type+=o,i.state.allowArray=!1,i.state.allowName=!1,i.state.readArray=!0;break;case"]":i.state.readArray||n(r),i.type+=o,i.state.readArray=!1,i.state.allowArray=!0,i.state.allowName=!0;break;default:i.state.allowType?(i.type+=o,i.state.allowParams=!0,i.state.allowArray=!0):i.state.allowName?(i.name+=o,delete i.state.allowArray):i.state.readArray?i.type+=o:n(r)}}return i.parent&&x.throwArgumentError("unexpected eof","param",e),delete o.state,"indexed"===i.name?(t||n(r.length-7),i.indexed&&n(r.length-7),i.indexed=!0,i.name=""):I(i.type,i.name)&&(i.name=""),o.type=Z(o.type),o}(e,!!t),D.fromObject({name:r.name,type:r.type,indexed:r.indexed,components:r.components});var r}static isParamType(e){return!(null==e||!e._isParamType)}}function B(e,t){return function(e){e=e.trim();let t=[],r="",n=0;for(let s=0;s<e.length;s++){let o=e[s];","===o&&0===n?(t.push(r),r=""):(r+=o,"("===o?n++:")"===o&&(n--,-1===n&&x.throwArgumentError("unbalanced parenthesis","value",e)))}r&&t.push(r);return t}(e).map((e=>D.fromString(e,t)))}class F{constructor(e,t){e!==L&&x.throwError("use a static from method",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),C(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return F.isFragment(e)?e:"string"==typeof e?F.fromString(e):F.fromObject(e)}static fromObject(e){if(F.isFragment(e))return e;switch(e.type){case"function":return J.fromObject(e);case"event":return $.fromObject(e);case"constructor":return q.fromObject(e);case"error":return H.fromObject(e);case"fallback":case"receive":return null}return x.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return"event"===(e=(e=(e=e.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?$.fromString(e.substring(5).trim()):"function"===e.split(" ")[0]?J.fromString(e.substring(8).trim()):"constructor"===e.split("(")[0].trim()?q.fromString(e.trim()):"error"===e.split(" ")[0]?H.fromString(e.substring(5).trim()):x.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!(!e||!e._isFragment)}}class $ extends F{format(e){if(e||(e=G.sighash),G[e]||x.throwArgumentError("invalid format type","format",e),e===G.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});let t="";return e!==G.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===G.full?", ":",")+") ",e!==G.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return"string"==typeof e?$.fromString(e):$.fromObject(e)}static fromObject(e){if($.isEventFragment(e))return e;"event"!==e.type&&x.throwArgumentError("invalid event object","value",e);const t={name:Q(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(D.fromObject):[],type:"event"};return new $(L,t)}static fromString(e){let t=e.match(Y);t||x.throwArgumentError("invalid event string","value",e);let r=!1;return t[3].split(" ").forEach((e=>{switch(e.trim()){case"anonymous":r=!0;break;case"":break;default:x.warn("unknown modifier: "+e)}})),$.fromObject({name:t[1].trim(),anonymous:r,inputs:B(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&"event"===e.type}}function M(e,t){t.gas=null;let r=e.split("@");return 1!==r.length?(r.length>2&&x.throwArgumentError("invalid human-readable ABI signature","value",e),r[1].match(/^[0-9]+$/)||x.throwArgumentError("invalid human-readable ABI signature gas","value",e),t.gas=s.O$.from(r[1]),r[0]):e}function K(e,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",e.split(" ").forEach((e=>{switch(e.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}}))}function V(e){let t={constant:!1,payable:!0,stateMutability:"payable"};return null!=e.stateMutability?(t.stateMutability=e.stateMutability,t.constant="view"===t.stateMutability||"pure"===t.stateMutability,null!=e.constant&&!!e.constant!==t.constant&&x.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e),t.payable="payable"===t.stateMutability,null!=e.payable&&!!e.payable!==t.payable&&x.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)):null!=e.payable?(t.payable=!!e.payable,null!=e.constant||t.payable||"constructor"===e.type||x.throwArgumentError("unable to determine stateMutability","value",e),t.constant=!!e.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&x.throwArgumentError("cannot have constant payable function","value",e)):null!=e.constant?(t.constant=!!e.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):"constructor"!==e.type&&x.throwArgumentError("unable to determine stateMutability","value",e),t}class q extends F{format(e){if(e||(e=G.sighash),G[e]||x.throwArgumentError("invalid format type","format",e),e===G.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});e===G.sighash&&x.throwError("cannot format a constructor for sighash",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map((t=>t.format(e))).join(e===G.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "),t.trim()}static from(e){return"string"==typeof e?q.fromString(e):q.fromObject(e)}static fromObject(e){if(q.isConstructorFragment(e))return e;"constructor"!==e.type&&x.throwArgumentError("invalid constructor object","value",e);let t=V(e);t.constant&&x.throwArgumentError("constructor cannot be constant","value",e);const r={name:null,type:e.type,inputs:e.inputs?e.inputs.map(D.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?s.O$.from(e.gas):null};return new q(L,r)}static fromString(e){let t={type:"constructor"},r=(e=M(e,t)).match(Y);return r&&"constructor"===r[1].trim()||x.throwArgumentError("invalid constructor string","value",e),t.inputs=B(r[2].trim(),!1),K(r[3].trim(),t),q.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&"constructor"===e.type}}class J extends q{format(e){if(e||(e=G.sighash),G[e]||x.throwArgumentError("invalid format type","format",e),e===G.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e)))),outputs:this.outputs.map((t=>JSON.parse(t.format(e))))});let t="";return e!==G.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===G.full?", ":",")+") ",e!==G.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map((t=>t.format(e))).join(", ")+") "),null!=this.gas&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return"string"==typeof e?J.fromString(e):J.fromObject(e)}static fromObject(e){if(J.isFunctionFragment(e))return e;"function"!==e.type&&x.throwArgumentError("invalid function object","value",e);let t=V(e);const r={type:e.type,name:Q(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(D.fromObject):[],outputs:e.outputs?e.outputs.map(D.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?s.O$.from(e.gas):null};return new J(L,r)}static fromString(e){let t={type:"function"},r=(e=M(e,t)).split(" returns ");r.length>2&&x.throwArgumentError("invalid function string","value",e);let n=r[0].match(Y);if(n||x.throwArgumentError("invalid function signature","value",e),t.name=n[1].trim(),t.name&&Q(t.name),t.inputs=B(n[2],!1),K(n[3].trim(),t),r.length>1){let n=r[1].match(Y);""==n[1].trim()&&""==n[3].trim()||x.throwArgumentError("unexpected tokens","value",e),t.outputs=B(n[2],!1)}else t.outputs=[];return J.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&"function"===e.type}}function W(e){const t=e.format();return"Error(string)"!==t&&"Panic(uint256)"!==t||x.throwArgumentError(`cannot specify user defined ${t} error`,"fragment",e),e}class H extends F{format(e){if(e||(e=G.sighash),G[e]||x.throwArgumentError("invalid format type","format",e),e===G.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});let t="";return e!==G.sighash&&(t+="error "),t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===G.full?", ":",")+") ",t.trim()}static from(e){return"string"==typeof e?H.fromString(e):H.fromObject(e)}static fromObject(e){if(H.isErrorFragment(e))return e;"error"!==e.type&&x.throwArgumentError("invalid error object","value",e);const t={type:e.type,name:Q(e.name),inputs:e.inputs?e.inputs.map(D.fromObject):[]};return W(new H(L,t))}static fromString(e){let t={type:"error"},r=e.match(Y);return r||x.throwArgumentError("invalid error signature","value",e),t.name=r[1].trim(),t.name&&Q(t.name),t.inputs=B(r[2],!1),W(H.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&"error"===e.type}}function Z(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}const X=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Q(e){return e&&e.match(X)||x.throwArgumentError(`invalid identifier "${e}"`,"value",e),e}const Y=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");const ee=new i.Logger(a),te=new RegExp(/^bytes([0-9]*)$/),re=new RegExp(/^(u?int)([0-9]*)$/);const ne=new class{constructor(e){(0,o.zG)(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new m(e.name);case"bool":return new E(e.name);case"string":return new S(e.name);case"bytes":return new _(e.name);case"array":return new b(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new R((e.components||[]).map((e=>this._getCoder(e))),e.name);case"":return new A(e.name)}let t=e.type.match(re);if(t){let r=parseInt(t[2]||"256");return(0===r||r>256||r%8!=0)&&ee.throwArgumentError("invalid "+t[1]+" bit length","param",e),new N(r/8,"int"===t[1],e.name)}if(t=e.type.match(te),t){let r=parseInt(t[1]);return(0===r||r>32)&&ee.throwArgumentError("invalid bytes length","param",e),new P(r,e.name)}return ee.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new h(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new u(this._getWordSize())}getDefaultValue(e){const t=e.map((e=>this._getCoder(D.from(e))));return new R(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&ee.throwError("types/values length mismatch",i.Logger.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});const r=e.map((e=>this._getCoder(D.from(e)))),n=new R(r,"_"),s=this._getWriter();return n.encode(s,t),s.data}decode(e,t,r){const s=e.map((e=>this._getCoder(D.from(e))));return new R(s,"_").decode(this._getReader((0,n.lE)(t),r))}},se=new i.Logger(a);class oe extends o.dk{}class ie extends o.dk{}class ae extends o.dk{}class ce extends o.dk{static isIndexed(e){return!(!e||!e._isIndexed)}}const le={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function ue(e,t){const r=new Error(`deferred error during ABI decoding triggered accessing ${e}`);return r.error=t,r}class he{constructor(e){let t=[];t="string"==typeof e?JSON.parse(e):e,(0,o.zG)(this,"fragments",t.map((e=>F.from(e))).filter((e=>null!=e))),(0,o.zG)(this,"_abiCoder",(0,o.tu)(new.target,"getAbiCoder")()),(0,o.zG)(this,"functions",{}),(0,o.zG)(this,"errors",{}),(0,o.zG)(this,"events",{}),(0,o.zG)(this,"structs",{}),this.fragments.forEach((e=>{let t=null;switch(e.type){case"constructor":return this.deploy?void se.warn("duplicate definition - constructor"):void(0,o.zG)(this,"deploy",e);case"function":t=this.functions;break;case"event":t=this.events;break;case"error":t=this.errors;break;default:return}let r=e.format();t[r]?se.warn("duplicate definition - "+r):t[r]=e})),this.deploy||(0,o.zG)(this,"deploy",q.from({payable:!1,type:"constructor"})),(0,o.zG)(this,"_isInterface",!0)}format(e){e||(e=G.full),e===G.sighash&&se.throwArgumentError("interface does not support formatting sighash","format",e);const t=this.fragments.map((t=>t.format(e)));return e===G.json?JSON.stringify(t.map((e=>JSON.parse(e)))):t}static getAbiCoder(){return ne}static getAddress(e){return(0,d.Kn)(e)}static getSighash(e){return(0,n.p3)((0,p.id)(e.format()),0,4)}static getEventTopic(e){return(0,p.id)(e.format())}getFunction(e){if((0,n.A7)(e)){for(const t in this.functions)if(e===this.getSighash(t))return this.functions[t];se.throwArgumentError("no matching function","sighash",e)}if(-1===e.indexOf("(")){const t=e.trim(),r=Object.keys(this.functions).filter((e=>e.split("(")[0]===t));return 0===r.length?se.throwArgumentError("no matching function","name",t):r.length>1&&se.throwArgumentError("multiple matching functions","name",t),this.functions[r[0]]}const t=this.functions[J.fromString(e).format()];return t||se.throwArgumentError("no matching function","signature",e),t}getEvent(e){if((0,n.A7)(e)){const t=e.toLowerCase();for(const e in this.events)if(t===this.getEventTopic(e))return this.events[e];se.throwArgumentError("no matching event","topichash",t)}if(-1===e.indexOf("(")){const t=e.trim(),r=Object.keys(this.events).filter((e=>e.split("(")[0]===t));return 0===r.length?se.throwArgumentError("no matching event","name",t):r.length>1&&se.throwArgumentError("multiple matching events","name",t),this.events[r[0]]}const t=this.events[$.fromString(e).format()];return t||se.throwArgumentError("no matching event","signature",e),t}getError(e){if((0,n.A7)(e)){const t=(0,o.tu)(this.constructor,"getSighash");for(const r in this.errors){if(e===t(this.errors[r]))return this.errors[r]}se.throwArgumentError("no matching error","sighash",e)}if(-1===e.indexOf("(")){const t=e.trim(),r=Object.keys(this.errors).filter((e=>e.split("(")[0]===t));return 0===r.length?se.throwArgumentError("no matching error","name",t):r.length>1&&se.throwArgumentError("multiple matching errors","name",t),this.errors[r[0]]}const t=this.errors[J.fromString(e).format()];return t||se.throwArgumentError("no matching error","signature",e),t}getSighash(e){if("string"==typeof e)try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch(e){throw t}}return(0,o.tu)(this.constructor,"getSighash")(e)}getEventTopic(e){return"string"==typeof e&&(e=this.getEvent(e)),(0,o.tu)(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){"string"==typeof e&&(e=this.getError(e));const r=(0,n.lE)(t);return(0,n.Dv)(r.slice(0,4))!==this.getSighash(e)&&se.throwArgumentError(`data signature does not match error ${e.name}.`,"data",(0,n.Dv)(r)),this._decodeParams(e.inputs,r.slice(4))}encodeErrorResult(e,t){return"string"==typeof e&&(e=this.getError(e)),(0,n.Dv)((0,n.zo)([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){"string"==typeof e&&(e=this.getFunction(e));const r=(0,n.lE)(t);return(0,n.Dv)(r.slice(0,4))!==this.getSighash(e)&&se.throwArgumentError(`data signature does not match function ${e.name}.`,"data",(0,n.Dv)(r)),this._decodeParams(e.inputs,r.slice(4))}encodeFunctionData(e,t){return"string"==typeof e&&(e=this.getFunction(e)),(0,n.Dv)((0,n.zo)([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){"string"==typeof e&&(e=this.getFunction(e));let r=(0,n.lE)(t),s=null,o="",a=null,c=null,l=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,r)}catch(e){}break;case 4:{const e=(0,n.Dv)(r.slice(0,4)),t=le[e];if(t)a=this._abiCoder.decode(t.inputs,r.slice(4)),c=t.name,l=t.signature,t.reason&&(s=a[0]),"Error"===c?o=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(a[0])}`:"Panic"===c&&(o=`; VM Exception while processing transaction: reverted with panic code ${a[0]}`);else try{const t=this.getError(e);a=this._abiCoder.decode(t.inputs,r.slice(4)),c=t.name,l=t.format()}catch(e){}break}}return se.throwError("call revert exception"+o,i.Logger.errors.CALL_EXCEPTION,{method:e.format(),data:(0,n.Dv)(t),errorArgs:a,errorName:c,errorSignature:l,reason:s})}encodeFunctionResult(e,t){return"string"==typeof e&&(e=this.getFunction(e)),(0,n.Dv)(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){"string"==typeof e&&(e=this.getEvent(e)),t.length>e.inputs.length&&se.throwError("too many arguments for "+e.format(),i.Logger.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let r=[];e.anonymous||r.push(this.getEventTopic(e));const o=(e,t)=>"string"===e.type?(0,p.id)(t):"bytes"===e.type?(0,g.w)((0,n.Dv)(t)):("bool"===e.type&&"boolean"==typeof t&&(t=t?"0x01":"0x00"),e.type.match(/^u?int/)&&(t=s.O$.from(t).toHexString()),"address"===e.type&&this._abiCoder.encode(["address"],[t]),(0,n.$m)((0,n.Dv)(t),32));for(t.forEach(((t,n)=>{let s=e.inputs[n];s.indexed?null==t?r.push(null):"array"===s.baseType||"tuple"===s.baseType?se.throwArgumentError("filtering with tuples or arrays not supported","contract."+s.name,t):Array.isArray(t)?r.push(t.map((e=>o(s,e)))):r.push(o(s,t)):null!=t&&se.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+s.name,t)}));r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(e,t){"string"==typeof e&&(e=this.getEvent(e));const r=[],n=[],s=[];return e.anonymous||r.push(this.getEventTopic(e)),t.length!==e.inputs.length&&se.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach(((e,o)=>{const i=t[o];if(e.indexed)if("string"===e.type)r.push((0,p.id)(i));else if("bytes"===e.type)r.push((0,g.w)(i));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");r.push(this._abiCoder.encode([e.type],[i]))}else n.push(e),s.push(i)})),{data:this._abiCoder.encode(n,s),topics:r}}decodeEventLog(e,t,r){if("string"==typeof e&&(e=this.getEvent(e)),null!=r&&!e.anonymous){let t=this.getEventTopic(e);(0,n.A7)(r[0],32)&&r[0].toLowerCase()===t||se.throwError("fragment/topic mismatch",i.Logger.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:t,value:r[0]}),r=r.slice(1)}let s=[],o=[],a=[];e.inputs.forEach(((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(s.push(D.fromObject({type:"bytes32",name:e.name})),a.push(!0)):(s.push(e),a.push(!1)):(o.push(e),a.push(!1))}));let c=null!=r?this._abiCoder.decode(s,(0,n.zo)(r)):null,l=this._abiCoder.decode(o,t,!0),u=[],h=0,d=0;e.inputs.forEach(((e,t)=>{if(e.indexed)if(null==c)u[t]=new ce({_isIndexed:!0,hash:null});else if(a[t])u[t]=new ce({_isIndexed:!0,hash:c[d++]});else try{u[t]=c[d++]}catch(e){u[t]=e}else try{u[t]=l[h++]}catch(e){u[t]=e}if(e.name&&null==u[e.name]){const r=u[t];r instanceof Error?Object.defineProperty(u,e.name,{enumerable:!0,get:()=>{throw ue(`property ${JSON.stringify(e.name)}`,r)}}):u[e.name]=r}}));for(let e=0;e<u.length;e++){const t=u[e];t instanceof Error&&Object.defineProperty(u,e,{enumerable:!0,get:()=>{throw ue(`index ${e}`,t)}})}return Object.freeze(u)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new ie({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:s.O$.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new oe({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){const t=(0,n.Dv)(e);let r=this.getError(t.substring(0,10).toLowerCase());return r?new ae({args:this._abiCoder.decode(r.inputs,"0x"+t.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}static isInterface(e){return!(!e||!e._isInterface)}}var de=r(81556),pe=r(48088),ge=r(639);var me=function(e,t,r,n){return new(r||(r=Promise))((function(s,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))};const fe=new i.Logger("contracts/5.7.0"),ye={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function we(e,t){return me(this,void 0,void 0,(function*(){const r=yield t;"string"!=typeof r&&fe.throwArgumentError("invalid address or ENS name","name",r);try{return(0,d.Kn)(r)}catch(e){}e||fe.throwError("a provider or signer is needed to resolve ENS names",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield e.resolveName(r);return null==n&&fe.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n}))}function ve(e,t,r){return me(this,void 0,void 0,(function*(){return Array.isArray(r)?yield Promise.all(r.map(((r,n)=>ve(e,Array.isArray(t)?t[n]:t[r.name],r)))):"address"===r.type?yield we(e,t):"tuple"===r.type?yield ve(e,t,r.components):"array"===r.baseType?Array.isArray(t)?yield Promise.all(t.map((t=>ve(e,t,r.arrayChildren)))):Promise.reject(fe.makeError("invalid value for array",i.Logger.errors.INVALID_ARGUMENT,{argument:"value",value:t})):t}))}function be(e,t,r){return me(this,void 0,void 0,(function*(){let a={};r.length===t.inputs.length+1&&"object"==typeof r[r.length-1]&&(a=(0,o.DC)(r.pop())),fe.checkArgumentCount(r.length,t.inputs.length,"passed to contract"),e.signer?a.from?a.from=(0,o.mE)({override:we(e.signer,a.from),signer:e.signer.getAddress()}).then((e=>me(this,void 0,void 0,(function*(){return(0,d.Kn)(e.signer)!==e.override&&fe.throwError("Contract with a Signer cannot override from",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),e.override})))):a.from=e.signer.getAddress():a.from&&(a.from=we(e.provider,a.from));const c=yield(0,o.mE)({args:ve(e.signer||e.provider,r,t.inputs),address:e.resolvedAddress,overrides:(0,o.mE)(a)||{}}),l=e.interface.encodeFunctionData(t,c.args),u={data:l,to:c.address},h=c.overrides;if(null!=h.nonce&&(u.nonce=s.O$.from(h.nonce).toNumber()),null!=h.gasLimit&&(u.gasLimit=s.O$.from(h.gasLimit)),null!=h.gasPrice&&(u.gasPrice=s.O$.from(h.gasPrice)),null!=h.maxFeePerGas&&(u.maxFeePerGas=s.O$.from(h.maxFeePerGas)),null!=h.maxPriorityFeePerGas&&(u.maxPriorityFeePerGas=s.O$.from(h.maxPriorityFeePerGas)),null!=h.from&&(u.from=h.from),null!=h.type&&(u.type=h.type),null!=h.accessList&&(u.accessList=(0,ge.z7)(h.accessList)),null==u.gasLimit&&null!=t.gas){let e=21e3;const r=(0,n.lE)(l);for(let t=0;t<r.length;t++)e+=4,r[t]&&(e+=64);u.gasLimit=s.O$.from(t.gas).add(e)}if(h.value){const e=s.O$.from(h.value);e.isZero()||t.payable||fe.throwError("non-payable method cannot override value",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:a.value}),u.value=e}h.customData&&(u.customData=(0,o.DC)(h.customData)),h.ccipReadEnabled&&(u.ccipReadEnabled=!!h.ccipReadEnabled),delete a.nonce,delete a.gasLimit,delete a.gasPrice,delete a.from,delete a.value,delete a.type,delete a.accessList,delete a.maxFeePerGas,delete a.maxPriorityFeePerGas,delete a.customData,delete a.ccipReadEnabled;const p=Object.keys(a).filter((e=>null!=a[e]));return p.length&&fe.throwError(`cannot override ${p.map((e=>JSON.stringify(e))).join(",")}`,i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:p}),u}))}function Ee(e,t){const r=t.wait.bind(t);t.wait=t=>r(t).then((t=>(t.events=t.logs.map((r=>{let n=(0,o.p$)(r),s=null;try{s=e.interface.parseLog(r)}catch(e){}return s&&(n.args=s.args,n.decode=(t,r)=>e.interface.decodeEventLog(s.eventFragment,t,r),n.event=s.name,n.eventSignature=s.signature),n.removeListener=()=>e.provider,n.getBlock=()=>e.provider.getBlock(t.blockHash),n.getTransaction=()=>e.provider.getTransaction(t.transactionHash),n.getTransactionReceipt=()=>Promise.resolve(t),n})),t)))}function ke(e,t,r){const n=e.signer||e.provider;return function(...s){return me(this,void 0,void 0,(function*(){let a;if(s.length===t.inputs.length+1&&"object"==typeof s[s.length-1]){const e=(0,o.DC)(s.pop());null!=e.blockTag&&(a=yield e.blockTag),delete e.blockTag,s.push(e)}null!=e.deployTransaction&&(yield e._deployed(a));const c=yield be(e,t,s),l=yield n.call(c,a);try{let n=e.interface.decodeFunctionResult(t,l);return r&&1===t.outputs.length&&(n=n[0]),n}catch(t){throw t.code===i.Logger.errors.CALL_EXCEPTION&&(t.address=e.address,t.args=s,t.transaction=c),t}}))}}function _e(e,t,r){return t.constant?ke(e,t,r):function(e,t){return function(...r){return me(this,void 0,void 0,(function*(){e.signer||fe.throwError("sending a transaction requires a signer",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null!=e.deployTransaction&&(yield e._deployed());const n=yield be(e,t,r),s=yield e.signer.sendTransaction(n);return Ee(e,s),s}))}}(e,t)}function Pe(e){return!e.address||null!=e.topics&&0!==e.topics.length?(e.address||"*")+"@"+(e.topics?e.topics.map((e=>Array.isArray(e)?e.join("|"):e)).join(":"):""):"*"}class Ae{constructor(e,t){(0,o.zG)(this,"tag",e),(0,o.zG)(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter((r=>!(!t&&r.listener===e)||(t=!0,!1)))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map((e=>e.listener))}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();return this._listeners=this._listeners.filter((t=>{const r=e.slice();return setTimeout((()=>{t.listener.apply(this,r)}),0),!t.once})),t}prepareEvent(e){}getEmit(e){return[e]}}class Oe extends Ae{constructor(){super("error",null)}}class Ne extends Ae{constructor(e,t,r,n){const s={address:e};let i=t.getEventTopic(r);n?(i!==n[0]&&fe.throwArgumentError("topic mismatch","topics",n),s.topics=n.slice()):s.topics=[i],super(Pe(s),s),(0,o.zG)(this,"address",e),(0,o.zG)(this,"interface",t),(0,o.zG)(this,"fragment",r)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(e,t)=>this.interface.decodeEventLog(this.fragment,e,t);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){const t=function(e){const t=[],r=function(e,n){if(Array.isArray(n))for(let s in n){const o=e.slice();o.push(s);try{r(o,n[s])}catch(e){t.push({path:o,error:e})}}};return r([],e),t}(e.args);if(t.length)throw t[0].error;const r=(e.args||[]).slice();return r.push(e),r}}class Te extends Ae{constructor(e,t){super("*",{address:e}),(0,o.zG)(this,"address",e),(0,o.zG)(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(e,r)=>this.interface.decodeEventLog(t.eventFragment,e,r),e.args=t.args}catch(e){}}}class Se{constructor(e,t,r){(0,o.zG)(this,"interface",(0,o.tu)(new.target,"getInterface")(t)),null==r?((0,o.zG)(this,"provider",null),(0,o.zG)(this,"signer",null)):pe.E.isSigner(r)?((0,o.zG)(this,"provider",r.provider||null),(0,o.zG)(this,"signer",r)):de.zt.isProvider(r)?((0,o.zG)(this,"provider",r),(0,o.zG)(this,"signer",null)):fe.throwArgumentError("invalid signer or provider","signerOrProvider",r),(0,o.zG)(this,"callStatic",{}),(0,o.zG)(this,"estimateGas",{}),(0,o.zG)(this,"functions",{}),(0,o.zG)(this,"populateTransaction",{}),(0,o.zG)(this,"filters",{});{const e={};Object.keys(this.interface.events).forEach((t=>{const r=this.interface.events[t];(0,o.zG)(this.filters,t,((...e)=>({address:this.address,topics:this.interface.encodeFilterTopics(r,e)}))),e[r.name]||(e[r.name]=[]),e[r.name].push(t)})),Object.keys(e).forEach((t=>{const r=e[t];1===r.length?(0,o.zG)(this.filters,t,this.filters[r[0]]):fe.warn(`Duplicate definition of ${t} (${r.join(", ")})`)}))}if((0,o.zG)(this,"_runningEvents",{}),(0,o.zG)(this,"_wrappedEmits",{}),null==e&&fe.throwArgumentError("invalid contract address or ENS name","addressOrName",e),(0,o.zG)(this,"address",e),this.provider)(0,o.zG)(this,"resolvedAddress",we(this.provider,e));else try{(0,o.zG)(this,"resolvedAddress",Promise.resolve((0,d.Kn)(e)))}catch(e){fe.throwError("provider is required to use ENS name as contract address",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch((e=>{}));const n={},s={};Object.keys(this.interface.functions).forEach((e=>{const t=this.interface.functions[e];if(s[e])fe.warn(`Duplicate ABI entry for ${JSON.stringify(e)}`);else{s[e]=!0;{const r=t.name;n[`%${r}`]||(n[`%${r}`]=[]),n[`%${r}`].push(e)}null==this[e]&&(0,o.zG)(this,e,_e(this,t,!0)),null==this.functions[e]&&(0,o.zG)(this.functions,e,_e(this,t,!1)),null==this.callStatic[e]&&(0,o.zG)(this.callStatic,e,ke(this,t,!0)),null==this.populateTransaction[e]&&(0,o.zG)(this.populateTransaction,e,function(e,t){return function(...r){return be(e,t,r)}}(this,t)),null==this.estimateGas[e]&&(0,o.zG)(this.estimateGas,e,function(e,t){const r=e.signer||e.provider;return function(...n){return me(this,void 0,void 0,(function*(){r||fe.throwError("estimate require a provider or signer",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const s=yield be(e,t,n);return yield r.estimateGas(s)}))}}(this,t))}})),Object.keys(n).forEach((e=>{const t=n[e];if(t.length>1)return;e=e.substring(1);const r=t[0];try{null==this[e]&&(0,o.zG)(this,e,this[r])}catch(e){}null==this.functions[e]&&(0,o.zG)(this.functions,e,this.functions[r]),null==this.callStatic[e]&&(0,o.zG)(this.callStatic,e,this.callStatic[r]),null==this.populateTransaction[e]&&(0,o.zG)(this.populateTransaction,e,this.populateTransaction[r]),null==this.estimateGas[e]&&(0,o.zG)(this.estimateGas,e,this.estimateGas[r])}))}static getContractAddress(e){return(0,d.CR)(e)}static getInterface(e){return he.isInterface(e)?e:new he(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then((()=>this)):this._deployedPromise=this.provider.getCode(this.address,e).then((e=>("0x"===e&&fe.throwError("contract not deployed",i.Logger.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this)))),this._deployedPromise}fallback(e){this.signer||fe.throwError("sending a transactions require a signer",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const t=(0,o.DC)(e||{});return["from","to"].forEach((function(e){null!=t[e]&&fe.throwError("cannot override "+e,i.Logger.errors.UNSUPPORTED_OPERATION,{operation:e})})),t.to=this.resolvedAddress,this.deployed().then((()=>this.signer.sendTransaction(t)))}connect(e){"string"==typeof e&&(e=new pe.b(e,this.provider));const t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&(0,o.zG)(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return ce.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if("string"==typeof e){if("error"===e)return this._normalizeRunningEvent(new Oe);if("event"===e)return this._normalizeRunningEvent(new Ae("event",null));if("*"===e)return this._normalizeRunningEvent(new Te(this.address,this.interface));const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new Ne(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const t=e.topics[0];if("string"!=typeof t)throw new Error("invalid topic");const r=this.interface.getEvent(t);return this._normalizeRunningEvent(new Ne(this.address,this.interface,r,e.topics))}catch(e){}const t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new Ae(Pe(t),t))}return this._normalizeRunningEvent(new Te(this.address,this.interface))}_checkRunningEvents(e){if(0===e.listenerCount()){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,r){const n=(0,o.p$)(t);return n.removeListener=()=>{r&&(e.removeListener(r),this._checkRunningEvents(e))},n.getBlock=()=>this.provider.getBlock(t.blockHash),n.getTransaction=()=>this.provider.getTransaction(t.transactionHash),n.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(n),n}_addEventListener(e,t,r){if(this.provider||fe.throwError("events require a provider or a signer with a provider",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,r),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const r=r=>{let n=this._wrapEvent(e,r,t);if(null==n.decodeError)try{const t=e.getEmit(n);this.emit(e.filter,...t)}catch(e){n.decodeError=e.error}null!=e.filter&&this.emit("event",n),null!=n.decodeError&&this.emit("error",n.decodeError,n)};this._wrappedEmits[e.tag]=r,null!=e.filter&&this.provider.on(e.filter,r)}}queryFilter(e,t,r){const s=this._getRunningEvent(e),i=(0,o.DC)(s.filter);return"string"==typeof t&&(0,n.A7)(t,32)?(null!=r&&fe.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),i.blockHash=t):(i.fromBlock=null!=t?t:0,i.toBlock=null!=r?r:"latest"),this.provider.getLogs(i).then((e=>e.map((e=>this._wrapEvent(s,e,null)))))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;const r=this._getRunningEvent(e),n=r.run(t)>0;return this._checkRunningEvents(r),n}listenerCount(e){return this.provider?null==e?Object.keys(this._runningEvents).reduce(((e,t)=>e+this._runningEvents[t].listenerCount()),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(null==e){const e=[];for(let t in this._runningEvents)this._runningEvents[t].listeners().forEach((t=>{e.push(t)}));return e}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(null==e){for(const e in this._runningEvents){const t=this._runningEvents[e];t.removeAllListeners(),this._checkRunningEvents(t)}return this}const t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;const r=this._getRunningEvent(e);return r.removeListener(t),this._checkRunningEvents(r),this}removeListener(e,t){return this.off(e,t)}}class Re extends Se{}class xe{constructor(e,t,r){let s=null;s="string"==typeof t?t:(0,n._t)(t)?(0,n.Dv)(t):t&&"string"==typeof t.object?t.object:"!","0x"!==s.substring(0,2)&&(s="0x"+s),(!(0,n.A7)(s)||s.length%2)&&fe.throwArgumentError("invalid bytecode","bytecode",t),r&&!pe.E.isSigner(r)&&fe.throwArgumentError("invalid signer","signer",r),(0,o.zG)(this,"bytecode",s),(0,o.zG)(this,"interface",(0,o.tu)(new.target,"getInterface")(e)),(0,o.zG)(this,"signer",r||null)}getDeployTransaction(...e){let t={};if(e.length===this.interface.deploy.inputs.length+1&&"object"==typeof e[e.length-1]){t=(0,o.DC)(e.pop());for(const e in t)if(!ye[e])throw new Error("unknown transaction override "+e)}if(["data","from","to"].forEach((e=>{null!=t[e]&&fe.throwError("cannot override "+e,i.Logger.errors.UNSUPPORTED_OPERATION,{operation:e})})),t.value){s.O$.from(t.value).isZero()||this.interface.deploy.payable||fe.throwError("non-payable constructor cannot override value",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:t.value})}return fe.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),t.data=(0,n.Dv)((0,n.zo)([this.bytecode,this.interface.encodeDeploy(e)])),t}deploy(...e){return me(this,void 0,void 0,(function*(){let t={};e.length===this.interface.deploy.inputs.length+1&&(t=e.pop()),fe.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const r=yield ve(this.signer,e,this.interface.deploy.inputs);r.push(t);const n=this.getDeployTransaction(...r),s=yield this.signer.sendTransaction(n),i=(0,o.tu)(this.constructor,"getContractAddress")(s),a=(0,o.tu)(this.constructor,"getContract")(i,this.interface,this.signer);return Ee(a,s),(0,o.zG)(a,"deployTransaction",s),a}))}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,t){null==e&&fe.throwError("missing compiler output",i.Logger.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),"string"==typeof e&&(e=JSON.parse(e));const r=e.abi;let n=null;return e.bytecode?n=e.bytecode:e.evm&&e.evm.bytecode&&(n=e.evm.bytecode),new this(r,n,t)}static getInterface(e){return Re.getInterface(e)}static getContractAddress(e){return(0,d.CR)(e)}static getContract(e,t,r){return new Re(e,t,r)}}},11427:function(e,t,r){r.r(t),r.d(t,{AlchemyProvider:function(){return P},AlchemyWebSocketProvider:function(){return _},AnkrProvider:function(){return T},BaseProvider:function(){return o.Zk},CloudflareProvider:function(){return x},EtherscanProvider:function(){return $},FallbackProvider:function(){return ne},Formatter:function(){return a.Mb},InfuraProvider:function(){return ce},InfuraWebSocketProvider:function(){return ae},IpcProvider:function(){return se},JsonRpcBatchProvider:function(){return le},JsonRpcProvider:function(){return l.r},JsonRpcSigner:function(){return l.C},NodesmithProvider:function(){return he},PocketProvider:function(){return ge},Provider:function(){return n.zt},Resolver:function(){return o.H2},StaticJsonRpcProvider:function(){return v},UrlJsonRpcProvider:function(){return b},Web3Provider:function(){return me.Q},WebSocketProvider:function(){return f},getDefaultProvider:function(){return ye},getNetwork:function(){return s.H},isCommunityResourcable:function(){return a.Ed},isCommunityResource:function(){return a.Gp},showThrottleMessage:function(){return a.vh}});var n=r(81556),s=r(45710),o=r(71438),i=r(6881),a=r(30032),c=r(2593),l=r(25733),u=r(1581),h=r(34216);let d=null;try{if(d=WebSocket,null==d)throw new Error("inject please")}catch(e){const t=new u.Logger(h.i);d=function(){t.throwError("WebSockets not supported in this environment",u.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var p=function(e,t,r,n){return new(r||(r=Promise))((function(s,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))};const g=new u.Logger(h.i);let m=1;class f extends l.r{constructor(e,t){"any"===t&&g.throwError("WebSocketProvider does not support 'any' network yet",u.Logger.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),super("string"==typeof e?e:"_websocket",t),this._pollingInterval=-1,this._wsReady=!1,"string"==typeof e?(0,i.zG)(this,"_websocket",new d(this.connection.url)):(0,i.zG)(this,"_websocket",e),(0,i.zG)(this,"_requests",{}),(0,i.zG)(this,"_subs",{}),(0,i.zG)(this,"_subIds",{}),(0,i.zG)(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach((e=>{this.websocket.send(this._requests[e].payload)}))},this.websocket.onmessage=e=>{const t=e.data,r=JSON.parse(t);if(null!=r.id){const e=String(r.id),n=this._requests[e];if(delete this._requests[e],void 0!==r.result)n.callback(null,r.result),this.emit("debug",{action:"response",request:JSON.parse(n.payload),response:r.result,provider:this});else{let e=null;r.error?(e=new Error(r.error.message||"unknown error"),(0,i.zG)(e,"code",r.error.code||null),(0,i.zG)(e,"response",t)):e=new Error("unknown error"),n.callback(e,void 0),this.emit("debug",{action:"response",error:e,request:JSON.parse(n.payload),provider:this})}}else if("eth_subscription"===r.method){const e=this._subs[r.params.subscription];e&&e.processFunc(r.params.result)}else console.warn("this should not happen")};const r=setInterval((()=>{this.emit("poll")}),1e3);r.unref&&r.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){g.throwError("cannot reset events block on WebSocketProvider",u.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){g.throwError("cannot set polling interval on WebSocketProvider",u.Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return p(this,void 0,void 0,(function*(){return null}))}set polling(e){e&&g.throwError("cannot set polling on WebSocketProvider",u.Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,t){const r=m++;return new Promise(((n,s)=>{const o=JSON.stringify({method:e,params:t,id:r,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(o),provider:this}),this._requests[String(r)]={callback:function(e,t){return e?s(e):n(t)},payload:o},this._wsReady&&this.websocket.send(o)}))}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,t,r){return p(this,void 0,void 0,(function*(){let n=this._subIds[e];null==n&&(n=Promise.all(t).then((e=>this.send("eth_subscribe",e))),this._subIds[e]=n);const s=yield n;this._subs[s]={tag:e,processFunc:r}}))}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],(e=>{const t=c.O$.from(e.number).toNumber();this._emitted.block=t,this.emit("block",t)}));break;case"pending":this._subscribe("pending",["newPendingTransactions"],(e=>{this.emit("pending",e)}));break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],(t=>{null==t.removed&&(t.removed=!1),this.emit(e.filter,this.formatter.filterLog(t))}));break;case"tx":{const t=e=>{const t=e.hash;this.getTransactionReceipt(t).then((e=>{e&&this.emit(t,e)}))};t(e),this._subscribe("tx",["newHeads"],(e=>{this._events.filter((e=>"tx"===e.type)).forEach(t)}));break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e)}}_stopEvent(e){let t=e.tag;if("tx"===e.type){if(this._events.filter((e=>"tx"===e.type)).length)return;t="tx"}else if(this.listenerCount(e.event))return;const r=this._subIds[t];r&&(delete this._subIds[t],r.then((e=>{this._subs[e]&&(delete this._subs[e],this.send("eth_unsubscribe",[e]))})))}destroy(){return p(this,void 0,void 0,(function*(){this.websocket.readyState===d.CONNECTING&&(yield new Promise((e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}}))),this.websocket.close(1e3)}))}}var y=function(e,t,r,n){return new(r||(r=Promise))((function(s,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))};const w=new u.Logger(h.i);class v extends l.r{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return y(this,void 0,void 0,(function*(){let t=this.network;return null==t&&(t=yield e.detectNetwork.call(this),t||w.throwError("no network detected",u.Logger.errors.UNKNOWN_ERROR,{}),null==this._network&&((0,i.zG)(this,"_network",t),this.emit("network",t,null))),t}))}}class b extends v{constructor(e,t){w.checkAbstract(new.target,b),e=(0,i.tu)(new.target,"getNetwork")(e),t=(0,i.tu)(new.target,"getApiKey")(t);super((0,i.tu)(new.target,"getUrl")(e,t),e),"string"==typeof t?(0,i.zG)(this,"apiKey",t):null!=t&&Object.keys(t).forEach((e=>{(0,i.zG)(this,e,t[e])}))}_startPending(){w.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return w.throwError("API provider does not support signing",u.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,t){return w.throwError("not implemented; sub-classes must override getUrl",u.Logger.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const E=new u.Logger(h.i),k="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class _ extends f{constructor(e,t){const r=new P(e,t);super(r.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi."),r.network),(0,i.zG)(this,"apiKey",r.apiKey)}isCommunityResource(){return this.apiKey===k}}class P extends b{static getWebSocketProvider(e,t){return new _(e,t)}static getApiKey(e){return null==e?k:(e&&"string"!=typeof e&&E.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,t){let r=null;switch(e.name){case"homestead":r="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":r="eth-goerli.g.alchemy.com/v2/";break;case"matic":r="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":r="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":r="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":r="arb-goerli.g.alchemy.com/v2/";break;case"optimism":r="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":r="opt-goerli.g.alchemy.com/v2/";break;default:E.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+r+t,throttleCallback:(e,r)=>(t===k&&(0,a.vh)(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===k}}const A=new u.Logger(h.i),O="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function N(e){switch(e){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"matic":return"rpc.ankr.com/polygon/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return A.throwArgumentError("unsupported network","name",e)}class T extends b{isCommunityResource(){return this.apiKey===O}static getApiKey(e){return null==e?O:e}static getUrl(e,t){null==t&&(t=O);const r={allowGzip:!0,url:"https://"+N(e.name)+t,throttleCallback:(e,r)=>(t.apiKey===O&&(0,a.vh)(),Promise.resolve(!0))};return null!=t.projectSecret&&(r.user="",r.password=t.projectSecret),r}}var S=function(e,t,r,n){return new(r||(r=Promise))((function(s,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))};const R=new u.Logger(h.i);class x extends b{static getApiKey(e){return null!=e&&R.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,t){let r=null;if("homestead"===e.name)r="https://cloudflare-eth.com/";else R.throwArgumentError("unsupported network","network",arguments[0]);return r}perform(e,t){const r=Object.create(null,{perform:{get:()=>super.perform}});return S(this,void 0,void 0,(function*(){if("getBlockNumber"===e){return(yield r.perform.call(this,"getBlock",{blockTag:"latest"})).number}return r.perform.call(this,e,t)}))}}var L=r(16441),j=r(639),z=r(37707),I=function(e,t,r,n){return new(r||(r=Promise))((function(s,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))};const C=new u.Logger(h.i);function G(e){const t={};for(let r in e){if(null==e[r])continue;let n=e[r];"type"===r&&0===n||(n={type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[r]?(0,L.$P)((0,L.Dv)(n)):"accessList"===r?"["+(0,j.z7)(n).map((e=>`{address:"${e.address}",storageKeys:["${e.storageKeys.join('","')}"]}`)).join(",")+"]":(0,L.Dv)(n),t[r]=n)}return t}function U(e){if(0==e.status&&("No records found"===e.message||"No transactions found"===e.message))return e.result;if(1!=e.status||"string"!=typeof e.message||!e.message.match(/^OK/)){const t=new Error("invalid response");throw t.result=JSON.stringify(e),(e.result||"").toLowerCase().indexOf("rate limit")>=0&&(t.throttleRetry=!0),t}return e.result}function D(e){if(e&&0==e.status&&"NOTOK"==e.message&&(e.result||"").toLowerCase().indexOf("rate limit")>=0){const t=new Error("throttled response");throw t.result=JSON.stringify(e),t.throttleRetry=!0,t}if("2.0"!=e.jsonrpc){const t=new Error("invalid response");throw t.result=JSON.stringify(e),t}if(e.error){const t=new Error(e.error.message||"unknown error");throw e.error.code&&(t.code=e.error.code),e.error.data&&(t.data=e.error.data),t}return e.result}function B(e){if("pending"===e)throw new Error("pending not supported");return"latest"===e?e:parseInt(e.substring(2),16)}function F(e,t,r){if("call"===e&&t.code===u.Logger.errors.SERVER_ERROR){const e=t.error;if(e&&(e.message.match(/reverted/i)||e.message.match(/VM execution error/i))){let r=e.data;if(r&&(r="0x"+r.replace(/^.*0x/i,"")),(0,L.A7)(r))return r;C.throwError("missing revert data in call exception",u.Logger.errors.CALL_EXCEPTION,{error:t,data:"0x"})}}let n=t.message;throw t.code===u.Logger.errors.SERVER_ERROR&&(t.error&&"string"==typeof t.error.message?n=t.error.message:"string"==typeof t.body?n=t.body:"string"==typeof t.responseText&&(n=t.responseText)),n=(n||"").toLowerCase(),n.match(/insufficient funds/)&&C.throwError("insufficient funds for intrinsic transaction cost",u.Logger.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:r}),n.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&C.throwError("nonce has already been used",u.Logger.errors.NONCE_EXPIRED,{error:t,method:e,transaction:r}),n.match(/another transaction with same nonce/)&&C.throwError("replacement fee too low",u.Logger.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:r}),n.match(/execution failed due to an exception|execution reverted/)&&C.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",u.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:r}),t}class $ extends o.Zk{constructor(e,t){super(e),(0,i.zG)(this,"baseUrl",this.getBaseUrl()),(0,i.zG)(this,"apiKey",t||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return C.throwArgumentError("unsupported network","network",this.network.name)}getUrl(e,t){const r=Object.keys(t).reduce(((e,r)=>{const n=t[r];return null!=n&&(e+=`&${r}=${n}`),e}),""),n=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${r}${n}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t}fetch(e,t,r){return I(this,void 0,void 0,(function*(){const n=r?this.getPostUrl():this.getUrl(e,t),s=r?this.getPostData(e,t):null,o="proxy"===e?D:U;this.emit("debug",{action:"request",request:n,provider:this});const c={url:n,throttleSlotInterval:1e3,throttleCallback:(e,t)=>(this.isCommunityResource()&&(0,a.vh)(),Promise.resolve(!0))};let l=null;s&&(c.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},l=Object.keys(s).map((e=>`${e}=${s[e]}`)).join("&"));const u=yield(0,z.rd)(c,l,o||D);return this.emit("debug",{action:"response",request:n,response:(0,i.p$)(u),provider:this}),u}))}detectNetwork(){return I(this,void 0,void 0,(function*(){return this.network}))}perform(e,t){const r=Object.create(null,{perform:{get:()=>super.perform}});return I(this,void 0,void 0,(function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},!0).catch((e=>F("sendTransaction",e,t.signedTransaction)));case"getBlock":if(t.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.transactionHash});case"call":{if("latest"!==t.blockTag)throw new Error("EtherscanProvider does not support blockTag for call");const e=G(t.transaction);e.module="proxy",e.action="eth_call";try{return yield this.fetch("proxy",e,!0)}catch(e){return F("call",e,t.transaction)}}case"estimateGas":{const e=G(t.transaction);e.module="proxy",e.action="eth_estimateGas";try{return yield this.fetch("proxy",e,!0)}catch(e){return F("estimateGas",e,t.transaction)}}case"getLogs":{const e={action:"getLogs"};if(t.filter.fromBlock&&(e.fromBlock=B(t.filter.fromBlock)),t.filter.toBlock&&(e.toBlock=B(t.filter.toBlock)),t.filter.address&&(e.address=t.filter.address),t.filter.topics&&t.filter.topics.length>0&&(t.filter.topics.length>1&&C.throwError("unsupported topic count",u.Logger.errors.UNSUPPORTED_OPERATION,{topics:t.filter.topics}),1===t.filter.topics.length)){const r=t.filter.topics[0];"string"==typeof r&&66===r.length||C.throwError("unsupported topic format",u.Logger.errors.UNSUPPORTED_OPERATION,{topic0:r}),e.topic0=r}const r=yield this.fetch("logs",e);let n={};for(let e=0;e<r.length;e++){const t=r[e];if(null==t.blockHash){if(null==n[t.blockNumber]){const e=yield this.getBlock(t.blockNumber);e&&(n[t.blockNumber]=e.hash)}t.blockHash=n[t.blockNumber]}}return r}case"getEtherPrice":return"homestead"!==this.network.name?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return r.perform.call(this,e,t)}))}getHistory(e,t,r){return I(this,void 0,void 0,(function*(){const n={action:"txlist",address:yield this.resolveName(e),startblock:null==t?0:t,endblock:null==r?99999999:r,sort:"asc"};return(yield this.fetch("account",n)).map((e=>{["contractAddress","to"].forEach((function(t){""==e[t]&&delete e[t]})),null==e.creates&&null!=e.contractAddress&&(e.creates=e.contractAddress);const t=this.formatter.transactionResponse(e);return e.timeStamp&&(t.timestamp=parseInt(e.timeStamp)),t}))}))}isCommunityResource(){return null==this.apiKey}}var M=function(e,t,r,n){return new(r||(r=Promise))((function(s,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))};const K=new u.Logger(h.i);function V(){return(new Date).getTime()}function q(e){let t=null;for(let r=0;r<e.length;r++){const n=e[r];if(null==n)return null;t?t.name===n.name&&t.chainId===n.chainId&&(t.ensAddress===n.ensAddress||null==t.ensAddress&&null==n.ensAddress)||K.throwArgumentError("provider mismatch","networks",e):t=n}return t}function J(e,t){e=e.slice().sort();const r=Math.floor(e.length/2);if(e.length%2)return e[r];const n=e[r-1],s=e[r];return null!=t&&Math.abs(n-s)>t?null:(n+s)/2}function W(e){if(null===e)return"null";if("number"==typeof e||"boolean"==typeof e)return JSON.stringify(e);if("string"==typeof e)return e;if(c.O$.isBigNumber(e))return e.toString();if(Array.isArray(e))return JSON.stringify(e.map((e=>W(e))));if("object"==typeof e){const t=Object.keys(e);return t.sort(),"{"+t.map((t=>{let r=e[t];return r="function"==typeof r?"[function]":W(r),JSON.stringify(t)+":"+r})).join(",")+"}"}throw new Error("unknown value type: "+typeof e)}let H=1;function Z(e){let t=null,r=null,n=new Promise((n=>{t=function(){r&&(clearTimeout(r),r=null),n()},r=setTimeout(t,e)}));return{cancel:t,getPromise:function(){return n},wait:e=>(n=n.then(e),n)}}const X=[u.Logger.errors.CALL_EXCEPTION,u.Logger.errors.INSUFFICIENT_FUNDS,u.Logger.errors.NONCE_EXPIRED,u.Logger.errors.REPLACEMENT_UNDERPRICED,u.Logger.errors.UNPREDICTABLE_GAS_LIMIT],Q=["address","args","errorArgs","errorSignature","method","transaction"];function Y(e,t){const r={weight:e.weight};return Object.defineProperty(r,"provider",{get:()=>e.provider}),e.start&&(r.start=e.start),t&&(r.duration=t-e.start),e.done&&(e.error?r.error=e.error:r.result=e.result||null),r}function ee(e,t,r){let n=W;switch(t){case"getBlockNumber":return function(t){const r=t.map((e=>e.result));let n=J(t.map((e=>e.result)),2);if(null!=n)return n=Math.ceil(n),r.indexOf(n+1)>=0&&n++,n>=e._highestBlockNumber&&(e._highestBlockNumber=n),e._highestBlockNumber};case"getGasPrice":return function(e){const t=e.map((e=>e.result));return t.sort(),t[Math.floor(t.length/2)]};case"getEtherPrice":return function(e){return J(e.map((e=>e.result)))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(e){return null==e?null:((e=(0,i.DC)(e)).confirmations=-1,W(e))};break;case"getBlock":n=r.includeTransactions?function(e){return null==e?null:((e=(0,i.DC)(e)).transactions=e.transactions.map((e=>((e=(0,i.DC)(e)).confirmations=-1,e))),W(e))}:function(e){return null==e?null:W(e)};break;default:throw new Error("unknown method: "+t)}return function(e,t){return function(r){const n={};r.forEach((t=>{const r=e(t.result);n[r]||(n[r]={count:0,result:t.result}),n[r].count++}));const s=Object.keys(n);for(let e=0;e<s.length;e++){const r=n[s[e]];if(r.count>=t)return r.result}}}(n,e.quorum)}function te(e,t){return M(this,void 0,void 0,(function*(){const r=e.provider;return null!=r.blockNumber&&r.blockNumber>=t||-1===t?r:(0,z.$l)((()=>new Promise(((n,s)=>{setTimeout((function(){return r.blockNumber>=t?n(r):e.cancelled?n(null):n(void 0)}),0)}))),{oncePoll:r})}))}function re(e,t,r,n){return M(this,void 0,void 0,(function*(){let s=e.provider;switch(r){case"getBlockNumber":case"getGasPrice":return s[r]();case"getEtherPrice":if(s.getEtherPrice)return s.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return n.blockTag&&(0,L.A7)(n.blockTag)&&(s=yield te(e,t)),s[r](n.address,n.blockTag||"latest");case"getStorageAt":return n.blockTag&&(0,L.A7)(n.blockTag)&&(s=yield te(e,t)),s.getStorageAt(n.address,n.position,n.blockTag||"latest");case"getBlock":return n.blockTag&&(0,L.A7)(n.blockTag)&&(s=yield te(e,t)),s[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash);case"call":case"estimateGas":return n.blockTag&&(0,L.A7)(n.blockTag)&&(s=yield te(e,t)),"call"===r&&n.blockTag?s[r](n.transaction,n.blockTag):s[r](n.transaction);case"getTransaction":case"getTransactionReceipt":return s[r](n.transactionHash);case"getLogs":{let r=n.filter;return(r.fromBlock&&(0,L.A7)(r.fromBlock)||r.toBlock&&(0,L.A7)(r.toBlock))&&(s=yield te(e,t)),s.getLogs(r)}}return K.throwError("unknown method error",u.Logger.errors.UNKNOWN_ERROR,{method:r,params:n})}))}class ne extends o.Zk{constructor(e,t){0===e.length&&K.throwArgumentError("missing providers","providers",e);const r=e.map(((e,t)=>{if(n.zt.isProvider(e)){const t=(0,a.Gp)(e)?2e3:750,r=1;return Object.freeze({provider:e,weight:1,stallTimeout:t,priority:r})}const r=(0,i.DC)(e);null==r.priority&&(r.priority=1),null==r.stallTimeout&&(r.stallTimeout=(0,a.Gp)(e)?2e3:750),null==r.weight&&(r.weight=1);const s=r.weight;return(s%1||s>512||s<1)&&K.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${t}].weight`,s),Object.freeze(r)})),s=r.reduce(((e,t)=>e+t.weight),0);null==t?t=s/2:t>s&&K.throwArgumentError("quorum will always fail; larger than total weight","quorum",t);let o=q(r.map((e=>e.provider.network)));null==o&&(o=new Promise(((e,t)=>{setTimeout((()=>{this.detectNetwork().then(e,t)}),0)}))),super(o),(0,i.zG)(this,"providerConfigs",Object.freeze(r)),(0,i.zG)(this,"quorum",t),this._highestBlockNumber=-1}detectNetwork(){return M(this,void 0,void 0,(function*(){return q(yield Promise.all(this.providerConfigs.map((e=>e.provider.getNetwork()))))}))}perform(e,t){return M(this,void 0,void 0,(function*(){if("sendTransaction"===e){const e=yield Promise.all(this.providerConfigs.map((e=>e.provider.sendTransaction(t.signedTransaction).then((e=>e.hash),(e=>e)))));for(let t=0;t<e.length;t++){const r=e[t];if("string"==typeof r)return r}throw e[0]}-1===this._highestBlockNumber&&"getBlockNumber"!==e&&(yield this.getBlockNumber());const r=ee(this,e,t),n=function(e){for(let t=(e=e.slice()).length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}(this.providerConfigs.map(i.DC));n.sort(((e,t)=>e.priority-t.priority));const s=this._highestBlockNumber;let o=0,a=!0;for(;;){const c=V();let l=n.filter((e=>e.runner&&c-e.start<e.stallTimeout)).reduce(((e,t)=>e+t.weight),0);for(;l<this.quorum&&o<n.length;){const r=n[o++],a=H++;r.start=V(),r.staller=Z(r.stallTimeout),r.staller.wait((()=>{r.staller=null})),r.runner=re(r,s,e,t).then((n=>{r.done=!0,r.result=n,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:a,backend:Y(r,V()),request:{method:e,params:(0,i.p$)(t)},provider:this})}),(n=>{r.done=!0,r.error=n,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:a,backend:Y(r,V()),request:{method:e,params:(0,i.p$)(t)},provider:this})})),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:a,backend:Y(r,null),request:{method:e,params:(0,i.p$)(t)},provider:this}),l+=r.weight}const u=[];n.forEach((e=>{!e.done&&e.runner&&(u.push(e.runner),e.staller&&u.push(e.staller.getPromise()))})),u.length&&(yield Promise.race(u));const h=n.filter((e=>e.done&&null==e.error));if(h.length>=this.quorum){const e=r(h);if(void 0!==e)return n.forEach((e=>{e.staller&&e.staller.cancel(),e.cancelled=!0})),e;a||(yield Z(100).getPromise()),a=!1}const d=n.reduce(((e,t)=>{if(!t.done||null==t.error)return e;const r=t.error.code;return X.indexOf(r)>=0&&(e[r]||(e[r]={error:t.error,weight:0}),e[r].weight+=t.weight),e}),{});if(Object.keys(d).forEach((e=>{const t=d[e];if(t.weight<this.quorum)return;n.forEach((e=>{e.staller&&e.staller.cancel(),e.cancelled=!0}));const r=t.error,s={};Q.forEach((e=>{null!=r[e]&&(s[e]=r[e])})),K.throwError(r.reason||r.message,e,s)})),0===n.filter((e=>!e.done)).length)break}return n.forEach((e=>{e.staller&&e.staller.cancel(),e.cancelled=!0})),K.throwError("failed to meet quorum",u.Logger.errors.SERVER_ERROR,{method:e,params:t,results:n.map((e=>Y(e))),provider:this})}))}}const se=null,oe=new u.Logger(h.i),ie="84842078b09946638c03157f83405213";class ae extends f{constructor(e,t){const r=new ce(e,t),n=r.connection;n.password&&oe.throwError("INFURA WebSocket project secrets unsupported",u.Logger.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});super(n.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/"),e),(0,i.zG)(this,"apiKey",r.projectId),(0,i.zG)(this,"projectId",r.projectId),(0,i.zG)(this,"projectSecret",r.projectSecret)}isCommunityResource(){return this.projectId===ie}}class ce extends b{static getWebSocketProvider(e,t){return new ae(e,t)}static getApiKey(e){const t={apiKey:ie,projectId:ie,projectSecret:null};return null==e||("string"==typeof e?t.projectId=e:null!=e.projectSecret?(oe.assertArgument("string"==typeof e.projectId,"projectSecret requires a projectId","projectId",e.projectId),oe.assertArgument("string"==typeof e.projectSecret,"invalid projectSecret","projectSecret","[REDACTED]"),t.projectId=e.projectId,t.projectSecret=e.projectSecret):e.projectId&&(t.projectId=e.projectId),t.apiKey=t.projectId),t}static getUrl(e,t){let r=null;switch(e?e.name:"unknown"){case"homestead":r="mainnet.infura.io";break;case"goerli":r="goerli.infura.io";break;case"sepolia":r="sepolia.infura.io";break;case"matic":r="polygon-mainnet.infura.io";break;case"maticmum":r="polygon-mumbai.infura.io";break;case"optimism":r="optimism-mainnet.infura.io";break;case"optimism-goerli":r="optimism-goerli.infura.io";break;case"arbitrum":r="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":r="arbitrum-goerli.infura.io";break;default:oe.throwError("unsupported network",u.Logger.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const n={allowGzip:!0,url:"https://"+r+"/v3/"+t.projectId,throttleCallback:(e,r)=>(t.projectId===ie&&(0,a.vh)(),Promise.resolve(!0))};return null!=t.projectSecret&&(n.user="",n.password=t.projectSecret),n}isCommunityResource(){return this.projectId===ie}}class le extends l.r{send(e,t){const r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};null==this._pendingBatch&&(this._pendingBatch=[]);const n={request:r,resolve:null,reject:null},s=new Promise(((e,t)=>{n.resolve=e,n.reject=t}));return this._pendingBatch.push(n),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout((()=>{const e=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;const t=e.map((e=>e.request));return this.emit("debug",{action:"requestBatch",request:(0,i.p$)(t),provider:this}),(0,z.rd)(this.connection,JSON.stringify(t)).then((r=>{this.emit("debug",{action:"response",request:t,response:r,provider:this}),e.forEach(((e,t)=>{const n=r[t];if(n.error){const t=new Error(n.error.message);t.code=n.error.code,t.data=n.error.data,e.reject(t)}else e.resolve(n.result)}))}),(r=>{this.emit("debug",{action:"response",error:r,request:t,provider:this}),e.forEach((e=>{e.reject(r)}))}))}),10)),s}}const ue=new u.Logger(h.i);class he extends b{static getApiKey(e){return e&&"string"!=typeof e&&ue.throwArgumentError("invalid apiKey","apiKey",e),e||"ETHERS_JS_SHARED"}static getUrl(e,t){ue.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let r=null;switch(e.name){case"homestead":r="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":r="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":r="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":r="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":r="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:ue.throwArgumentError("unsupported network","network",arguments[0])}return r+"?apiKey="+t}}const de=new u.Logger(h.i),pe="62e1ad51b37b8e00394bda3b";class ge extends b{static getApiKey(e){const t={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return null==e?t.applicationId=pe:"string"==typeof e?t.applicationId=e:null!=e.applicationSecretKey?(t.applicationId=e.applicationId,t.applicationSecretKey=e.applicationSecretKey):e.applicationId?t.applicationId=e.applicationId:de.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),t}static getUrl(e,t){let r=null;switch(e?e.name:"unknown"){case"goerli":r="eth-goerli.gateway.pokt.network";break;case"homestead":r="eth-mainnet.gateway.pokt.network";break;case"kovan":r="poa-kovan.gateway.pokt.network";break;case"matic":r="poly-mainnet.gateway.pokt.network";break;case"maticmum":r="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":r="eth-rinkeby.gateway.pokt.network";break;case"ropsten":r="eth-ropsten.gateway.pokt.network";break;default:de.throwError("unsupported network",u.Logger.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const n={headers:{},url:`https://${r}/v1/lb/${t.applicationId}`};return null!=t.applicationSecretKey&&(n.user="",n.password=t.applicationSecretKey),n}isCommunityResource(){return this.applicationId===pe}}var me=r(241);const fe=new u.Logger(h.i);function ye(e,t){if(null==e&&(e="homestead"),"string"==typeof e){const t=e.match(/^(ws|http)s?:/i);if(t)switch(t[1].toLowerCase()){case"http":case"https":return new l.r(e);case"ws":case"wss":return new f(e);default:fe.throwArgumentError("unsupported URL scheme","network",e)}}const r=(0,s.H)(e);return r&&r._defaultProvider||fe.throwError("unsupported getDefaultProvider network",u.Logger.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:e}),r._defaultProvider({FallbackProvider:ne,AlchemyProvider:P,AnkrProvider:T,CloudflareProvider:x,EtherscanProvider:$,InfuraProvider:ce,JsonRpcProvider:l.r,NodesmithProvider:he,PocketProvider:ge,Web3Provider:me.Q,IpcProvider:se},t)}}}]);